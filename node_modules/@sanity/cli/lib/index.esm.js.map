{"version":3,"file":"index.esm.js","sources":["../src/config.ts","../../../../node_modules/object-assign/index.js","../../../../node_modules/rxjs/internal/util/isFunction.js","../../../../node_modules/rxjs/internal/config.js","../../../../node_modules/rxjs/internal/util/hostReportError.js","../../../../node_modules/rxjs/internal/Observer.js","../../../../node_modules/rxjs/internal/util/isArray.js","../../../../node_modules/rxjs/internal/util/isObject.js","../../../../node_modules/rxjs/internal/util/UnsubscriptionError.js","../../../../node_modules/rxjs/internal/Subscription.js","../../../../node_modules/rxjs/internal/symbol/rxSubscriber.js","../../../../node_modules/rxjs/internal/Subscriber.js","../../../../node_modules/rxjs/internal/util/canReportError.js","../../../../node_modules/rxjs/internal/util/toSubscriber.js","../../../../node_modules/rxjs/internal/symbol/observable.js","../../../../node_modules/rxjs/internal/util/identity.js","../../../../node_modules/rxjs/internal/util/pipe.js","../../../../node_modules/rxjs/internal/Observable.js","../../../../node_modules/rxjs/internal/operators/filter.js","../../../../node_modules/rxjs/internal/operators/map.js","../../../../node_modules/@sanity/client/lib/util/observable.js","../../../../node_modules/@sanity/client/lib/util/getSelection.js","../../../../node_modules/@sanity/client/lib/validators.js","../../../../node_modules/@sanity/client/lib/data/patch.js","../../../../node_modules/@sanity/client/lib/data/transaction.js","../../../../node_modules/@sanity/client/lib/data/encodeQueryString.js","../../../../node_modules/eventsource/lib/eventsource.js","../../../../node_modules/@sanity/client/node_modules/@sanity/eventsource/node.js","../../../../node_modules/@sanity/client/lib/util/pick.js","../../../../node_modules/@sanity/client/lib/util/defaults.js","../../../../node_modules/@sanity/client/lib/data/listen.js","../../../../node_modules/@sanity/client/lib/data/dataMethods.js","../../../../node_modules/@sanity/client/lib/datasets/datasetsClient.js","../../../../node_modules/@sanity/client/lib/projects/projectsClient.js","../../../../node_modules/@sanity/client/lib/http/queryString.js","../../../../node_modules/@sanity/client/lib/assets/assetsClient.js","../../../../node_modules/@sanity/client/lib/users/usersClient.js","../../../../node_modules/@sanity/client/lib/auth/authClient.js","../../../../node_modules/make-error/index.js","../../../../node_modules/@sanity/client/lib/http/errors.js","../../../../node_modules/@sanity/client/lib/http/nodeMiddleware.js","../../../../node_modules/@sanity/client/lib/http/request.js","../../../../node_modules/@sanity/client/lib/http/requestOptions.js","../../../../node_modules/@sanity/client/lib/generateHelpUrl.js","../../../../node_modules/@sanity/client/lib/util/once.js","../../../../node_modules/@sanity/client/lib/warnings.js","../../../../node_modules/@sanity/client/lib/config.js","../../../../node_modules/@sanity/client/lib/sanityClient.js","../src/util/dynamicRequire.ts","../src/util/getCliConfig.ts","../../../../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../../../../node_modules/has-flag/index.js","../../../../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../src/debug.ts","../src/util/resolveRootDir.ts","../src/cliClient.ts"],"sourcesContent":["import type {CliConfig} from './types'\n\n/** @beta */\nexport function defineCliConfig(config: CliConfig): CliConfig {\n  return config\n}\n\n/**\n * @deprecated Use `defineCliConfig` instead\n * @beta\n */\nexport function createCliConfig(config: CliConfig): CliConfig {\n  return config\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n//# sourceMappingURL=hostReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n//# sourceMappingURL=canReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\n\n//  Since `@sanity/client` doesn't offer ESM exports (yet) const {filter} = require('rxjs/operators') will cause the the whole of rxjs to be included in the bundle.\n//  The internal import paths here is a stop-gap measure and will become less of a problem when @sanity/client export tree-shakeable esm bundles\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('rxjs/internal/operators/filter'),\n    filter = _require2.filter;\n\nvar _require3 = require('rxjs/internal/operators/map'),\n    map = _require3.map;\n\nmodule.exports = {\n  Observable: Observable,\n  filter: filter,\n  map: map\n};","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return 'params' in sel ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};\n\nexports.requestTag = function (tag) {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n\n  return tag;\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar _excluded = [\"tag\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n\n  // We generally want tag at the start of the query string\n  var tag = options.tag,\n      opts = _objectWithoutProperties(options, _excluded);\n\n  var q = \"query=\".concat(enc(query));\n  var base = tag ? \"?tag=\".concat(enc(tag), \"&\").concat(q) : \"?\".concat(q);\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(opts).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","var parse = require('url').parse\nvar events = require('events')\nvar https = require('https')\nvar http = require('http')\nvar util = require('util')\n\nvar httpsOptions = [\n  'pfx', 'key', 'passphrase', 'cert', 'ca', 'ciphers',\n  'rejectUnauthorized', 'secureProtocol', 'servername', 'checkServerIdentity'\n]\n\nvar bom = [239, 187, 191]\nvar colon = 58\nvar space = 32\nvar lineFeed = 10\nvar carriageReturn = 13\n// Beyond 256KB we could not observe any gain in performance\nvar maxBufferAheadAllocation = 1024 * 256\n// Headers matching the pattern should be removed when redirecting to different origin\nvar reUnsafeHeader = /^(cookie|authorization)$/i\n\nfunction hasBom (buf) {\n  return bom.every(function (charCode, index) {\n    return buf[index] === charCode\n  })\n}\n\n/**\n * Creates a new EventSource object\n *\n * @param {String} url the URL to which to connect\n * @param {Object} [eventSourceInitDict] extra init params. See README for details.\n * @api public\n **/\nfunction EventSource (url, eventSourceInitDict) {\n  var readyState = EventSource.CONNECTING\n  var headers = eventSourceInitDict && eventSourceInitDict.headers\n  var hasNewOrigin = false\n  Object.defineProperty(this, 'readyState', {\n    get: function () {\n      return readyState\n    }\n  })\n\n  Object.defineProperty(this, 'url', {\n    get: function () {\n      return url\n    }\n  })\n\n  var self = this\n  self.reconnectInterval = 1000\n  self.connectionInProgress = false\n\n  function onConnectionClosed (message) {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CONNECTING\n    _emit('error', new Event('error', {message: message}))\n\n    // The url may have been changed by a temporary redirect. If that's the case,\n    // revert it now, and flag that we are no longer pointing to a new origin\n    if (reconnectUrl) {\n      url = reconnectUrl\n      reconnectUrl = null\n      hasNewOrigin = false\n    }\n    setTimeout(function () {\n      if (readyState !== EventSource.CONNECTING || self.connectionInProgress) {\n        return\n      }\n      self.connectionInProgress = true\n      connect()\n    }, self.reconnectInterval)\n  }\n\n  var req\n  var lastEventId = ''\n  if (headers && headers['Last-Event-ID']) {\n    lastEventId = headers['Last-Event-ID']\n    delete headers['Last-Event-ID']\n  }\n\n  var discardTrailingNewline = false\n  var data = ''\n  var eventName = ''\n\n  var reconnectUrl = null\n\n  function connect () {\n    var options = parse(url)\n    var isSecure = options.protocol === 'https:'\n    options.headers = { 'Cache-Control': 'no-cache', 'Accept': 'text/event-stream' }\n    if (lastEventId) options.headers['Last-Event-ID'] = lastEventId\n    if (headers) {\n      var reqHeaders = hasNewOrigin ? removeUnsafeHeaders(headers) : headers\n      for (var i in reqHeaders) {\n        var header = reqHeaders[i]\n        if (header) {\n          options.headers[i] = header\n        }\n      }\n    }\n\n    // Legacy: this should be specified as `eventSourceInitDict.https.rejectUnauthorized`,\n    // but for now exists as a backwards-compatibility layer\n    options.rejectUnauthorized = !(eventSourceInitDict && !eventSourceInitDict.rejectUnauthorized)\n\n    if (eventSourceInitDict && eventSourceInitDict.createConnection !== undefined) {\n      options.createConnection = eventSourceInitDict.createConnection\n    }\n\n    // If specify http proxy, make the request to sent to the proxy server,\n    // and include the original url in path and Host headers\n    var useProxy = eventSourceInitDict && eventSourceInitDict.proxy\n    if (useProxy) {\n      var proxy = parse(eventSourceInitDict.proxy)\n      isSecure = proxy.protocol === 'https:'\n\n      options.protocol = isSecure ? 'https:' : 'http:'\n      options.path = url\n      options.headers.Host = options.host\n      options.hostname = proxy.hostname\n      options.host = proxy.host\n      options.port = proxy.port\n    }\n\n    // If https options are specified, merge them into the request options\n    if (eventSourceInitDict && eventSourceInitDict.https) {\n      for (var optName in eventSourceInitDict.https) {\n        if (httpsOptions.indexOf(optName) === -1) {\n          continue\n        }\n\n        var option = eventSourceInitDict.https[optName]\n        if (option !== undefined) {\n          options[optName] = option\n        }\n      }\n    }\n\n    // Pass this on to the XHR\n    if (eventSourceInitDict && eventSourceInitDict.withCredentials !== undefined) {\n      options.withCredentials = eventSourceInitDict.withCredentials\n    }\n\n    req = (isSecure ? https : http).request(options, function (res) {\n      self.connectionInProgress = false\n      // Handle HTTP errors\n      if (res.statusCode === 500 || res.statusCode === 502 || res.statusCode === 503 || res.statusCode === 504) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        onConnectionClosed()\n        return\n      }\n\n      // Handle HTTP redirects\n      if (res.statusCode === 301 || res.statusCode === 302 || res.statusCode === 307) {\n        var location = res.headers.location\n        if (!location) {\n          // Server sent redirect response without Location header.\n          _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n          return\n        }\n        var prevOrigin = new URL(url).origin\n        var nextOrigin = new URL(location).origin\n        hasNewOrigin = prevOrigin !== nextOrigin\n        if (res.statusCode === 307) reconnectUrl = url\n        url = location\n        process.nextTick(connect)\n        return\n      }\n\n      if (res.statusCode !== 200) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        return self.close()\n      }\n\n      readyState = EventSource.OPEN\n      res.on('close', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n\n      res.on('end', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n      _emit('open', new Event('open'))\n\n      // text/event-stream parser adapted from webkit's\n      // Source/WebCore/page/EventSource.cpp\n      var buf\n      var newBuffer\n      var startingPos = 0\n      var startingFieldLength = -1\n      var newBufferSize = 0\n      var bytesUsed = 0\n\n      res.on('data', function (chunk) {\n        if (!buf) {\n          buf = chunk\n          if (hasBom(buf)) {\n            buf = buf.slice(bom.length)\n          }\n          bytesUsed = buf.length\n        } else {\n          if (chunk.length > buf.length - bytesUsed) {\n            newBufferSize = (buf.length * 2) + chunk.length\n            if (newBufferSize > maxBufferAheadAllocation) {\n              newBufferSize = buf.length + chunk.length + maxBufferAheadAllocation\n            }\n            newBuffer = Buffer.alloc(newBufferSize)\n            buf.copy(newBuffer, 0, 0, bytesUsed)\n            buf = newBuffer\n          }\n          chunk.copy(buf, bytesUsed)\n          bytesUsed += chunk.length\n        }\n\n        var pos = 0\n        var length = bytesUsed\n\n        while (pos < length) {\n          if (discardTrailingNewline) {\n            if (buf[pos] === lineFeed) {\n              ++pos\n            }\n            discardTrailingNewline = false\n          }\n\n          var lineLength = -1\n          var fieldLength = startingFieldLength\n          var c\n\n          for (var i = startingPos; lineLength < 0 && i < length; ++i) {\n            c = buf[i]\n            if (c === colon) {\n              if (fieldLength < 0) {\n                fieldLength = i - pos\n              }\n            } else if (c === carriageReturn) {\n              discardTrailingNewline = true\n              lineLength = i - pos\n            } else if (c === lineFeed) {\n              lineLength = i - pos\n            }\n          }\n\n          if (lineLength < 0) {\n            startingPos = length - pos\n            startingFieldLength = fieldLength\n            break\n          } else {\n            startingPos = 0\n            startingFieldLength = -1\n          }\n\n          parseEventStreamLine(buf, pos, fieldLength, lineLength)\n\n          pos += lineLength + 1\n        }\n\n        if (pos === length) {\n          buf = void 0\n          bytesUsed = 0\n        } else if (pos > 0) {\n          buf = buf.slice(pos, bytesUsed)\n          bytesUsed = buf.length\n        }\n      })\n    })\n\n    req.on('error', function (err) {\n      self.connectionInProgress = false\n      onConnectionClosed(err.message)\n    })\n\n    if (req.setNoDelay) req.setNoDelay(true)\n    req.end()\n  }\n\n  connect()\n\n  function _emit () {\n    if (self.listeners(arguments[0]).length > 0) {\n      self.emit.apply(self, arguments)\n    }\n  }\n\n  this._close = function () {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CLOSED\n    if (req.abort) req.abort()\n    if (req.xhr && req.xhr.abort) req.xhr.abort()\n  }\n\n  function parseEventStreamLine (buf, pos, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        var type = eventName || 'message'\n        _emit(type, new MessageEvent(type, {\n          data: data.slice(0, -1), // remove trailing newline\n          lastEventId: lastEventId,\n          origin: new URL(url).origin\n        }))\n        data = ''\n      }\n      eventName = void 0\n    } else if (fieldLength > 0) {\n      var noValue = fieldLength < 0\n      var step = 0\n      var field = buf.slice(pos, pos + (noValue ? lineLength : fieldLength)).toString()\n\n      if (noValue) {\n        step = lineLength\n      } else if (buf[pos + fieldLength + 1] !== space) {\n        step = fieldLength + 1\n      } else {\n        step = fieldLength + 2\n      }\n      pos += step\n\n      var valueLength = lineLength - step\n      var value = buf.slice(pos, pos + valueLength).toString()\n\n      if (field === 'data') {\n        data += value + '\\n'\n      } else if (field === 'event') {\n        eventName = value\n      } else if (field === 'id') {\n        lastEventId = value\n      } else if (field === 'retry') {\n        var retry = parseInt(value, 10)\n        if (!Number.isNaN(retry)) {\n          self.reconnectInterval = retry\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventSource\n\nutil.inherits(EventSource, events.EventEmitter)\nEventSource.prototype.constructor = EventSource; // make stacktraces readable\n\n['open', 'error', 'message'].forEach(function (method) {\n  Object.defineProperty(EventSource.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    get: function get () {\n      var listener = this.listeners(method)[0]\n      return listener ? (listener._listener ? listener._listener : listener) : undefined\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    set: function set (listener) {\n      this.removeAllListeners(method)\n      this.addEventListener(method, listener)\n    }\n  })\n})\n\n/**\n * Ready states\n */\nObject.defineProperty(EventSource, 'CONNECTING', {enumerable: true, value: 0})\nObject.defineProperty(EventSource, 'OPEN', {enumerable: true, value: 1})\nObject.defineProperty(EventSource, 'CLOSED', {enumerable: true, value: 2})\n\nEventSource.prototype.CONNECTING = 0\nEventSource.prototype.OPEN = 1\nEventSource.prototype.CLOSED = 2\n\n/**\n * Closes the connection, if one is made, and sets the readyState attribute to 2 (closed)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventSource/close\n * @api public\n */\nEventSource.prototype.close = function () {\n  this._close()\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @param {String} type A string representing the event type to listen out for\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.addEventListener = function addEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    // store a reference so we can return the original function again\n    listener._listener = listener\n    this.on(type, listener)\n  }\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using dispatchEvent.\n *\n * @param {Event} event An event to be dispatched\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n * @api public\n */\nEventSource.prototype.dispatchEvent = function dispatchEvent (event) {\n  if (!event.type) {\n    throw new Error('UNSPECIFIED_EVENT_TYPE_ERR')\n  }\n  // if event is instance of an CustomEvent (or has 'details' property),\n  // send the detail object as the payload for the event\n  this.emit(event.type, event.detail)\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using removeEventListener.\n *\n * @param {String} type A string representing the event type to remove\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.removeEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.removeEventListener = function removeEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    listener._listener = undefined\n    this.removeListener(type, listener)\n  }\n}\n\n/**\n * W3C Event\n *\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#interface-Event\n * @api private\n */\nfunction Event (type, optionalProperties) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  if (optionalProperties) {\n    for (var f in optionalProperties) {\n      if (optionalProperties.hasOwnProperty(f)) {\n        Object.defineProperty(this, f, { writable: false, value: optionalProperties[f], enumerable: true })\n      }\n    }\n  }\n}\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/webmessaging/#event-definitions\n * @api private\n */\nfunction MessageEvent (type, eventInitDict) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  for (var f in eventInitDict) {\n    if (eventInitDict.hasOwnProperty(f)) {\n      Object.defineProperty(this, f, { writable: false, value: eventInitDict[f], enumerable: true })\n    }\n  }\n}\n\n/**\n * Returns a new object of headers that does not include any authorization and cookie headers\n *\n * @param {Object} headers An object of headers ({[headerName]: headerValue})\n * @return {Object} a new object of headers\n * @api private\n */\nfunction removeUnsafeHeaders (headers) {\n  var safe = {}\n  for (var key in headers) {\n    if (reUnsafeHeader.test(key)) {\n      continue\n    }\n\n    safe[key] = headers[key]\n  }\n\n  return safe\n}\n","module.exports = require('eventsource')\n","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync',\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate';\n    var isQuery = endpoint === 'query'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token,\n        tag = options.tag,\n        headers = options.headers;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      headers: headers,\n      token: token,\n      tag: tag,\n      canUseCdn: isQuery\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var tag = options.tag,\n        label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      tag: tag,\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body.document;\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nvar retry = require('get-it/lib-node/middleware/retry');\n\nvar debug = require('get-it/lib-node/middleware/debug');\n\nvar headers = require('get-it/lib-node/middleware/headers');\n\nvar pkg = require('../../package.json');\n\nvar middleware = [debug({\n  verbose: true,\n  namespace: 'sanity:client'\n}), headers({\n  'User-Agent': \"\".concat(pkg.name, \" \").concat(pkg.version)\n}), retry({\n  maxRetries: 3\n})];\nmodule.exports = middleware;","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('./errors'),\n    ClientError = _require2.ClientError,\n    ServerError = _require2.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n};\nvar printWarnings = {\n  onResponse: function onResponse(res) {\n    var warn = res.headers['x-sanity-warning'];\n    var warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(function (msg) {\n      return console.warn(msg);\n    }); // eslint-disable-line no-console\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nvar BASE_URL = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return BASE_URL + slug;\n};","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar once = require('./util/once');\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return (// eslint-disable-next-line no-console\n    once(function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).warn.apply(_console, [message.join(' ')].concat(args));\n    })\n  );\n};\n\nexports.printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nexports.printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nexports.printNoApiVersionSpecifiedWarning = createWarningPrinter(['Using the Sanity client without specifying an API version is deprecated.', \"See \".concat(generateHelpUrl('js-client-api-version'))]);","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.clientConfig && this.clientConfig.allowReconfigure === false) {\n      throw new Error('Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client');\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return new SanityClient(_objectSpread(_objectSpread({}, this.config()), newConfig));\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","// Prevent webpack from bundling in webpack context,\n// use regular node require for unbundled context\n\n/* eslint-disable camelcase, no-undef */\ndeclare const __webpack_require__: boolean\ndeclare const __non_webpack_require__: typeof require\n\nconst requireFunc: typeof require =\n  typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require\n/* eslint-enable camelcase, no-undef */\n\nexport function dynamicRequire<T = any>(request: string): T {\n  const mod = requireFunc(request)\n  return mod.__esModule && mod.default ? mod.default : mod\n}\n\ndynamicRequire.resolve = requireFunc.resolve\n","/* eslint-disable no-sync */\n\n/**\n * Reads the Sanity CLI config from one of the following files (in preferred order):\n *   - sanity.cli.js\n *   - sanity.cli.ts\n *\n * Note: There are two ways of using this:\n * a) `getCliConfig(cwd)`\n * b) `getCliConfig(cwd, {forked: true})`\n *\n * Approach a is generally a bit faster as it avoids the forking startup time, while\n * approach b could be considered \"safer\" since any side-effects of running the config\n * file will not bleed into the current CLI process directly.\n */\nimport path from 'path'\nimport fs from 'fs'\nimport {Worker} from 'worker_threads'\nimport {register} from 'esbuild-register/dist/node'\nimport type {CliConfig, SanityJson} from '../types'\nimport {dynamicRequire} from './dynamicRequire'\nimport {getCliWorkerPath} from './cliWorker'\n\nexport type CliMajorVersion = 2 | 3\n\nexport type CliConfigResult =\n  | {config: SanityJson; path: string; version: 2}\n  | {config: CliConfig; path: string; version: 3}\n  | {config: null; path: string; version: CliMajorVersion}\n\nexport async function getCliConfig(\n  cwd: string,\n  {forked}: {forked?: boolean} = {}\n): Promise<CliConfigResult | null> {\n  if (forked) {\n    try {\n      return await getCliConfigForked(cwd)\n    } catch (err) {\n      // Intentional noop - try unforked variant\n    }\n  }\n\n  const {unregister} = register()\n\n  try {\n    const v3Config = getSanityCliConfig(cwd)\n    if (v3Config) {\n      return v3Config\n    }\n\n    return getSanityJsonConfig(cwd)\n  } catch (err) {\n    throw err\n  } finally {\n    unregister()\n  }\n}\n\nexport function getCliConfigSync(cwd: string): CliConfigResult | null {\n  const v3Config = getSanityCliConfig(cwd)\n  return v3Config ? v3Config : getSanityJsonConfig(cwd)\n}\n\nasync function getCliConfigForked(cwd: string): Promise<CliConfigResult | null> {\n  const workerPath = await getCliWorkerPath('getCliConfig')\n  return new Promise((resolve, reject) => {\n    const worker = new Worker(workerPath, {workerData: cwd})\n    worker.on('message', (message) => {\n      if (message.type === 'config') {\n        resolve(message.config)\n      } else {\n        const error = new Error(message.error)\n        ;(error as any).type = message.errorType\n        reject(new Error(message.error))\n      }\n    })\n    worker.on('error', reject)\n    worker.on('exit', (code) => {\n      if (code !== 0) {\n        reject(new Error(`Worker stopped with exit code ${code}`))\n      }\n    })\n  })\n}\n\nfunction getSanityJsonConfig(cwd: string): CliConfigResult | null {\n  const configPath = path.join(cwd, 'sanity.json')\n\n  if (!fs.existsSync(configPath)) {\n    return null\n  }\n\n  return {\n    config: loadJsonConfig(configPath),\n    path: configPath,\n    version: 2,\n  }\n}\n\nfunction getSanityCliConfig(cwd: string): CliConfigResult | null {\n  const jsConfigPath = path.join(cwd, 'sanity.cli.js')\n  const tsConfigPath = path.join(cwd, 'sanity.cli.ts')\n\n  const [js, ts] = [fs.existsSync(jsConfigPath), fs.existsSync(tsConfigPath)]\n\n  if (!js && !ts) {\n    return null\n  }\n\n  if (!js && ts) {\n    return {\n      config: importConfig(tsConfigPath),\n      path: tsConfigPath,\n      version: 3,\n    }\n  }\n\n  if (js && ts) {\n    warn('Found both `sanity.cli.js` and `sanity.cli.ts` - using sanity.cli.js')\n  }\n\n  return {\n    config: importConfig(jsConfigPath),\n    path: jsConfigPath,\n    version: 3,\n  }\n}\n\nfunction loadJsonConfig(filePath: string): SanityJson | null {\n  try {\n    const content = fs.readFileSync(filePath, 'utf8')\n    return JSON.parse(content)\n  } catch (err) {\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction importConfig(filePath: string): CliConfig | null {\n  try {\n    const config = dynamicRequire<CliConfig | {default: CliConfig} | null>(filePath)\n    if (config === null || typeof config !== 'object') {\n      throw new Error('Module export is not a configuration object')\n    }\n\n    return 'default' in config ? config.default : config\n  } catch (err) {\n    // If attempting to import `defineCliConfig` or similar from `sanity/cli`,\n    // accept the fact that it might not be installed. Instead, let the CLI\n    // give a warning about the `sanity` module not being installed\n    if (err.code === 'MODULE_NOT_FOUND' && err.message.includes('sanity/cli')) {\n      return null\n    }\n\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction warn(warning: string) {\n  if (typeof process.send === 'function') {\n    process.send({type: 'warning', warning})\n  } else {\n    console.warn(warning)\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","import debugIt from 'debug'\n\nexport const debug = debugIt('sanity:cli')\n","/* eslint-disable no-sync */\nimport path from 'path'\nimport fs from 'fs'\nimport {debug} from '../debug'\n\n/**\n * Resolve project root directory, falling back to cwd if it cannot be found\n */\nexport function resolveRootDir(cwd: string): string {\n  try {\n    return resolveProjectRoot(cwd) || cwd\n  } catch (err) {\n    throw new Error(`Error occurred trying to resolve project root:\\n${err.message}`)\n  }\n}\n\nfunction hasStudioConfig(basePath: string): boolean {\n  const buildConfigs = [\n    fileExists(path.join(basePath, 'studio.config.js')),\n    fileExists(path.join(basePath, 'studio.config.ts')),\n    isSanityV2StudioRoot(basePath),\n  ]\n\n  return buildConfigs.some(Boolean)\n}\n\nfunction resolveProjectRoot(basePath: string, iterations = 0): string | false {\n  if (hasStudioConfig(basePath)) {\n    return basePath\n  }\n\n  const parentDir = path.resolve(basePath, '..')\n  if (parentDir === basePath || iterations > 30) {\n    // Reached root (or max depth), give up\n    return false\n  }\n\n  return resolveProjectRoot(parentDir, iterations + 1)\n}\n\nfunction isSanityV2StudioRoot(basePath: string): boolean {\n  try {\n    const content = fs.readFileSync(path.join(basePath, 'sanity.json'), 'utf8')\n    const sanityJson = JSON.parse(content)\n    const isRoot = Boolean(sanityJson?.root)\n    if (isRoot) {\n      debug('Found Sanity v2 studio root at %s', basePath)\n    }\n    return isRoot\n  } catch (err) {\n    return false\n  }\n}\n\nfunction fileExists(filePath: string): boolean {\n  return fs.existsSync(filePath)\n}\n","import sanityClient, {SanityClient} from '@sanity/client'\nimport {getCliConfigSync} from './util/getCliConfig'\nimport {resolveRootDir} from './util/resolveRootDir'\n\nexport interface CliClientOptions {\n  cwd?: string\n\n  projectId?: string\n  dataset?: string\n  useCdn?: boolean\n  token?: string\n  apiVersion?: string\n}\n\nexport function getCliClient(options: CliClientOptions = {}): SanityClient {\n  if (typeof process !== 'object') {\n    throw new Error('getCliClient() should only be called from node.js scripts')\n  }\n\n  const {\n    // eslint-disable-next-line no-process-env\n    cwd = process.env.SANITY_BASE_PATH || process.cwd(),\n    useCdn = false,\n    apiVersion = '2022-06-06',\n    projectId,\n    dataset,\n    token = getCliClient.__internal__getToken(),\n  } = options\n\n  if (projectId && dataset) {\n    return sanityClient({projectId, dataset, apiVersion, useCdn, token})\n  }\n\n  const rootDir = resolveRootDir(cwd)\n  const {config} = getCliConfigSync(rootDir) || {}\n  if (!config) {\n    throw new Error('Unable to resolve CLI configuration')\n  }\n\n  const apiConfig = config?.api || {}\n  if (!apiConfig.projectId || !apiConfig.dataset) {\n    throw new Error('Unable to resolve project ID/dataset from CLI configuration')\n  }\n\n  return sanityClient({\n    projectId: apiConfig.projectId,\n    dataset: apiConfig.dataset,\n    apiVersion,\n    useCdn,\n    token,\n  })\n}\n\n/* eslint-disable camelcase */\n/**\n * @internal\n * @deprecated This is only for INTERNAL use, and should not be relied upon outside of official Sanity modules\n * @returns A token to use when constructing a client without a `token` explicitly defined, or undefined\n */\ngetCliClient.__internal__getToken = (): string | undefined => undefined\n/* eslint-enable camelcase */\n"],"names":["defineCliConfig","config","createCliConfig","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","objectAssign","target","source","from","to","symbols","s","arguments","length","key","call","defineProperty","isFunction_1","value","isFunction","x","_enable_super_gross_mode_that_will_cause_bad_things","Promise","useDeprecatedSynchronousErrorHandling","error","Error","console","warn","stack","log","hostReportError_1","hostReportError","setTimeout","Observer","config_1","require$$0","require$$1","empty","closed","next","complete","isArray","Array","isObject_1","isObject","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","toString","name","create","Subscription_1","isArray_1","require$$2","UnsubscriptionError_1","require$$3","Subscription","unsubscribe","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","_a","remove","index","parent_1","e","flattenUnsubscriptionErrors","len","sub","concat","push","add","teardown","subscription","EMPTY","tmp","indexOf","subscriptions","subscriptionIndex","splice","reduce","errs","exports","rxSubscriber","Symbol","Math","random","$$rxSubscriber","__extends","this","extendStatics","d","b","setPrototypeOf","__proto__","p","__","constructor","Subscriber_1","Observer_1","rxSubscriber_1","require$$4","require$$5","Subscriber","_super","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","bind","_context","__tryOrUnsub","__tryOrSetError","wrappedComplete","fn","parent","canReportError_1","canReportError","observer","closed_1","toSubscriber_1","toSubscriber","nextOrObserver","observable","identity_1","identity","pipe_1","pipe","fns","_i","pipeFromArray","piped","input","prev","Observable_1","observable_1","Observable","subscribe","_isScalar","_subscribe","lift","operator","sink","_trySubscribe","promiseCtor","getPromiseCtor","resolve","reject","operations","toPromise","filter_1","filter","predicate","thisArg","filterOperatorFunction","FilterOperator","FilterSubscriber","count","result","map_1","project","mapOperation","MapOperator","MapSubscriber","_require","_require2","_require3","getSelection","sel","id","query","params","selectionOpts","_typeof","obj","iterator","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","dataset","test","projectId","validateAssetType","type","validateObject","op","requireDocumentId","doc","_id","validateDocumentId","validateInsert","at","selector","items","signature","valid","loc","hasDataset","requestTag","tag","_defineProperty","enumerable","configurable","writable","validate","Patch","selection","client","clone","set","props","_assign","diffMatchPatch","unset","attrs","setIfMissing","replace","_set","$","inc","dec","insert","_this$_assign","append","prepend","start","deleteCount","delAll","startIndex","delCount","max","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","commit","options","returnFirst","opts","returnDocuments","mutate","patch","reset","merge","validators","defaultMutateOptions","Transaction","transactionId","trxId","slice","_add","createIfNotExists","createOrReplace","delete","_delete","documentId","patchOps","isBuilder","isPatch","mut","transaction","_excluded","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","enc","encodeURIComponent","encodeQueryString","_ref","_ref$params","_ref$options","q","base","qString","qs","param","JSON","stringify","option","parse","events","https","http","util","httpsOptions","bom","colon","space","lineFeed","carriageReturn","maxBufferAheadAllocation","reUnsafeHeader","hasBom","buf","every","charCode","EventSource","url","eventSourceInitDict","readyState","CONNECTING","headers","hasNewOrigin","get","self","reconnectInterval","connectionInProgress","onConnectionClosed","CLOSED","_emit","Event","reconnectUrl","connect","req","lastEventId","discardTrailingNewline","data","eventName","isSecure","protocol","reqHeaders","removeUnsafeHeaders","header","rejectUnauthorized","createConnection","useProxy","proxy","path","Host","host","hostname","port","optName","withCredentials","request","res","statusCode","status","statusMessage","location","prevOrigin","URL","origin","nextOrigin","process","nextTick","close","OPEN","on","removeAllListeners","newBuffer","startingPos","startingFieldLength","newBufferSize","bytesUsed","chunk","Buffer","alloc","copy","pos","lineLength","fieldLength","c","parseEventStreamLine","setNoDelay","end","listeners","emit","apply","_close","abort","xhr","MessageEvent","noValue","step","field","valueLength","retry","parseInt","Number","isNaN","eventsource","inherits","EventEmitter","method","listener","_listener","addEventListener","dispatchEvent","event","detail","removeEventListener","removeListener","optionalProperties","f","eventInitDict","safe","module","pick","prop","defaults","ownKeys","object","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","polyfilledEventSource","MAX_URL_LENGTH","possibleOptions","defaultOptions","includeResult","listen","_this$clientConfig","clientConfig","token","requestTagPrefix","listenOpts","uri","getDataUrl","listenFor","shouldEmitReconnect","esOptions","Authorization","es","getEventSource","reconnectTimer","stopped","onError","emitReconnect","clearTimeout","open","onChannelError","cooerceError","onMessage","evt","parseEvent","onDisconnect","evs","stop","extractErrorMessage","description","require$$6","require$$7","excludeFalsey","defValue","getMutationQuery","dryRun","returnIds","visibility","autoGenerateArrayKeys","skipCrossDatasetReferenceValidation","isResponse","getBody","body","indexBy","docs","attr","indexed","getQuerySizeLimit","dataMethods","operation","catalog","baseUri","fetch","mapResponse","filterResponse","_dataRequest","isPromiseAPI","getDocument","json","_requestObservable","documents","getDocuments","ids","_create","dataRequest","mutations","muts","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","timeout","reqOptions","canUseCdn","results","document","mutation","DatasetsClient","_modify","edit","list","datasetsClient","ProjectsClient","getById","projectsClient","queryString","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","arr2","_arr","_n","_d","_s","_e","done","AssetsClient","optionsFromFile","file","window","File","filename","preserveFilename","contentType","upload","assetType","meta","extract","assetEndpoint","label","title","creditLine","sourceId","sourceName","sourceUrl","docId","getImageUrl","ref","_id$split","_id$split2","assetId","size","format","_this$client$clientCo","assetsClient","UsersClient","usersClient","AuthClient","getLoginProviders","logout","authClient","construct","Reflect","captureStackTrace","container","getStack","setStack","BaseError","cname","setFunctionName","_","makeError","super_","properties","ClientError","extractErrorProps","super","ServerError","response","responseBody","stringifyBody","details","httpErrorMessage","toLowerCase","isJson","debug","pkg","middleware","verbose","namespace","version","maxRetries","nodeMiddleware","getIt","jsonRequest","jsonResponse","progress","httpError","onResponse","printWarnings","warnings","Boolean","msg","envSpecific","require$$8","implementation","httpRequest","requester","maxRedirects","defaultRequester","request_1","projectHeader","requestOptions","overrides","useGlobalApi","useProjectHostname","BASE_URL","generateHelpUrl","slug","once","didCall","returnValue","createWarningPrinter","_console","_len","args","_key","printCdnWarning","printBrowserTokenWarning","printNoApiVersionSpecifiedWarning","defaultCdnHost","defaultConfig","apiHost","apiVersion","LOCALHOSTS","isLocal","initConfig","prevConfig","specifiedConfig","newConfig","projectBased","helpUrl","isBrowser","isLocalhost","ignoreBrowserTokenWarning","useCdn","isDefaultApi","validateApiVersion","hostParts","cdnHost","cdnUrl","apiDate","Date","apiVersionValid","getTime","require$$9","require$$10","getRequestOptions","require$$11","require$$12","require$$13","SanityClient","assets","datasets","projects","users","auth","observableConfig","allowReconfigure","withConfig","getUrl","sanityClient","requireFunc","__webpack_require__","__non_webpack_require__","require","dynamicRequire","mod","__esModule","default","getCliConfigSync","cwd","v3Config","getSanityCliConfig","getSanityJsonConfig","configPath","fs","existsSync","loadJsonConfig","jsConfigPath","tsConfigPath","js","ts","importConfig","filePath","content","readFileSync","code","includes","warning","send","m","h","w","y","ms","isFinite","long","fmtLong","fmtShort","str","match","exec","parseFloat","msAbs","abs","round","plural","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","humanize","instances","names","skips","formatters","selectColor","hash","charCodeAt","colors","prevTime","curr","diff","unshift","formatter","formatArgs","logFn","useColors","color","destroy","extend","init","delimiter","namespaces","save","RegExp","substr","instance","load","common","storage","localstorage","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","lastC","setItem","removeItem","r","getItem","DEBUG","localStorage","j","v","hasFlag","flag","argv","prefix","startsWith","position","terminatorPosition","os","tty","forceColor","FORCE_COLOR","min","translateLevel","level","hasBasic","has256","has16m","supportsColor","haveStream","streamIsTTY","TERM","platform","osRelease","release","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","getSupportLevel","stream","isTTY","supportsColor_1","stdout","isatty","stderr","inspectOpts","substring","k","toUpperCase","fd","colorCode","getDate","hideDate","toISOString","write","inspect","trim","O","browser","debugIt","resolveRootDir","resolveProjectRoot","hasStudioConfig","basePath","buildConfigs","fileExists","isSanityV2StudioRoot","iterations","parentDir","sanityJson","isRoot","root","getCliClient","SANITY_BASE_PATH","__internal__getToken","rootDir","apiConfig","api"],"mappings":";;;;;;;;;;;;;;;;;;;;AAGO,SAASA,gBAAgBC,MAA8B,EAAA;EACrD,OAAAA,MAAA;AACT;AAMO,SAASC,gBAAgBD,MAA8B,EAAA;EACrD,OAAAA,MAAA;AACT;;;;;;;;;;;ACNA;AACA,IAAIE,qBAAqB,GAAGC,MAAM,CAACD,qBAAqB;AACxD,IAAIE,cAAc,GAAGD,MAAM,CAACE,SAAS,CAACD,cAAc;AACpD,IAAIE,gBAAgB,GAAGH,MAAM,CAACE,SAAS,CAACE,oBAAoB;AAE5D,SAASC,QAAQ,CAACC,GAAG,EAAE;EACtB,IAAIA,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAKC,SAAS,EAAE;IACtC,MAAM,IAAIC,SAAS,CAAC,uDAAuD,CAAC;EAC5E;EAED,OAAOR,MAAM,CAACM,GAAG,CAAC;AACnB;AAEA,SAASG,eAAe,GAAG;EAC1B,IAAI;IACH,IAAI,CAACT,MAAM,CAACU,MAAM,EAAE;MACnB,OAAO,KAAK;IACZ;;IAEH;;IAEA;IACE,IAAIC,KAAK,GAAG,IAAIC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;IAC9BD,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;IACf,IAAIX,MAAM,CAACa,mBAAmB,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACjD,OAAO,KAAK;IACZ;;IAEH;IACE,IAAIG,KAAK,GAAG,CAAA,CAAE;IACd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;MAC5BD,KAAK,CAAC,GAAG,GAAGF,MAAM,CAACI,YAAY,CAACD,CAAC,CAAC,CAAC,GAAGA,CAAC;IACvC;IACD,IAAIE,MAAM,GAAGjB,MAAM,CAACa,mBAAmB,CAACC,KAAK,CAAC,CAACI,GAAG,CAAC,UAAUC,CAAC,EAAE;MAC/D,OAAOL,KAAK,CAACK,CAAC,CAAC;IAClB,CAAG,CAAC;IACF,IAAIF,MAAM,CAACG,IAAI,CAAC,EAAE,CAAC,KAAK,YAAY,EAAE;MACrC,OAAO,KAAK;IACZ;;IAEH;IACE,IAAIC,KAAK,GAAG,CAAA,CAAE;IACd,sBAAsB,CAACC,KAAK,CAAC,EAAE,CAAC,CAACC,OAAO,CAAC,UAAUC,MAAM,EAAE;MAC1DH,KAAK,CAACG,MAAM,CAAC,GAAGA,MAAM;IACzB,CAAG,CAAC;IACF,IAAIxB,MAAM,CAACyB,IAAI,CAACzB,MAAM,CAACU,MAAM,CAAC,CAAE,CAAA,EAAEW,KAAK,CAAC,CAAC,CAACD,IAAI,CAAC,EAAE,CAAC,KAChD,sBAAsB,EAAE;MACzB,OAAO,KAAK;IACZ;IAED,OAAO,IAAI;EACX,CAAA,CAAC,OAAOM,GAAG,EAAE;IACf;IACE,OAAO,KAAK;EACZ;AACF;AAEA,IAAAC,YAAc,GAAGlB,eAAe,EAAE,GAAGT,MAAM,CAACU,MAAM,GAAG,UAAUkB,MAAM,EAAEC,MAAM,EAAE;EAC9E,IAAIC,IAAI;EACR,IAAIC,EAAE,GAAG1B,QAAQ,CAACuB,MAAM,CAAC;EACzB,IAAII,OAAO;EAEX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;IAC1CH,IAAI,GAAG9B,MAAM,CAACkC,SAAS,CAACD,CAAC,CAAC,CAAC;IAE3B,KAAK,IAAIG,GAAG,IAAIN,IAAI,EAAE;MACrB,IAAI7B,cAAc,CAACoC,IAAI,CAACP,IAAI,EAAEM,GAAG,CAAC,EAAE;QACnCL,EAAE,CAACK,GAAG,CAAC,GAAGN,IAAI,CAACM,GAAG,CAAC;MACnB;IACD;IAED,IAAIrC,qBAAqB,EAAE;MAC1BiC,OAAO,GAAGjC,qBAAqB,CAAC+B,IAAI,CAAC;MACrC,KAAK,IAAIf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiB,OAAO,CAACG,MAAM,EAAEpB,CAAC,EAAE,EAAE;QACxC,IAAIZ,gBAAgB,CAACkC,IAAI,CAACP,IAAI,EAAEE,OAAO,CAACjB,CAAC,CAAC,CAAC,EAAE;UAC5CgB,EAAE,CAACC,OAAO,CAACjB,CAAC,CAAC,CAAC,GAAGe,IAAI,CAACE,OAAO,CAACjB,CAAC,CAAC,CAAC;QACjC;MACD;IACD;EACD;EAED,OAAOgB,EAAE;AACV,CAAC;;;;;ACxFD/B,MAAM,CAACsC,cAAc,CAACC,YAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,SAASC,UAAU,CAACC,CAAC,EAAE;EACnB,OAAO,OAAOA,CAAC,KAAK,UAAU;AAClC;AACkBH,YAAA,CAAAE,UAAA,GAAGA,UAAA;;;ACJrBzC,MAAM,CAACsC,cAAc,CAACzC,QAAO,EAAE,YAAY,EAAE;EAAE2C,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIG,mDAAmD,GAAG,KAAK;AAC/D9C,QAAA,CAAAA,MAAc,GAAG;EACb+C,OAAO,EAAErC,SAAS;EAClB,IAAIsC,qCAAqC,CAACL,KAAK,EAAE;IAC7C,IAAIA,KAAK,EAAE;MACP,IAAIM,KAAK,GAAG,IAAIC,KAAK,EAAE;MACvBC,OAAO,CAACC,IAAI,CAAC,+FAA+F,GAAGH,KAAK,CAACI,KAAK,CAAC;IAC9H,CAAA,MACI,IAAIP,mDAAmD,EAAE;MAC1DK,OAAO,CAACG,GAAG,CAAC,sDAAsD,CAAC;IACtE;IACDR,mDAAmD,GAAGH,KAAK;EAC9D,CAAA;EACD,IAAIK,qCAAqC,GAAG;IACxC,OAAOF,mDAAmD;EAC7D;AACL,CAAA;;ACjBA3C,MAAM,CAACsC,cAAc,CAACc,iBAAO,EAAE,YAAY,EAAE;EAAEZ,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,SAASa,eAAe,CAAC3B,GAAG,EAAE;EAC1B4B,UAAU,CAAC,YAAY;IAAE,MAAM5B,GAAG;EAAG,CAAA,EAAE,CAAC,CAAC;AAC7C;AACuB0B,iBAAA,CAAAC,eAAA,GAAGA,eAAA;ACJ1BrD,MAAM,CAACsC,cAAc,CAACiB,QAAO,EAAE,YAAY,EAAE;EAAEf,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIgB,UAAQ,GAAGC,QAAmB;AAClC,IAAIL,mBAAiB,GAAGM,iBAAiC;AACzDH,QAAA,CAAAI,KAAa,GAAG;EACZC,MAAM,EAAE,IAAI;EACZC,IAAI,EAAE,UAAUrB,KAAK,EAAE,CAAG,CAAA;EAC1BM,KAAK,EAAE,UAAUpB,GAAG,EAAE;IAClB,IAAI8B,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;MACvD,MAAMnB,GAAG;IACZ,CAAA,MACI;MACD0B,mBAAiB,CAACC,eAAe,CAAC3B,GAAG,CAAC;IACzC;EACJ,CAAA;EACDoC,QAAQ,EAAE,YAAY,CAAG;AAC7B,CAAA;;;ACfA9D,MAAM,CAACsC,cAAc,CAACyB,OAAO,EAAE,YAAY,EAAE;EAAEvB,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7DuB,OAAA,CAAAA,OAAe,GAAI,YAAY;EAAE,OAAOC,KAAK,CAACD,OAAO,IAAK,UAAUrB,CAAC,EAAE;IAAE,OAAOA,CAAC,IAAI,OAAOA,CAAC,CAACP,MAAM,KAAK,QAAQ;EAAC,CAAG;AAAG,CAAA,EAAA;;ACDxHnC,MAAM,CAACsC,cAAc,CAAC2B,UAAO,EAAE,YAAY,EAAE;EAAEzB,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,SAAS0B,QAAQ,CAACxB,CAAC,EAAE;EACjB,OAAOA,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ;AAC9C;AACgBuB,UAAA,CAAAC,QAAA,GAAGA,QAAA;;ACJnBlE,MAAM,CAACsC,cAAc,CAAC6B,mBAAO,EAAE,YAAY,EAAE;EAAE3B,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAI4B,uBAAuB,GAAI,YAAY;EACvC,SAASA,uBAAuB,CAACC,MAAM,EAAE;IACrCtB,KAAK,CAACV,IAAI,CAAC,IAAI,CAAC;IAChB,IAAI,CAACiC,OAAO,GAAGD,MAAM,GACjBA,MAAM,CAAClC,MAAM,GAAG,2CAA2C,GAAGkC,MAAM,CAACnD,GAAG,CAAC,UAAUQ,GAAG,EAAEX,CAAC,EAAE;MAAE,OAAOA,CAAC,GAAG,CAAC,GAAG,IAAI,GAAGW,GAAG,CAAC6C,QAAQ,EAAE;IAAG,CAAA,CAAC,CAACnD,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;IAC3J,IAAI,CAACoD,IAAI,GAAG,qBAAqB;IACjC,IAAI,CAACH,MAAM,GAAGA,MAAM;IACpB,OAAO,IAAI;EACd;EACDD,uBAAuB,CAAClE,SAAS,GAAGF,MAAM,CAACyE,MAAM,CAAC1B,KAAK,CAAC7C,SAAS,CAAC;EAClE,OAAOkE,uBAAuB;AAClC,CAAC,EAAG;AACuBD,mBAAA,CAAAA,mBAAA,GAAGC,uBAAA;ACb9BpE,MAAM,CAACsC,cAAc,CAACoC,cAAO,EAAE,YAAY,EAAE;EAAElC,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAImC,SAAS,GAAGlB,OAAyB;AACzC,IAAIQ,UAAU,GAAGP,UAA0B;AAC3C,IAAInB,cAAY,GAAGqC,YAA4B;AAC/C,IAAIC,qBAAqB,GAAGC,mBAAqC;AACjE,IAAIC,YAAY,GAAI,YAAY;EAC5B,SAASA,YAAY,CAACC,WAAW,EAAE;IAC/B,IAAI,CAACpB,MAAM,GAAG,KAAK;IACnB,IAAI,CAACqB,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAIF,WAAW,EAAE;MACb,IAAI,CAACG,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,YAAY,GAAGJ,WAAW;IAClC;EACJ;EACDD,YAAY,CAAC7E,SAAS,CAAC8E,WAAW,GAAG,YAAY;IAC7C,IAAIX,MAAM;IACV,IAAI,IAAI,CAACT,MAAM,EAAE;MACb;IACH;IACD,IAAIyB,EAAE,GAAG,IAAI;MAAEJ,gBAAgB,GAAGI,EAAE,CAACJ,gBAAgB;MAAEE,gBAAgB,GAAGE,EAAE,CAACF,gBAAgB;MAAEC,YAAY,GAAGC,EAAE,CAACD,YAAY;MAAEF,cAAc,GAAGG,EAAE,CAACH,cAAc;IACjK,IAAI,CAACtB,MAAM,GAAG,IAAI;IAClB,IAAI,CAACqB,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAID,gBAAgB,YAAYF,YAAY,EAAE;MAC1CE,gBAAgB,CAACK,MAAM,CAAC,IAAI,CAAC;IAChC,CAAA,MACI,IAAIL,gBAAgB,KAAK,IAAI,EAAE;MAChC,KAAK,IAAIM,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGN,gBAAgB,CAAC9C,MAAM,EAAE,EAAEoD,KAAK,EAAE;QAC1D,IAAIC,QAAQ,GAAGP,gBAAgB,CAACM,KAAK,CAAC;QACtCC,QAAQ,CAACF,MAAM,CAAC,IAAI,CAAC;MACxB;IACJ;IACD,IAAI/C,cAAY,CAACE,UAAU,CAAC2C,YAAY,CAAC,EAAE;MACvC,IAAID,gBAAgB,EAAE;QAClB,IAAI,CAACC,YAAY,GAAG7E,SAAS;MAChC;MACD,IAAI;QACA6E,YAAY,CAAC/C,IAAI,CAAC,IAAI,CAAC;MAC1B,CAAA,CACD,OAAOoD,CAAC,EAAE;QACNpB,MAAM,GAAGoB,CAAC,YAAYZ,qBAAqB,CAACV,mBAAmB,GAAGuB,2BAA2B,CAACD,CAAC,CAACpB,MAAM,CAAC,GAAG,CAACoB,CAAC,CAAC;MAChH;IACJ;IACD,IAAId,SAAS,CAACZ,OAAO,CAACmB,cAAc,CAAC,EAAE;MACnC,IAAIK,KAAK,GAAG,CAAC,CAAC;MACd,IAAII,GAAG,GAAGT,cAAc,CAAC/C,MAAM;MAC/B,OAAO,EAAEoD,KAAK,GAAGI,GAAG,EAAE;QAClB,IAAIC,GAAG,GAAGV,cAAc,CAACK,KAAK,CAAC;QAC/B,IAAItB,UAAU,CAACC,QAAQ,CAAC0B,GAAG,CAAC,EAAE;UAC1B,IAAI;YACAA,GAAG,CAACZ,WAAW,EAAE;UACpB,CAAA,CACD,OAAOS,CAAC,EAAE;YACNpB,MAAM,GAAGA,MAAM,IAAI,EAAE;YACrB,IAAIoB,CAAC,YAAYZ,qBAAqB,CAACV,mBAAmB,EAAE;cACxDE,MAAM,GAAGA,MAAM,CAACwB,MAAM,CAACH,2BAA2B,CAACD,CAAC,CAACpB,MAAM,CAAC,CAAC;YAChE,CAAA,MACI;cACDA,MAAM,CAACyB,IAAI,CAACL,CAAC,CAAC;YACjB;UACJ;QACJ;MACJ;IACJ;IACD,IAAIpB,MAAM,EAAE;MACR,MAAM,IAAIQ,qBAAqB,CAACV,mBAAmB,CAACE,MAAM,CAAC;IAC9D;EACT,CAAK;EACDU,YAAY,CAAC7E,SAAS,CAAC6F,GAAG,GAAG,UAAUC,QAAQ,EAAE;IAC7C,IAAIC,YAAY,GAAGD,QAAQ;IAC3B,IAAI,CAACA,QAAQ,EAAE;MACX,OAAOjB,YAAY,CAACmB,KAAK;IAC5B;IACD,QAAQ,OAAOF,QAAQ;MACnB,KAAK,UAAU;QACXC,YAAY,GAAG,IAAIlB,YAAY,CAACiB,QAAQ,CAAC;MAC7C,KAAK,QAAQ;QACT,IAAIC,YAAY,KAAK,IAAI,IAAIA,YAAY,CAACrC,MAAM,IAAI,OAAOqC,YAAY,CAACjB,WAAW,KAAK,UAAU,EAAE;UAChG,OAAOiB,YAAY;QACtB,CAAA,MACI,IAAI,IAAI,CAACrC,MAAM,EAAE;UAClBqC,YAAY,CAACjB,WAAW,EAAE;UAC1B,OAAOiB,YAAY;QACtB,CAAA,MACI,IAAI,EAAEA,YAAY,YAAYlB,YAAY,CAAC,EAAE;UAC9C,IAAIoB,GAAG,GAAGF,YAAY;UACtBA,YAAY,GAAG,IAAIlB,YAAY,EAAE;UACjCkB,YAAY,CAACf,cAAc,GAAG,CAACiB,GAAG,CAAC;QACtC;QACD;MACJ;QAAS;UACL,MAAM,IAAIpD,KAAK,CAAC,wBAAwB,GAAGiD,QAAQ,GAAG,yBAAyB,CAAC;QACnF;IAAA;IAEL,IAAIf,gBAAgB,GAAGgB,YAAY,CAAChB,gBAAgB;IACpD,IAAIA,gBAAgB,KAAK,IAAI,EAAE;MAC3BgB,YAAY,CAAChB,gBAAgB,GAAG,IAAI;IACvC,CAAA,MACI,IAAIA,gBAAgB,YAAYF,YAAY,EAAE;MAC/C,IAAIE,gBAAgB,KAAK,IAAI,EAAE;QAC3B,OAAOgB,YAAY;MACtB;MACDA,YAAY,CAAChB,gBAAgB,GAAG,CAACA,gBAAgB,EAAE,IAAI,CAAC;IAC3D,CAAA,MACI,IAAIA,gBAAgB,CAACmB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MAC5CnB,gBAAgB,CAACa,IAAI,CAAC,IAAI,CAAC;IAC9B,CAAA,MACI;MACD,OAAOG,YAAY;IACtB;IACD,IAAII,aAAa,GAAG,IAAI,CAACnB,cAAc;IACvC,IAAImB,aAAa,KAAK,IAAI,EAAE;MACxB,IAAI,CAACnB,cAAc,GAAG,CAACe,YAAY,CAAC;IACvC,CAAA,MACI;MACDI,aAAa,CAACP,IAAI,CAACG,YAAY,CAAC;IACnC;IACD,OAAOA,YAAY;EAC3B,CAAK;EACDlB,YAAY,CAAC7E,SAAS,CAACoF,MAAM,GAAG,UAAUW,YAAY,EAAE;IACpD,IAAII,aAAa,GAAG,IAAI,CAACnB,cAAc;IACvC,IAAImB,aAAa,EAAE;MACf,IAAIC,iBAAiB,GAAGD,aAAa,CAACD,OAAO,CAACH,YAAY,CAAC;MAC3D,IAAIK,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC1BD,aAAa,CAACE,MAAM,CAACD,iBAAiB,EAAE,CAAC,CAAC;MAC7C;IACJ;EACT,CAAK;EACDvB,YAAY,CAACmB,KAAK,GAAI,UAAUvC,KAAK,EAAE;IACnCA,KAAK,CAACC,MAAM,GAAG,IAAI;IACnB,OAAOD,KAAK;EACpB,CAAK,CAAC,IAAIoB,YAAY,EAAE,CAAE;EACtB,OAAOA,YAAY;AACvB,CAAC,EAAG;AACgBL,cAAA,CAAAK,YAAA,GAAGA,YAAa;AACpC,SAASW,2BAA2B,CAACrB,MAAM,EAAE;EACzC,OAAOA,MAAM,CAACmC,MAAM,CAAC,UAAUC,IAAI,EAAE/E,GAAG,EAAE;IAAE,OAAO+E,IAAI,CAACZ,MAAM,CAAEnE,GAAG,YAAYmD,qBAAqB,CAACV,mBAAmB,GAAIzC,GAAG,CAAC2C,MAAM,GAAG3C,GAAG,CAAC;EAAC,CAAE,EAAE,EAAE,CAAC;AACzJ;;;EC1IA1B,MAAM,CAACsC,cAAc,CAAAoE,OAAA,EAAU,YAAY,EAAE;IAAElE,KAAK,EAAE;EAAI,CAAE,CAAC;EAC7DkE,OAAA,CAAAC,YAAA,GAAwB,YAAY;IAChC,OAAO,OAAOC,MAAM,KAAK,UAAU,GAC7BA,MAAM,CAAC,cAAc,CAAC,GACtB,iBAAiB,GAAGC,IAAI,CAACC,MAAM,EAAE;EAC3C,CAAC,EAAG;EACJJ,OAAyB,CAAAK,cAAA,GAAAL,OAAO,CAACC,YAAY;;ACN7C,IAAIK,WAAS,GAAIC,cAAI,IAAIA,cAAI,CAACD,SAAS,IAAM,YAAY;EACrD,IAAIE,aAAa,GAAG,UAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGlH,MAAM,CAACqH,cAAc,IAChC;MAAEC,SAAS,EAAE;KAAI,YAAYtD,KAAK,IAAI,UAAUmD,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;IAAC,CAAG,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIG,CAAC,IAAIH,CAAC,EAAE,IAAIA,CAAC,CAACnH,cAAc,CAACsH,CAAC,CAAC,EAAEJ,CAAC,CAACI,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;KAAG;IAC9E,OAAOL,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC7B,CAAA;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASI,EAAE,GAAG;MAAE,IAAI,CAACC,WAAW,GAAGN,CAAC;IAAG;IACvCA,CAAC,CAACjH,SAAS,GAAGkH,CAAC,KAAK,IAAI,GAAGpH,MAAM,CAACyE,MAAM,CAAC2C,CAAC,CAAC,IAAII,EAAE,CAACtH,SAAS,GAAGkH,CAAC,CAAClH,SAAS,EAAE,IAAIsH,EAAE,EAAE,CAAC;EAC5F,CAAK;AACL,CAAC,EAAG;AACJxH,MAAM,CAACsC,cAAc,CAACoF,YAAO,EAAE,YAAY,EAAE;EAAElF,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAID,YAAY,GAAGkB,YAA4B;AAC/C,IAAIkE,YAAU,GAAGjE,QAAqB;AACtC,IAAIgB,cAAc,GAAGE,cAAyB;AAC9C,IAAIgD,gBAAc,GAAG9C,YAA0C;AAC/D,IAAItB,UAAQ,GAAGqE,QAAmB;AAClC,IAAIzE,iBAAiB,GAAG0E,iBAAiC;AACzD,IAAIC,UAAU,GAAI,UAAUC,MAAM,EAAE;EAChChB,WAAS,CAACe,UAAU,EAAEC,MAAM,CAAC;EAC7B,SAASD,UAAU,CAACE,iBAAiB,EAAEnF,KAAK,EAAEgB,QAAQ,EAAE;IACpD,IAAIoE,KAAK,GAAGF,MAAM,CAAC3F,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;IACrC6F,KAAK,CAACC,cAAc,GAAG,IAAI;IAC3BD,KAAK,CAACE,eAAe,GAAG,KAAK;IAC7BF,KAAK,CAACG,kBAAkB,GAAG,KAAK;IAChCH,KAAK,CAACI,SAAS,GAAG,KAAK;IACvB,QAAQpG,SAAS,CAACC,MAAM;MACpB,KAAK,CAAC;QACF+F,KAAK,CAACK,WAAW,GAAGZ,YAAU,CAAChE,KAAK;QACpC;MACJ,KAAK,CAAC;QACF,IAAI,CAACsE,iBAAiB,EAAE;UACpBC,KAAK,CAACK,WAAW,GAAGZ,YAAU,CAAChE,KAAK;UACpC;QACH;QACD,IAAI,OAAOsE,iBAAiB,KAAK,QAAQ,EAAE;UACvC,IAAIA,iBAAiB,YAAYF,UAAU,EAAE;YACzCG,KAAK,CAACG,kBAAkB,GAAGJ,iBAAiB,CAACI,kBAAkB;YAC/DH,KAAK,CAACK,WAAW,GAAGN,iBAAiB;YACrCA,iBAAiB,CAAClC,GAAG,CAACmC,KAAK,CAAC;UAC/B,CAAA,MACI;YACDA,KAAK,CAACG,kBAAkB,GAAG,IAAI;YAC/BH,KAAK,CAACK,WAAW,GAAG,IAAIC,cAAc,CAACN,KAAK,EAAED,iBAAiB,CAAC;UACnE;UACD;QACH;MACL;QACIC,KAAK,CAACG,kBAAkB,GAAG,IAAI;QAC/BH,KAAK,CAACK,WAAW,GAAG,IAAIC,cAAc,CAACN,KAAK,EAAED,iBAAiB,EAAEnF,KAAK,EAAEgB,QAAQ,CAAC;QACjF;IAAM;IAEd,OAAOoE,KAAK;EACf;EACDH,UAAU,CAAC7H,SAAS,CAAC0H,gBAAc,CAACjB,YAAY,CAAC,GAAG,YAAY;IAAE,OAAO,IAAI;GAAG;EAChFoB,UAAU,CAACtD,MAAM,GAAG,UAAUZ,IAAI,EAAEf,KAAK,EAAEgB,QAAQ,EAAE;IACjD,IAAI2E,UAAU,GAAG,IAAIV,UAAU,CAAClE,IAAI,EAAEf,KAAK,EAAEgB,QAAQ,CAAC;IACtD2E,UAAU,CAACJ,kBAAkB,GAAG,KAAK;IACrC,OAAOI,UAAU;EACzB,CAAK;EACDV,UAAU,CAAC7H,SAAS,CAAC2D,IAAI,GAAG,UAAUrB,KAAK,EAAE;IACzC,IAAI,CAAC,IAAI,CAAC8F,SAAS,EAAE;MACjB,IAAI,CAACI,KAAK,CAAClG,KAAK,CAAC;IACpB;EACT,CAAK;EACDuF,UAAU,CAAC7H,SAAS,CAAC4C,KAAK,GAAG,UAAUpB,GAAG,EAAE;IACxC,IAAI,CAAC,IAAI,CAAC4G,SAAS,EAAE;MACjB,IAAI,CAACA,SAAS,GAAG,IAAI;MACrB,IAAI,CAACK,MAAM,CAACjH,GAAG,CAAC;IACnB;EACT,CAAK;EACDqG,UAAU,CAAC7H,SAAS,CAAC4D,QAAQ,GAAG,YAAY;IACxC,IAAI,CAAC,IAAI,CAACwE,SAAS,EAAE;MACjB,IAAI,CAACA,SAAS,GAAG,IAAI;MACrB,IAAI,CAACM,SAAS,EAAE;IACnB;EACT,CAAK;EACDb,UAAU,CAAC7H,SAAS,CAAC8E,WAAW,GAAG,YAAY;IAC3C,IAAI,IAAI,CAACpB,MAAM,EAAE;MACb;IACH;IACD,IAAI,CAAC0E,SAAS,GAAG,IAAI;IACrBN,MAAM,CAAC9H,SAAS,CAAC8E,WAAW,CAAC3C,IAAI,CAAC,IAAI,CAAC;EAC/C,CAAK;EACD0F,UAAU,CAAC7H,SAAS,CAACwI,KAAK,GAAG,UAAUlG,KAAK,EAAE;IAC1C,IAAI,CAAC+F,WAAW,CAAC1E,IAAI,CAACrB,KAAK,CAAC;EACpC,CAAK;EACDuF,UAAU,CAAC7H,SAAS,CAACyI,MAAM,GAAG,UAAUjH,GAAG,EAAE;IACzC,IAAI,CAAC6G,WAAW,CAACzF,KAAK,CAACpB,GAAG,CAAC;IAC3B,IAAI,CAACsD,WAAW,EAAE;EAC1B,CAAK;EACD+C,UAAU,CAAC7H,SAAS,CAAC0I,SAAS,GAAG,YAAY;IACzC,IAAI,CAACL,WAAW,CAACzE,QAAQ,EAAE;IAC3B,IAAI,CAACkB,WAAW,EAAE;EAC1B,CAAK;EACD+C,UAAU,CAAC7H,SAAS,CAAC2I,sBAAsB,GAAG,YAAY;IACtD,IAAI5D,gBAAgB,GAAG,IAAI,CAACA,gBAAgB;IAC5C,IAAI,CAACA,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACD,WAAW,EAAE;IAClB,IAAI,CAACpB,MAAM,GAAG,KAAK;IACnB,IAAI,CAAC0E,SAAS,GAAG,KAAK;IACtB,IAAI,CAACrD,gBAAgB,GAAGA,gBAAgB;IACxC,OAAO,IAAI;EACnB,CAAK;EACD,OAAO8C,UAAU;AACrB,CAAC,CAACrD,cAAc,CAACK,YAAY,CAAE;AACb2C,YAAA,CAAAK,UAAA,GAAGA,UAAW;AAChC,IAAIS,cAAc,GAAI,UAAUR,MAAM,EAAE;EACpChB,WAAS,CAACwB,cAAc,EAAER,MAAM,CAAC;EACjC,SAASQ,cAAc,CAACM,iBAAiB,EAAEC,cAAc,EAAEjG,KAAK,EAAEgB,QAAQ,EAAE;IACxE,IAAIoE,KAAK,GAAGF,MAAM,CAAC3F,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;IACrC6F,KAAK,CAACY,iBAAiB,GAAGA,iBAAiB;IAC3C,IAAIjF,IAAI;IACR,IAAImF,OAAO,GAAGd,KAAK;IACnB,IAAI3F,YAAY,CAACE,UAAU,CAACsG,cAAc,CAAC,EAAE;MACzClF,IAAI,GAAGkF,cAAc;IACxB,CAAA,MACI,IAAIA,cAAc,EAAE;MACrBlF,IAAI,GAAGkF,cAAc,CAAClF,IAAI;MAC1Bf,KAAK,GAAGiG,cAAc,CAACjG,KAAK;MAC5BgB,QAAQ,GAAGiF,cAAc,CAACjF,QAAQ;MAClC,IAAIiF,cAAc,KAAKpB,YAAU,CAAChE,KAAK,EAAE;QACrCqF,OAAO,GAAGhJ,MAAM,CAACyE,MAAM,CAACsE,cAAc,CAAC;QACvC,IAAIxG,YAAY,CAACE,UAAU,CAACuG,OAAO,CAAChE,WAAW,CAAC,EAAE;UAC9CkD,KAAK,CAACnC,GAAG,CAACiD,OAAO,CAAChE,WAAW,CAACiE,IAAI,CAACD,OAAO,CAAC,CAAC;QAC/C;QACDA,OAAO,CAAChE,WAAW,GAAGkD,KAAK,CAAClD,WAAW,CAACiE,IAAI,CAACf,KAAK,CAAC;MACtD;IACJ;IACDA,KAAK,CAACgB,QAAQ,GAAGF,OAAO;IACxBd,KAAK,CAACQ,KAAK,GAAG7E,IAAI;IAClBqE,KAAK,CAACS,MAAM,GAAG7F,KAAK;IACpBoF,KAAK,CAACU,SAAS,GAAG9E,QAAQ;IAC1B,OAAOoE,KAAK;EACf;EACDM,cAAc,CAACtI,SAAS,CAAC2D,IAAI,GAAG,UAAUrB,KAAK,EAAE;IAC7C,IAAI,CAAC,IAAI,CAAC8F,SAAS,IAAI,IAAI,CAACI,KAAK,EAAE;MAC/B,IAAII,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;MAC9C,IAAI,CAACtF,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,IAAI,CAACiG,iBAAiB,CAACT,kBAAkB,EAAE;QACjG,IAAI,CAACc,YAAY,CAAC,IAAI,CAACT,KAAK,EAAElG,KAAK,CAAC;MACvC,CAAA,MACI,IAAI,IAAI,CAAC4G,eAAe,CAACN,iBAAiB,EAAE,IAAI,CAACJ,KAAK,EAAElG,KAAK,CAAC,EAAE;QACjE,IAAI,CAACwC,WAAW,EAAE;MACrB;IACJ;EACT,CAAK;EACDwD,cAAc,CAACtI,SAAS,CAAC4C,KAAK,GAAG,UAAUpB,GAAG,EAAE;IAC5C,IAAI,CAAC,IAAI,CAAC4G,SAAS,EAAE;MACjB,IAAIQ,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;MAC9C,IAAIjG,qCAAqC,GAAGW,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC;MACjG,IAAI,IAAI,CAAC8F,MAAM,EAAE;QACb,IAAI,CAAC9F,qCAAqC,IAAI,CAACiG,iBAAiB,CAACT,kBAAkB,EAAE;UACjF,IAAI,CAACc,YAAY,CAAC,IAAI,CAACR,MAAM,EAAEjH,GAAG,CAAC;UACnC,IAAI,CAACsD,WAAW,EAAE;QACrB,CAAA,MACI;UACD,IAAI,CAACoE,eAAe,CAACN,iBAAiB,EAAE,IAAI,CAACH,MAAM,EAAEjH,GAAG,CAAC;UACzD,IAAI,CAACsD,WAAW,EAAE;QACrB;MACJ,CAAA,MACI,IAAI,CAAC8D,iBAAiB,CAACT,kBAAkB,EAAE;QAC5C,IAAI,CAACrD,WAAW,EAAE;QAClB,IAAInC,qCAAqC,EAAE;UACvC,MAAMnB,GAAG;QACZ;QACD0B,iBAAiB,CAACC,eAAe,CAAC3B,GAAG,CAAC;MACzC,CAAA,MACI;QACD,IAAImB,qCAAqC,EAAE;UACvCiG,iBAAiB,CAACX,cAAc,GAAGzG,GAAG;UACtCoH,iBAAiB,CAACV,eAAe,GAAG,IAAI;QAC3C,CAAA,MACI;UACDhF,iBAAiB,CAACC,eAAe,CAAC3B,GAAG,CAAC;QACzC;QACD,IAAI,CAACsD,WAAW,EAAE;MACrB;IACJ;EACT,CAAK;EACDwD,cAAc,CAACtI,SAAS,CAAC4D,QAAQ,GAAG,YAAY;IAC5C,IAAIoE,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACI,SAAS,EAAE;MACjB,IAAIQ,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;MAC9C,IAAI,IAAI,CAACF,SAAS,EAAE;QAChB,IAAIS,eAAe,GAAG,YAAY;UAAE,OAAOnB,KAAK,CAACU,SAAS,CAACvG,IAAI,CAAC6F,KAAK,CAACgB,QAAQ,CAAC;SAAG;QAClF,IAAI,CAAC1F,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,IAAI,CAACiG,iBAAiB,CAACT,kBAAkB,EAAE;UACjG,IAAI,CAACc,YAAY,CAACE,eAAe,CAAC;UAClC,IAAI,CAACrE,WAAW,EAAE;QACrB,CAAA,MACI;UACD,IAAI,CAACoE,eAAe,CAACN,iBAAiB,EAAEO,eAAe,CAAC;UACxD,IAAI,CAACrE,WAAW,EAAE;QACrB;MACJ,CAAA,MACI;QACD,IAAI,CAACA,WAAW,EAAE;MACrB;IACJ;EACT,CAAK;EACDwD,cAAc,CAACtI,SAAS,CAACiJ,YAAY,GAAG,UAAUG,EAAE,EAAE9G,KAAK,EAAE;IACzD,IAAI;MACA8G,EAAE,CAACjH,IAAI,CAAC,IAAI,CAAC6G,QAAQ,EAAE1G,KAAK,CAAC;IAChC,CAAA,CACD,OAAOd,GAAG,EAAE;MACR,IAAI,CAACsD,WAAW,EAAE;MAClB,IAAIxB,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;QACvD,MAAMnB,GAAG;MACZ,CAAA,MACI;QACD0B,iBAAiB,CAACC,eAAe,CAAC3B,GAAG,CAAC;MACzC;IACJ;EACT,CAAK;EACD8G,cAAc,CAACtI,SAAS,CAACkJ,eAAe,GAAG,UAAUG,MAAM,EAAED,EAAE,EAAE9G,KAAK,EAAE;IACpE,IAAI,CAACgB,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;MACxD,MAAM,IAAIE,KAAK,CAAC,UAAU,CAAC;IAC9B;IACD,IAAI;MACAuG,EAAE,CAACjH,IAAI,CAAC,IAAI,CAAC6G,QAAQ,EAAE1G,KAAK,CAAC;IAChC,CAAA,CACD,OAAOd,GAAG,EAAE;MACR,IAAI8B,UAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;QACvD0G,MAAM,CAACpB,cAAc,GAAGzG,GAAG;QAC3B6H,MAAM,CAACnB,eAAe,GAAG,IAAI;QAC7B,OAAO,IAAI;MACd,CAAA,MACI;QACDhF,iBAAiB,CAACC,eAAe,CAAC3B,GAAG,CAAC;QACtC,OAAO,IAAI;MACd;IACJ;IACD,OAAO,KAAK;EACpB,CAAK;EACD8G,cAAc,CAACtI,SAAS,CAACkF,YAAY,GAAG,YAAY;IAChD,IAAI0D,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;IAC9C,IAAI,CAACI,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACJ,iBAAiB,GAAG,IAAI;IAC7BA,iBAAiB,CAAC9D,WAAW,EAAE;EACvC,CAAK;EACD,OAAOwD,cAAc;AACzB,CAAC,CAACT,UAAU,CAAE;AACQL,YAAA,CAAAc,cAAA,GAAGA,cAAA;ACnPzBxI,MAAM,CAACsC,cAAc,CAACkH,gBAAO,EAAE,YAAY,EAAE;EAAEhH,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIkF,cAAY,GAAGjE,YAAwB;AAC3C,SAASgG,cAAc,CAACC,QAAQ,EAAE;EAC9B,OAAOA,QAAQ,EAAE;IACb,IAAIrE,EAAE,GAAGqE,QAAQ;MAAEC,QAAQ,GAAGtE,EAAE,CAACzB,MAAM;MAAE2E,WAAW,GAAGlD,EAAE,CAACkD,WAAW;MAAED,SAAS,GAAGjD,EAAE,CAACiD,SAAS;IAC/F,IAAIqB,QAAQ,IAAIrB,SAAS,EAAE;MACvB,OAAO,KAAK;IACf,CAAA,MACI,IAAIC,WAAW,IAAIA,WAAW,YAAYb,cAAY,CAACK,UAAU,EAAE;MACpE2B,QAAQ,GAAGnB,WAAW;IACzB,CAAA,MACI;MACDmB,QAAQ,GAAG,IAAI;IAClB;EACJ;EACD,OAAO,IAAI;AACf;AACsBF,gBAAA,CAAAC,cAAA,GAAGA,cAAA;;ACjBzBzJ,MAAM,CAACsC,cAAc,CAACsH,cAAO,EAAE,YAAY,EAAE;EAAEpH,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIkF,cAAY,GAAGjE,YAAwB;AAC3C,IAAImE,cAAc,GAAGlE,YAAiC;AACtD,IAAIiE,UAAU,GAAG/C,QAAsB;AACvC,SAASiF,YAAY,CAACC,cAAc,EAAEhH,KAAK,EAAEgB,QAAQ,EAAE;EACnD,IAAIgG,cAAc,EAAE;IAChB,IAAIA,cAAc,YAAYpC,cAAY,CAACK,UAAU,EAAE;MACnD,OAAO+B,cAAc;IACxB;IACD,IAAIA,cAAc,CAAClC,cAAc,CAACjB,YAAY,CAAC,EAAE;MAC7C,OAAOmD,cAAc,CAAClC,cAAc,CAACjB,YAAY,CAAC,EAAE;IACvD;EACJ;EACD,IAAI,CAACmD,cAAc,IAAI,CAAChH,KAAK,IAAI,CAACgB,QAAQ,EAAE;IACxC,OAAO,IAAI4D,cAAY,CAACK,UAAU,CAACJ,UAAU,CAAChE,KAAK,CAAC;EACvD;EACD,OAAO,IAAI+D,cAAY,CAACK,UAAU,CAAC+B,cAAc,EAAEhH,KAAK,EAAEgB,QAAQ,CAAC;AACvE;AACoB8F,cAAA,CAAAC,YAAA,GAAGA,YAAA;;AClBvB7J,MAAM,CAACsC,cAAc,CAACyH,YAAO,EAAE,YAAY,EAAE;EAAEvH,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7DuH,YAAA,CAAAA,UAAkB,GAAI,YAAY;EAAE,OAAO,OAAOnD,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACmD,UAAU,IAAI,cAAc;AAAG,CAAA,EAAA;;;ACDjH/J,MAAM,CAACsC,cAAc,CAAC0H,UAAO,EAAE,YAAY,EAAE;EAAExH,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,SAASyH,QAAQ,CAACvH,CAAC,EAAE;EACjB,OAAOA,CAAC;AACZ;AACgBsH,UAAA,CAAAC,QAAA,GAAGA,QAAA;ACJnBjK,MAAM,CAACsC,cAAc,CAAC4H,MAAO,EAAE,YAAY,EAAE;EAAE1H,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIwH,UAAU,GAAGvG,UAAqB;AACtC,SAAS0G,IAAI,GAAG;EACZ,IAAIC,GAAG,GAAG,EAAE;EACZ,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGnI,SAAS,CAACC,MAAM,EAAEkI,EAAE,EAAE,EAAE;IAC1CD,GAAG,CAACC,EAAE,CAAC,GAAGnI,SAAS,CAACmI,EAAE,CAAC;EAC1B;EACD,OAAOC,aAAa,CAACF,GAAG,CAAC;AAC7B;AACYF,MAAA,CAAAC,IAAA,GAAGA,IAAK;AACpB,SAASG,aAAa,CAACF,GAAG,EAAE;EACxB,IAAIA,GAAG,CAACjI,MAAM,KAAK,CAAC,EAAE;IAClB,OAAO6H,UAAU,CAACC,QAAQ;EAC7B;EACD,IAAIG,GAAG,CAACjI,MAAM,KAAK,CAAC,EAAE;IAClB,OAAOiI,GAAG,CAAC,CAAC,CAAC;EAChB;EACD,OAAO,SAASG,KAAK,CAACC,KAAK,EAAE;IACzB,OAAOJ,GAAG,CAAC5D,MAAM,CAAC,UAAUiE,IAAI,EAAEnB,EAAE,EAAE;MAAE,OAAOA,EAAE,CAACmB,IAAI,CAAC;IAAG,CAAA,EAAED,KAAK,CAAC;EAC1E,CAAK;AACL;AACqBN,MAAA,CAAAI,aAAA,GAAGA,aAAA;ACrBxBtK,MAAM,CAACsC,cAAc,CAACoI,YAAO,EAAE,YAAY,EAAE;EAAElI,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIgH,gBAAgB,GAAG/F,gBAAgC;AACvD,IAAImG,cAAc,GAAGlG,cAA8B;AACnD,IAAIiH,YAAY,GAAG/F,YAA8B;AACjD,IAAIsF,MAAM,GAAGpF,MAAsB;AACnC,IAAItB,QAAQ,GAAGqE,QAAmB;AAClC,IAAI+C,YAAU,GAAI,YAAY;EAC1B,SAASA,UAAU,CAACC,SAAS,EAAE;IAC3B,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAID,SAAS,EAAE;MACX,IAAI,CAACE,UAAU,GAAGF,SAAS;IAC9B;EACJ;EACDD,UAAU,CAAC1K,SAAS,CAAC8K,IAAI,GAAG,UAAUC,QAAQ,EAAE;IAC5C,IAAIlB,UAAU,GAAG,IAAIa,UAAU,EAAE;IACjCb,UAAU,CAAClI,MAAM,GAAG,IAAI;IACxBkI,UAAU,CAACkB,QAAQ,GAAGA,QAAQ;IAC9B,OAAOlB,UAAU;EACzB,CAAK;EACDa,UAAU,CAAC1K,SAAS,CAAC2K,SAAS,GAAG,UAAU9B,cAAc,EAAEjG,KAAK,EAAEgB,QAAQ,EAAE;IACxE,IAAImH,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC5B,IAAIC,IAAI,GAAGtB,cAAc,CAACC,YAAY,CAACd,cAAc,EAAEjG,KAAK,EAAEgB,QAAQ,CAAC;IACvE,IAAImH,QAAQ,EAAE;MACVC,IAAI,CAACnF,GAAG,CAACkF,QAAQ,CAAC5I,IAAI,CAAC6I,IAAI,EAAE,IAAI,CAACrJ,MAAM,CAAC,CAAC;IAC7C,CAAA,MACI;MACDqJ,IAAI,CAACnF,GAAG,CAAC,IAAI,CAAClE,MAAM,IAAK2B,QAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,IAAI,CAACqI,IAAI,CAAC7C,kBAAmB,GACvG,IAAI,CAAC0C,UAAU,CAACG,IAAI,CAAC,GACrB,IAAI,CAACC,aAAa,CAACD,IAAI,CAAC,CAAC;IAChC;IACD,IAAI1H,QAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;MACvD,IAAIqI,IAAI,CAAC7C,kBAAkB,EAAE;QACzB6C,IAAI,CAAC7C,kBAAkB,GAAG,KAAK;QAC/B,IAAI6C,IAAI,CAAC9C,eAAe,EAAE;UACtB,MAAM8C,IAAI,CAAC/C,cAAc;QAC5B;MACJ;IACJ;IACD,OAAO+C,IAAI;EACnB,CAAK;EACDN,UAAU,CAAC1K,SAAS,CAACiL,aAAa,GAAG,UAAUD,IAAI,EAAE;IACjD,IAAI;MACA,OAAO,IAAI,CAACH,UAAU,CAACG,IAAI,CAAC;IAC/B,CAAA,CACD,OAAOxJ,GAAG,EAAE;MACR,IAAI8B,QAAQ,CAAC3D,MAAM,CAACgD,qCAAqC,EAAE;QACvDqI,IAAI,CAAC9C,eAAe,GAAG,IAAI;QAC3B8C,IAAI,CAAC/C,cAAc,GAAGzG,GAAG;MAC5B;MACD,IAAI8H,gBAAgB,CAACC,cAAc,CAACyB,IAAI,CAAC,EAAE;QACvCA,IAAI,CAACpI,KAAK,CAACpB,GAAG,CAAC;MAClB,CAAA,MACI;QACDsB,OAAO,CAACC,IAAI,CAACvB,GAAG,CAAC;MACpB;IACJ;EACT,CAAK;EACDkJ,UAAU,CAAC1K,SAAS,CAACqB,OAAO,GAAG,UAAUsC,IAAI,EAAEuH,WAAW,EAAE;IACxD,IAAIlD,KAAK,GAAG,IAAI;IAChBkD,WAAW,GAAGC,cAAc,CAACD,WAAW,CAAC;IACzC,OAAO,IAAIA,WAAW,CAAC,UAAUE,OAAO,EAAEC,MAAM,EAAE;MAC9C,IAAItF,YAAY;MAChBA,YAAY,GAAGiC,KAAK,CAAC2C,SAAS,CAAC,UAAUrI,KAAK,EAAE;QAC5C,IAAI;UACAqB,IAAI,CAACrB,KAAK,CAAC;QACd,CAAA,CACD,OAAOd,GAAG,EAAE;UACR6J,MAAM,CAAC7J,GAAG,CAAC;UACX,IAAIuE,YAAY,EAAE;YACdA,YAAY,CAACjB,WAAW,EAAE;UAC7B;QACJ;MACjB,CAAa,EAAEuG,MAAM,EAAED,OAAO,CAAC;IAC/B,CAAS,CAAC;EACV,CAAK;EACDV,UAAU,CAAC1K,SAAS,CAAC6K,UAAU,GAAG,UAAUtC,UAAU,EAAE;IACpD,IAAI5G,MAAM,GAAG,IAAI,CAACA,MAAM;IACxB,OAAOA,MAAM,IAAIA,MAAM,CAACgJ,SAAS,CAACpC,UAAU,CAAC;EACrD,CAAK;EACDmC,UAAU,CAAC1K,SAAS,CAACyK,YAAY,CAACZ,UAAU,CAAC,GAAG,YAAY;IACxD,OAAO,IAAI;EACnB,CAAK;EACDa,UAAU,CAAC1K,SAAS,CAACiK,IAAI,GAAG,YAAY;IACpC,IAAIqB,UAAU,GAAG,EAAE;IACnB,KAAK,IAAInB,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGnI,SAAS,CAACC,MAAM,EAAEkI,EAAE,EAAE,EAAE;MAC1CmB,UAAU,CAACnB,EAAE,CAAC,GAAGnI,SAAS,CAACmI,EAAE,CAAC;IACjC;IACD,IAAImB,UAAU,CAACrJ,MAAM,KAAK,CAAC,EAAE;MACzB,OAAO,IAAI;IACd;IACD,OAAO+H,MAAM,CAACI,aAAa,CAACkB,UAAU,CAAC,CAAC,IAAI,CAAC;EACrD,CAAK;EACDZ,UAAU,CAAC1K,SAAS,CAACuL,SAAS,GAAG,UAAUL,WAAW,EAAE;IACpD,IAAIlD,KAAK,GAAG,IAAI;IAChBkD,WAAW,GAAGC,cAAc,CAACD,WAAW,CAAC;IACzC,OAAO,IAAIA,WAAW,CAAC,UAAUE,OAAO,EAAEC,MAAM,EAAE;MAC9C,IAAI/I,KAAK;MACT0F,KAAK,CAAC2C,SAAS,CAAC,UAAUnI,CAAC,EAAE;QAAE,OAAOF,KAAK,GAAGE,CAAC;MAAG,CAAA,EAAE,UAAUhB,GAAG,EAAE;QAAE,OAAO6J,MAAM,CAAC7J,GAAG,CAAC;OAAG,EAAE,YAAY;QAAE,OAAO4J,OAAO,CAAC9I,KAAK,CAAC;MAAC,CAAE,CAAC;IAC/I,CAAS,CAAC;EACV,CAAK;EACDoI,UAAU,CAACnG,MAAM,GAAG,UAAUoG,SAAS,EAAE;IACrC,OAAO,IAAID,UAAU,CAACC,SAAS,CAAC;EACxC,CAAK;EACD,OAAOD,UAAU;AACrB,CAAC,EAAG;AACcF,YAAA,CAAAE,UAAA,GAAGA,YAAW;AAChC,SAASS,cAAc,CAACD,WAAW,EAAE;EACjC,IAAI,CAACA,WAAW,EAAE;IACdA,WAAW,GAAG5H,QAAQ,CAAC3D,MAAM,CAAC+C,OAAO,IAAIA,OAAO;EACnD;EACD,IAAI,CAACwI,WAAW,EAAE;IACd,MAAM,IAAIrI,KAAK,CAAC,uBAAuB,CAAC;EAC3C;EACD,OAAOqI,WAAW;AACtB;;AClHA,IAAIpE,WAAS,GAAIC,cAAI,IAAIA,cAAI,CAACD,SAAS,IAAM,YAAY;EACrD,IAAIE,aAAa,GAAG,UAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGlH,MAAM,CAACqH,cAAc,IAChC;MAAEC,SAAS,EAAE;KAAI,YAAYtD,KAAK,IAAI,UAAUmD,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;IAAC,CAAG,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIG,CAAC,IAAIH,CAAC,EAAE,IAAIA,CAAC,CAACnH,cAAc,CAACsH,CAAC,CAAC,EAAEJ,CAAC,CAACI,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;KAAG;IAC9E,OAAOL,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC7B,CAAA;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASI,EAAE,GAAG;MAAE,IAAI,CAACC,WAAW,GAAGN,CAAC;IAAG;IACvCA,CAAC,CAACjH,SAAS,GAAGkH,CAAC,KAAK,IAAI,GAAGpH,MAAM,CAACyE,MAAM,CAAC2C,CAAC,CAAC,IAAII,EAAE,CAACtH,SAAS,GAAGkH,CAAC,CAAClH,SAAS,EAAE,IAAIsH,EAAE,EAAE,CAAC;EAC5F,CAAK;AACL,CAAC,EAAG;AACJxH,MAAM,CAACsC,cAAc,CAACoJ,QAAO,EAAE,YAAY,EAAE;EAAElJ,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIkF,cAAY,GAAGjE,YAAwB;AAC3C,SAASkI,QAAM,CAACC,SAAS,EAAEC,OAAO,EAAE;EAChC,OAAO,SAASC,sBAAsB,CAACjK,MAAM,EAAE;IAC3C,OAAOA,MAAM,CAACmJ,IAAI,CAAC,IAAIe,cAAc,CAACH,SAAS,EAAEC,OAAO,CAAC,CAAC;EAClE,CAAK;AACL;AACcH,QAAA,CAAAC,MAAA,GAAGA,QAAO;AACxB,IAAII,cAAc,GAAI,YAAY;EAC9B,SAASA,cAAc,CAACH,SAAS,EAAEC,OAAO,EAAE;IACxC,IAAI,CAACD,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,OAAO,GAAGA,OAAO;EACzB;EACDE,cAAc,CAAC7L,SAAS,CAACmC,IAAI,GAAG,UAAUoG,UAAU,EAAE5G,MAAM,EAAE;IAC1D,OAAOA,MAAM,CAACgJ,SAAS,CAAC,IAAImB,gBAAgB,CAACvD,UAAU,EAAE,IAAI,CAACmD,SAAS,EAAE,IAAI,CAACC,OAAO,CAAC,CAAC;EAC/F,CAAK;EACD,OAAOE,cAAc;AACzB,CAAC,EAAG;AACJ,IAAIC,gBAAgB,GAAI,UAAUhE,MAAM,EAAE;EACtChB,WAAS,CAACgF,gBAAgB,EAAEhE,MAAM,CAAC;EACnC,SAASgE,gBAAgB,CAACzD,WAAW,EAAEqD,SAAS,EAAEC,OAAO,EAAE;IACvD,IAAI3D,KAAK,GAAGF,MAAM,CAAC3F,IAAI,CAAC,IAAI,EAAEkG,WAAW,CAAC,IAAI,IAAI;IAClDL,KAAK,CAAC0D,SAAS,GAAGA,SAAS;IAC3B1D,KAAK,CAAC2D,OAAO,GAAGA,OAAO;IACvB3D,KAAK,CAAC+D,KAAK,GAAG,CAAC;IACf,OAAO/D,KAAK;EACf;EACD8D,gBAAgB,CAAC9L,SAAS,CAACwI,KAAK,GAAG,UAAUlG,KAAK,EAAE;IAChD,IAAI0J,MAAM;IACV,IAAI;MACAA,MAAM,GAAG,IAAI,CAACN,SAAS,CAACvJ,IAAI,CAAC,IAAI,CAACwJ,OAAO,EAAErJ,KAAK,EAAE,IAAI,CAACyJ,KAAK,EAAE,CAAC;IAClE,CAAA,CACD,OAAOvK,GAAG,EAAE;MACR,IAAI,CAAC6G,WAAW,CAACzF,KAAK,CAACpB,GAAG,CAAC;MAC3B;IACH;IACD,IAAIwK,MAAM,EAAE;MACR,IAAI,CAAC3D,WAAW,CAAC1E,IAAI,CAACrB,KAAK,CAAC;IAC/B;EACT,CAAK;EACD,OAAOwJ,gBAAgB;AAC3B,CAAC,CAACtE,cAAY,CAACK,UAAU,CAAE;;ACtD3B,IAAIf,SAAS,GAAIC,cAAI,IAAIA,cAAI,CAACD,SAAS,IAAM,YAAY;EACrD,IAAIE,aAAa,GAAG,UAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGlH,MAAM,CAACqH,cAAc,IAChC;MAAEC,SAAS,EAAE;KAAI,YAAYtD,KAAK,IAAI,UAAUmD,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;IAAC,CAAG,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIG,CAAC,IAAIH,CAAC,EAAE,IAAIA,CAAC,CAACnH,cAAc,CAACsH,CAAC,CAAC,EAAEJ,CAAC,CAACI,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;KAAG;IAC9E,OAAOL,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC7B,CAAA;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASI,EAAE,GAAG;MAAE,IAAI,CAACC,WAAW,GAAGN,CAAC;IAAG;IACvCA,CAAC,CAACjH,SAAS,GAAGkH,CAAC,KAAK,IAAI,GAAGpH,MAAM,CAACyE,MAAM,CAAC2C,CAAC,CAAC,IAAII,EAAE,CAACtH,SAAS,GAAGkH,CAAC,CAAClH,SAAS,EAAE,IAAIsH,EAAE,EAAE,CAAC;EAC5F,CAAK;AACL,CAAC,EAAG;AACJxH,MAAM,CAACsC,cAAc,CAAC6J,KAAO,EAAE,YAAY,EAAE;EAAE3J,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7D,IAAIkF,YAAY,GAAGjE,YAAwB;AAC3C,SAASvC,KAAG,CAACkL,OAAO,EAAEP,OAAO,EAAE;EAC3B,OAAO,SAASQ,YAAY,CAACxK,MAAM,EAAE;IACjC,IAAI,OAAOuK,OAAO,KAAK,UAAU,EAAE;MAC/B,MAAM,IAAI5L,SAAS,CAAC,4DAA4D,CAAC;IACpF;IACD,OAAOqB,MAAM,CAACmJ,IAAI,CAAC,IAAIsB,WAAW,CAACF,OAAO,EAAEP,OAAO,CAAC,CAAC;EAC7D,CAAK;AACL;AACWM,KAAA,CAAAjL,GAAA,GAAGA,KAAI;AAClB,IAAIoL,WAAW,GAAI,YAAY;EAC3B,SAASA,WAAW,CAACF,OAAO,EAAEP,OAAO,EAAE;IACnC,IAAI,CAACO,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACP,OAAO,GAAGA,OAAO;EACzB;EACDS,WAAW,CAACpM,SAAS,CAACmC,IAAI,GAAG,UAAUoG,UAAU,EAAE5G,MAAM,EAAE;IACvD,OAAOA,MAAM,CAACgJ,SAAS,CAAC,IAAI0B,aAAa,CAAC9D,UAAU,EAAE,IAAI,CAAC2D,OAAO,EAAE,IAAI,CAACP,OAAO,CAAC,CAAC;EAC1F,CAAK;EACD,OAAOS,WAAW;AACtB,CAAC,EAAG;AACeH,KAAA,CAAAG,WAAA,GAAGA,WAAY;AAClC,IAAIC,aAAa,GAAI,UAAUvE,MAAM,EAAE;EACnChB,SAAS,CAACuF,aAAa,EAAEvE,MAAM,CAAC;EAChC,SAASuE,aAAa,CAAChE,WAAW,EAAE6D,OAAO,EAAEP,OAAO,EAAE;IAClD,IAAI3D,KAAK,GAAGF,MAAM,CAAC3F,IAAI,CAAC,IAAI,EAAEkG,WAAW,CAAC,IAAI,IAAI;IAClDL,KAAK,CAACkE,OAAO,GAAGA,OAAO;IACvBlE,KAAK,CAAC+D,KAAK,GAAG,CAAC;IACf/D,KAAK,CAAC2D,OAAO,GAAGA,OAAO,IAAI3D,KAAK;IAChC,OAAOA,KAAK;EACf;EACDqE,aAAa,CAACrM,SAAS,CAACwI,KAAK,GAAG,UAAUlG,KAAK,EAAE;IAC7C,IAAI0J,MAAM;IACV,IAAI;MACAA,MAAM,GAAG,IAAI,CAACE,OAAO,CAAC/J,IAAI,CAAC,IAAI,CAACwJ,OAAO,EAAErJ,KAAK,EAAE,IAAI,CAACyJ,KAAK,EAAE,CAAC;IAChE,CAAA,CACD,OAAOvK,GAAG,EAAE;MACR,IAAI,CAAC6G,WAAW,CAACzF,KAAK,CAACpB,GAAG,CAAC;MAC3B;IACH;IACD,IAAI,CAAC6G,WAAW,CAAC1E,IAAI,CAACqI,MAAM,CAAC;EACrC,CAAK;EACD,OAAOK,aAAa;AACxB,CAAC,CAAC7E,YAAY,CAACK,UAAU,CAAE;;ACvD3B;AACA;AACA,IAAIyE,UAAQ,GAAG/I,YAAmC;EAC9CmH,YAAU,GAAG4B,UAAQ,CAAC5B,UAAU;AAEpC,IAAI6B,WAAS,GAAG/I,QAAyC;EACrDiI,QAAM,GAAGc,WAAS,CAACd,MAAM;AAE7B,IAAIe,SAAS,GAAG9H,KAAsC;EAClD1D,KAAG,GAAGwL,SAAS,CAACxL,GAAG;AAEvB,IAAA6I,YAAc,GAAG;EACfa,UAAU,EAAEA,YAAU;EACtBe,MAAM,EAAEA,QAAM;EACdzK,GAAG,EAAEA;AACP,CAAC;ACfD,IAAAyL,cAAc,GAAG,SAASA,YAAY,CAACC,GAAG,EAAE;EAC1C,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI5I,KAAK,CAACD,OAAO,CAAC6I,GAAG,CAAC,EAAE;IACjD,OAAO;MACLC,EAAE,EAAED;IACV,CAAK;EACF;EAED,IAAIA,GAAG,IAAIA,GAAG,CAACE,KAAK,EAAE;IACpB,OAAO,QAAQ,IAAIF,GAAG,GAAG;MACvBE,KAAK,EAAEF,GAAG,CAACE,KAAK;MAChBC,MAAM,EAAEH,GAAG,CAACG;IAClB,CAAK,GAAG;MACFD,KAAK,EAAEF,GAAG,CAACE;IACjB,CAAK;EACF;EAED,IAAIE,aAAa,GAAG,CAAC,yBAAyB,EAAE,yBAAyB,EAAE,6BAA6B,CAAC,CAAC5L,IAAI,CAAC,IAAI,CAAC;EACpH,MAAM,IAAI2B,KAAK,CAAC,yCAAyC,CAAC8C,MAAM,CAACmH,aAAa,CAAC,CAAC;AAClF,CAAC;;;EClBD,SAASC,OAAO,CAACC,GAAG,EAAE;IAAE,yBAAyB;;IAAE,OAAOD,OAAO,GAAG,UAAU,IAAI,OAAOrG,MAAM,IAAI,QAAQ,IAAI,OAAOA,MAAM,CAACuG,QAAQ,GAAG,UAAUD,GAAG,EAAE;MAAE,OAAO,OAAOA,GAAG;KAAG,GAAG,UAAUA,GAAG,EAAE;MAAE,OAAOA,GAAG,IAAI,UAAU,IAAI,OAAOtG,MAAM,IAAIsG,GAAG,CAACzF,WAAW,KAAKb,MAAM,IAAIsG,GAAG,KAAKtG,MAAM,CAAC1G,SAAS,GAAG,QAAQ,GAAG,OAAOgN,GAAG;IAAC,CAAE,EAAED,OAAO,CAACC,GAAG,CAAC;EAAG;EAEhV,IAAIE,iBAAiB,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;EACzC,IAAIC,sBAAsB,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC;EAE3D3G,OAAkB,CAAA4G,OAAA,GAAA,UAAU9I,IAAI,EAAE;IAChC,IAAI,CAAC,oDAAoD,CAAC+I,IAAI,CAAC/I,IAAI,CAAC,EAAE;MACpE,MAAM,IAAIzB,KAAK,CAAC,qIAAqI,CAAC;IACvJ;EACH,CAAC;EAED2D,OAAoB,CAAA8G,SAAA,GAAA,UAAUX,EAAE,EAAE;IAChC,IAAI,CAAC,eAAe,CAACU,IAAI,CAACV,EAAE,CAAC,EAAE;MAC7B,MAAM,IAAI9J,KAAK,CAAC,uDAAuD,CAAC;IACzE;EACH,CAAC;EAED2D,OAA4B,CAAA+G,iBAAA,GAAA,UAAUC,IAAI,EAAE;IAC1C,IAAIN,iBAAiB,CAAChH,OAAO,CAACsH,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MAC1C,MAAM,IAAI3K,KAAK,CAAC,sBAAsB,CAAC8C,MAAM,CAAC6H,IAAI,EAAE,mBAAmB,CAAC,CAAC7H,MAAM,CAACuH,iBAAiB,CAAChM,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/G;EACH,CAAC;EAEDsF,OAAA,CAAAiH,cAAA,GAAyB,UAAUC,EAAE,EAAEtN,GAAG,EAAE;IAC1C,IAAIA,GAAG,KAAK,IAAI,IAAI2M,OAAO,CAAC3M,GAAG,CAAC,KAAK,QAAQ,IAAI0D,KAAK,CAACD,OAAO,CAACzD,GAAG,CAAC,EAAE;MACnE,MAAM,IAAIyC,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAAC+H,EAAE,EAAE,kCAAkC,CAAC,CAAC;IACnE;EACH,CAAC;EAEDlH,OAAA,CAAAmH,iBAAA,GAA4B,UAAUD,EAAE,EAAEE,GAAG,EAAE;IAC7C,IAAI,CAACA,GAAG,CAACC,GAAG,EAAE;MACZ,MAAM,IAAIhL,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAAC+H,EAAE,EAAE,iEAAiE,CAAC,CAAC;IAClG;IAEDlH,OAAO,CAACsH,kBAAkB,CAACJ,EAAE,EAAEE,GAAG,CAACC,GAAG,CAAC;EACzC,CAAC;EAEDrH,OAAA,CAAAsH,kBAAA,GAA6B,UAAUJ,EAAE,EAAEf,EAAE,EAAE;IAC7C,IAAI,OAAOA,EAAE,KAAK,QAAQ,IAAI,CAAC,iBAAiB,CAACU,IAAI,CAACV,EAAE,CAAC,EAAE;MACzD,MAAM,IAAI9J,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAAC+H,EAAE,EAAE,QAAQ,CAAC,CAAC/H,MAAM,CAACgH,EAAE,EAAE,+BAA+B,CAAC,CAAC;IACrF;EACH,CAAC;EAEDnG,OAAA,CAAAuH,cAAA,GAAyB,UAAUC,EAAE,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IACtD,IAAIC,SAAS,GAAG,6BAA6B;IAE7C,IAAIhB,sBAAsB,CAACjH,OAAO,CAAC8H,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;MAC7C,IAAII,KAAK,GAAGjB,sBAAsB,CAACnM,GAAG,CAAC,UAAUqN,GAAG,EAAE;QACpD,OAAO,IAAI,CAAC1I,MAAM,CAAC0I,GAAG,EAAE,IAAI,CAAC;MACnC,CAAK,CAAC,CAACnN,IAAI,CAAC,IAAI,CAAC;MACb,MAAM,IAAI2B,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAACwI,SAAS,EAAE,6CAA6C,CAAC,CAACxI,MAAM,CAACyI,KAAK,CAAC,CAAC;IACnG;IAED,IAAI,OAAOH,QAAQ,KAAK,QAAQ,EAAE;MAChC,MAAM,IAAIpL,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAACwI,SAAS,EAAE,uDAAuD,CAAC,CAAC;IAC/F;IAED,IAAI,CAACrK,KAAK,CAACD,OAAO,CAACqK,KAAK,CAAC,EAAE;MACzB,MAAM,IAAIrL,KAAK,CAAC,EAAE,CAAC8C,MAAM,CAACwI,SAAS,EAAE,qDAAqD,CAAC,CAAC;IAC7F;EACH,CAAC;EAED3H,OAAqB,CAAA8H,UAAA,GAAA,UAAU3O,MAAM,EAAE;IACrC,IAAI,CAACA,MAAM,CAACyN,OAAO,EAAE;MACnB,MAAM,IAAIvK,KAAK,CAAC,+CAA+C,CAAC;IACjE;IAED,OAAOlD,MAAM,CAACyN,OAAO,IAAI,EAAE;EAC7B,CAAC;EAED5G,OAAqB,CAAA+H,UAAA,GAAA,UAAUC,GAAG,EAAE;IAClC,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,CAAC,sBAAsB,CAACnB,IAAI,CAACmB,GAAG,CAAC,EAAE;MAChE,MAAM,IAAI3L,KAAK,CAAC,wHAAwH,CAAC;IAC1I;IAED,OAAO2L,GAAG;GACX;;AC5ED,SAASC,iBAAe,CAACzB,GAAG,EAAE9K,GAAG,EAAEI,KAAK,EAAE;EAAE,IAAIJ,GAAG,IAAI8K,GAAG,EAAE;IAAElN,MAAM,CAACsC,cAAc,CAAC4K,GAAG,EAAE9K,GAAG,EAAE;MAAEI,KAAK,EAAEA,KAAK;MAAEoM,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAA,CAAC;EAAC,CAAE,MAAM;IAAE5B,GAAG,CAAC9K,GAAG,CAAC,GAAGI,KAAK;EAAC;EAAG,OAAO0K,GAAG;AAAG;AAEjN,IAAIxM,QAAM,GAAG+C,YAAwB;AAErC,IAAIkJ,cAAY,GAAGjJ,cAA+B;AAElD,IAAIqL,UAAQ,GAAGnK,YAAwB;AAEvC,IAAI+I,cAAc,GAAGoB,UAAQ,CAACpB,cAAc;AAC5C,IAAIM,cAAc,GAAGc,UAAQ,CAACd,cAAc;AAE5C,SAASe,OAAK,CAACC,SAAS,EAAE;EACxB,IAAIzD,UAAU,GAAGtJ,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;EACvF,IAAIgN,MAAM,GAAGhN,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;EACrF,IAAI,CAAC+M,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACzD,UAAU,GAAG9K,QAAM,CAAC,CAAE,CAAA,EAAE8K,UAAU,CAAC;EACxC,IAAI,CAAC0D,MAAM,GAAGA,MAAM;AACtB;AAEAxO,QAAM,CAACsO,OAAK,CAAC9O,SAAS,EAAE;EACtBiP,KAAK,EAAE,SAASA,KAAK,GAAG;IACtB,OAAO,IAAIH,OAAK,CAAC,IAAI,CAACC,SAAS,EAAEvO,QAAM,CAAC,EAAE,EAAE,IAAI,CAAC8K,UAAU,CAAC,EAAE,IAAI,CAAC0D,MAAM,CAAC;EAC3E,CAAA;EACDE,GAAG,EAAE,SAASA,GAAG,CAACC,KAAK,EAAE;IACvB,OAAO,IAAI,CAACC,OAAO,CAAC,KAAK,EAAED,KAAK,CAAC;EAClC,CAAA;EACDE,cAAc,EAAE,SAASA,cAAc,CAACF,KAAK,EAAE;IAC7C1B,cAAc,CAAC,gBAAgB,EAAE0B,KAAK,CAAC;IACvC,OAAO,IAAI,CAACC,OAAO,CAAC,gBAAgB,EAAED,KAAK,CAAC;EAC7C,CAAA;EACDG,KAAK,EAAE,SAASA,KAAK,CAACC,KAAK,EAAE;IAC3B,IAAI,CAACzL,KAAK,CAACD,OAAO,CAAC0L,KAAK,CAAC,EAAE;MACzB,MAAM,IAAI1M,KAAK,CAAC,qEAAqE,CAAC;IACvF;IAED,IAAI,CAACyI,UAAU,GAAG9K,QAAM,CAAC,CAAA,CAAE,EAAE,IAAI,CAAC8K,UAAU,EAAE;MAC5CgE,KAAK,EAAEC;IACb,CAAK,CAAC;IACF,OAAO,IAAI;EACZ,CAAA;EACDC,YAAY,EAAE,SAASA,YAAY,CAACL,KAAK,EAAE;IACzC,OAAO,IAAI,CAACC,OAAO,CAAC,cAAc,EAAED,KAAK,CAAC;EAC3C,CAAA;EACDM,OAAO,EAAE,SAASA,OAAO,CAACN,KAAK,EAAE;IAC/B1B,cAAc,CAAC,SAAS,EAAE0B,KAAK,CAAC;IAChC,OAAO,IAAI,CAACO,IAAI,CAAC,KAAK,EAAE;MACtBC,CAAC,EAAER;IACT,CAAK,CAAC,CAAC,CAAA;EACJ,CAAA;;EACDS,GAAG,EAAE,SAASA,GAAG,CAACT,KAAK,EAAE;IACvB,OAAO,IAAI,CAACC,OAAO,CAAC,KAAK,EAAED,KAAK,CAAC;EAClC,CAAA;EACDU,GAAG,EAAE,SAASA,GAAG,CAACV,KAAK,EAAE;IACvB,OAAO,IAAI,CAACC,OAAO,CAAC,KAAK,EAAED,KAAK,CAAC;EAClC,CAAA;EACDW,MAAM,EAAE,SAASA,MAAM,CAAC9B,EAAE,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IAC3C,IAAI6B,aAAa;IAEjBhC,cAAc,CAACC,EAAE,EAAEC,QAAQ,EAAEC,KAAK,CAAC;IACnC,OAAO,IAAI,CAACkB,OAAO,CAAC,QAAQ,GAAGW,aAAa,GAAG,CAAA,CAAE,EAAEtB,iBAAe,CAACsB,aAAa,EAAE/B,EAAE,EAAEC,QAAQ,CAAC,EAAEQ,iBAAe,CAACsB,aAAa,EAAE,OAAO,EAAE7B,KAAK,CAAC,EAAE6B,aAAa,EAAE;EACjK,CAAA;EACDC,MAAM,EAAE,SAASA,MAAM,CAAC/B,QAAQ,EAAEC,KAAK,EAAE;IACvC,OAAO,IAAI,CAAC4B,MAAM,CAAC,OAAO,EAAE,EAAE,CAACnK,MAAM,CAACsI,QAAQ,EAAE,MAAM,CAAC,EAAEC,KAAK,CAAC;EAChE,CAAA;EACD+B,OAAO,EAAE,SAASA,OAAO,CAAChC,QAAQ,EAAEC,KAAK,EAAE;IACzC,OAAO,IAAI,CAAC4B,MAAM,CAAC,QAAQ,EAAE,EAAE,CAACnK,MAAM,CAACsI,QAAQ,EAAE,KAAK,CAAC,EAAEC,KAAK,CAAC;EAChE,CAAA;EACD7H,MAAM,EAAE,SAASA,MAAM,CAAC4H,QAAQ,EAAEiC,KAAK,EAAEC,WAAW,EAAEjC,KAAK,EAAE;IAC/D;IACA;IACA;IACA;IACA;IACI,IAAIkC,MAAM,GAAG,OAAOD,WAAW,KAAK,WAAW,IAAIA,WAAW,KAAK,CAAC,CAAC;IACrE,IAAIE,UAAU,GAAGH,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,GAAGA,KAAK;IAC9C,IAAII,QAAQ,GAAGF,MAAM,GAAG,CAAC,CAAC,GAAGzJ,IAAI,CAAC4J,GAAG,CAAC,CAAC,EAAEL,KAAK,GAAGC,WAAW,CAAC;IAC7D,IAAIK,QAAQ,GAAGH,UAAU,GAAG,CAAC,IAAIC,QAAQ,IAAI,CAAC,GAAG,EAAE,GAAGA,QAAQ;IAC9D,IAAIG,aAAa,GAAG,EAAE,CAAC9K,MAAM,CAACsI,QAAQ,EAAE,GAAG,CAAC,CAACtI,MAAM,CAAC0K,UAAU,EAAE,GAAG,CAAC,CAAC1K,MAAM,CAAC6K,QAAQ,EAAE,GAAG,CAAC;IAC1F,OAAO,IAAI,CAACV,MAAM,CAAC,SAAS,EAAEW,aAAa,EAAEvC,KAAK,IAAI,EAAE,CAAC;EAC1D,CAAA;EACDwC,YAAY,EAAE,SAASA,YAAY,CAACC,GAAG,EAAE;IACvC,IAAI,CAACrF,UAAU,CAACsF,YAAY,GAAGD,GAAG;IAClC,OAAO,IAAI;EACZ,CAAA;EACDE,SAAS,EAAE,SAASA,SAAS,GAAG;IAC9B,OAAOrQ,QAAM,CAACiM,cAAY,CAAC,IAAI,CAACsC,SAAS,CAAC,EAAE,IAAI,CAACzD,UAAU,CAAC;EAC7D,CAAA;EACDwF,MAAM,EAAE,SAASA,MAAM,GAAG;IACxB,OAAO,IAAI,CAACD,SAAS,EAAE;EACxB,CAAA;EACDE,MAAM,EAAE,SAASA,MAAM,GAAG;IACxB,IAAIC,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IAEpF,IAAI,CAAC,IAAI,CAACgN,MAAM,EAAE;MAChB,MAAM,IAAInM,KAAK,CAAC,8DAA8D,GAAG,sCAAsC,CAAC;IACzH;IAED,IAAIoO,WAAW,GAAG,OAAO,IAAI,CAAClC,SAAS,KAAK,QAAQ;IACpD,IAAImC,IAAI,GAAG1Q,QAAM,CAAC;MAChByQ,WAAW,EAAEA,WAAW;MACxBE,eAAe,EAAE;IAClB,CAAA,EAAEH,OAAO,CAAC;IACX,OAAO,IAAI,CAAChC,MAAM,CAACoC,MAAM,CAAC;MACxBC,KAAK,EAAE,IAAI,CAACR,SAAS;IACtB,CAAA,EAAEK,IAAI,CAAC;EACT,CAAA;EACDI,KAAK,EAAE,SAASA,KAAK,GAAG;IACtB,IAAI,CAAChG,UAAU,GAAG,EAAE;IACpB,OAAO,IAAI;EACZ,CAAA;EACDoE,IAAI,EAAE,SAASA,IAAI,CAAChC,EAAE,EAAEyB,KAAK,EAAE;IAC7B,OAAO,IAAI,CAACC,OAAO,CAAC1B,EAAE,EAAEyB,KAAK,EAAE,KAAK,CAAC;EACtC,CAAA;EACDC,OAAO,EAAE,SAASA,OAAO,CAAC1B,EAAE,EAAEyB,KAAK,EAAE;IACnC,IAAIoC,KAAK,GAAGvP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;IACpFyL,cAAc,CAACC,EAAE,EAAEyB,KAAK,CAAC;IACzB,IAAI,CAAC7D,UAAU,GAAG9K,QAAM,CAAC,CAAE,CAAA,EAAE,IAAI,CAAC8K,UAAU,EAAEmD,iBAAe,CAAC,CAAA,CAAE,EAAEf,EAAE,EAAElN,QAAM,CAAC,EAAE,EAAE+Q,KAAK,IAAI,IAAI,CAACjG,UAAU,CAACoC,EAAE,CAAC,IAAI,CAAE,CAAA,EAAEyB,KAAK,CAAC,CAAC,CAAC;IAC7H,OAAO,IAAI;EACZ;AACH,CAAC,CAAC;AACF,IAAAkC,KAAc,GAAGvC,OAAK;ACxHtB,SAASL,iBAAe,CAACzB,GAAG,EAAE9K,GAAG,EAAEI,KAAK,EAAE;EAAE,IAAIJ,GAAG,IAAI8K,GAAG,EAAE;IAAElN,MAAM,CAACsC,cAAc,CAAC4K,GAAG,EAAE9K,GAAG,EAAE;MAAEI,KAAK,EAAEA,KAAK;MAAEoM,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAA,CAAC;EAAC,CAAE,MAAM;IAAE5B,GAAG,CAAC9K,GAAG,CAAC,GAAGI,KAAK;EAAC;EAAG,OAAO0K,GAAG;AAAG;AAEjN,IAAIxM,QAAM,GAAG+C,YAAwB;AAErC,IAAIiO,YAAU,GAAGhO,YAAwB;AAEzC,IAAIsL,OAAK,GAAGpK,KAAkB;AAE9B,IAAI+M,oBAAoB,GAAG;EACzBN,eAAe,EAAE;AACnB,CAAC;AAED,SAASO,aAAW,GAAG;EACrB,IAAIpG,UAAU,GAAGtJ,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;EACvF,IAAIgN,MAAM,GAAGhN,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG3B,SAAS;EAC5D,IAAIsR,aAAa,GAAG3P,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG3B,SAAS;EACnE,IAAI,CAACuR,KAAK,GAAGD,aAAa;EAC1B,IAAI,CAACrG,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAAC0D,MAAM,GAAGA,MAAM;AACtB;AAEAxO,QAAM,CAACkR,aAAW,CAAC1R,SAAS,EAAE;EAC5BiP,KAAK,EAAE,SAASA,KAAK,GAAG;IACtB,OAAO,IAAIyC,aAAW,CAAC,IAAI,CAACpG,UAAU,CAACuG,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC7C,MAAM,EAAE,IAAI,CAAC4C,KAAK,CAAC;EAC1E,CAAA;EACDrN,MAAM,EAAE,SAASA,MAAM,CAACqJ,GAAG,EAAE;IAC3B4D,YAAU,CAAC/D,cAAc,CAAC,QAAQ,EAAEG,GAAG,CAAC;IACxC,OAAO,IAAI,CAACkE,IAAI,CAAC;MACfvN,MAAM,EAAEqJ;IACd,CAAK,CAAC;EACH,CAAA;EACDmE,iBAAiB,EAAE,SAASA,iBAAiB,CAACnE,GAAG,EAAE;IACjD,IAAIF,EAAE,GAAG,mBAAmB;IAC5B8D,YAAU,CAAC/D,cAAc,CAACC,EAAE,EAAEE,GAAG,CAAC;IAClC4D,YAAU,CAAC7D,iBAAiB,CAACD,EAAE,EAAEE,GAAG,CAAC;IACrC,OAAO,IAAI,CAACkE,IAAI,CAACrD,iBAAe,CAAC,CAAE,CAAA,EAAEf,EAAE,EAAEE,GAAG,CAAC,CAAC;EAC/C,CAAA;EACDoE,eAAe,EAAE,SAASA,eAAe,CAACpE,GAAG,EAAE;IAC7C,IAAIF,EAAE,GAAG,iBAAiB;IAC1B8D,YAAU,CAAC/D,cAAc,CAACC,EAAE,EAAEE,GAAG,CAAC;IAClC4D,YAAU,CAAC7D,iBAAiB,CAACD,EAAE,EAAEE,GAAG,CAAC;IACrC,OAAO,IAAI,CAACkE,IAAI,CAACrD,iBAAe,CAAC,CAAE,CAAA,EAAEf,EAAE,EAAEE,GAAG,CAAC,CAAC;EAC/C,CAAA;EACDqE,MAAM,EAAE,SAASC,OAAO,CAACC,UAAU,EAAE;IACnCX,YAAU,CAAC1D,kBAAkB,CAAC,QAAQ,EAAEqE,UAAU,CAAC;IACnD,OAAO,IAAI,CAACL,IAAI,CAAC;MACfG,MAAM,EAAE;QACNtF,EAAE,EAAEwF;MACL;IACP,CAAK,CAAC;EACH,CAAA;EACDd,KAAK,EAAE,SAASA,KAAK,CAACc,UAAU,EAAEC,QAAQ,EAAE;IAC1C,IAAIC,SAAS,GAAG,OAAOD,QAAQ,KAAK,UAAU;IAC9C,IAAIE,OAAO,GAAGH,UAAU,YAAYrD,OAAK,CAAC,CAAA;;IAE1C,IAAIwD,OAAO,EAAE;MACX,OAAO,IAAI,CAACR,IAAI,CAAC;QACfT,KAAK,EAAEc,UAAU,CAACtB,SAAS;MACnC,CAAO,CAAC;IACH,CAAA,CAAA;;IAGD,IAAIwB,SAAS,EAAE;MACb,IAAIhB,KAAK,GAAGe,QAAQ,CAAC,IAAItD,OAAK,CAACqD,UAAU,EAAE,EAAE,EAAE,IAAI,CAACnD,MAAM,CAAC,CAAC;MAE5D,IAAI,EAAEqC,KAAK,YAAYvC,OAAK,CAAC,EAAE;QAC7B,MAAM,IAAIjM,KAAK,CAAC,oDAAoD,CAAC;MACtE;MAED,OAAO,IAAI,CAACiP,IAAI,CAAC;QACfT,KAAK,EAAEA,KAAK,CAACR,SAAS;MAC9B,CAAO,CAAC;IACH;IAED,OAAO,IAAI,CAACiB,IAAI,CAAC;MACfT,KAAK,EAAE7Q,QAAM,CAAC;QACZmM,EAAE,EAAEwF;MACL,CAAA,EAAEC,QAAQ;IACjB,CAAK,CAAC;EACH,CAAA;EACDT,aAAa,EAAE,SAASA,aAAa,CAAChF,EAAE,EAAE;IACxC,IAAI,CAACA,EAAE,EAAE;MACP,OAAO,IAAI,CAACiF,KAAK;IAClB;IAED,IAAI,CAACA,KAAK,GAAGjF,EAAE;IACf,OAAO,IAAI;EACZ,CAAA;EACDkE,SAAS,EAAE,SAASA,SAAS,GAAG;IAC9B,OAAO,IAAI,CAACvF,UAAU,CAACuG,KAAK,EAAE;EAC/B,CAAA;EACDf,MAAM,EAAE,SAASA,MAAM,GAAG;IACxB,OAAO,IAAI,CAACD,SAAS,EAAE;EACxB,CAAA;EACDE,MAAM,EAAE,SAASA,MAAM,CAACC,OAAO,EAAE;IAC/B,IAAI,CAAC,IAAI,CAAChC,MAAM,EAAE;MAChB,MAAM,IAAInM,KAAK,CAAC,oEAAoE,GAAG,4CAA4C,CAAC;IACrI;IAED,OAAO,IAAI,CAACmM,MAAM,CAACoC,MAAM,CAAC,IAAI,CAACP,SAAS,EAAE,EAAErQ,QAAM,CAAC;MACjDmR,aAAa,EAAE,IAAI,CAACC;IACrB,CAAA,EAAEH,oBAAoB,EAAET,OAAO,IAAI,CAAE,CAAA,CAAC,CAAC;EACzC,CAAA;EACDM,KAAK,EAAE,SAASA,KAAK,GAAG;IACtB,IAAI,CAAChG,UAAU,GAAG,EAAE;IACpB,OAAO,IAAI;EACZ,CAAA;EACDwG,IAAI,EAAE,SAASA,IAAI,CAACS,GAAG,EAAE;IACvB,IAAI,CAACjH,UAAU,CAAC1F,IAAI,CAAC2M,GAAG,CAAC;IACzB,OAAO,IAAI;EACZ;AACH,CAAC,CAAC;AACF,IAAAC,WAAc,GAAGd,aAAW;AChH5B,IAAIe,SAAS,GAAG,CAAC,KAAK,CAAC;AAEvB,SAASC,wBAAwB,CAAC/Q,MAAM,EAAEgR,QAAQ,EAAE;EAAE,IAAIhR,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE;EAAE,IAAID,MAAM,GAAGkR,6BAA6B,CAACjR,MAAM,EAAEgR,QAAQ,CAAC;EAAE,IAAIzQ,GAAG,EAAErB,CAAC;EAAE,IAAIf,MAAM,CAACD,qBAAqB,EAAE;IAAE,IAAIgT,gBAAgB,GAAG/S,MAAM,CAACD,qBAAqB,CAAC8B,MAAM,CAAC;IAAE,KAAKd,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgS,gBAAgB,CAAC5Q,MAAM,EAAEpB,CAAC,EAAE,EAAE;MAAEqB,GAAG,GAAG2Q,gBAAgB,CAAChS,CAAC,CAAC;MAAE,IAAI8R,QAAQ,CAACzM,OAAO,CAAChE,GAAG,CAAC,IAAI,CAAC,EAAE;MAAU,IAAI,CAACpC,MAAM,CAACE,SAAS,CAACE,oBAAoB,CAACiC,IAAI,CAACR,MAAM,EAAEO,GAAG,CAAC,EAAE;MAAUR,MAAM,CAACQ,GAAG,CAAC,GAAGP,MAAM,CAACO,GAAG,CAAC;IAAG;EAAA;EAAG,OAAOR,MAAM;AAAG;AAE5e,SAASkR,6BAA6B,CAACjR,MAAM,EAAEgR,QAAQ,EAAE;EAAE,IAAIhR,MAAM,IAAI,IAAI,EAAE,OAAO,CAAE,CAAA;EAAE,IAAID,MAAM,GAAG,CAAE,CAAA;EAAE,IAAIoR,UAAU,GAAGhT,MAAM,CAACyB,IAAI,CAACI,MAAM,CAAC;EAAE,IAAIO,GAAG,EAAErB,CAAC;EAAE,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiS,UAAU,CAAC7Q,MAAM,EAAEpB,CAAC,EAAE,EAAE;IAAEqB,GAAG,GAAG4Q,UAAU,CAACjS,CAAC,CAAC;IAAE,IAAI8R,QAAQ,CAACzM,OAAO,CAAChE,GAAG,CAAC,IAAI,CAAC,EAAE;IAAUR,MAAM,CAACQ,GAAG,CAAC,GAAGP,MAAM,CAACO,GAAG,CAAC;EAAC;EAAG,OAAOR,MAAM;AAAG;AAEnT,IAAIqR,GAAG,GAAGC,kBAAkB;IAE5BC,mBAAc,GAAG,UAAUC,IAAI,EAAE;EAC/B,IAAItG,KAAK,GAAGsG,IAAI,CAACtG,KAAK;IAClBuG,WAAW,GAAGD,IAAI,CAACrG,MAAM;IACzBA,MAAM,GAAGsG,WAAW,KAAK,KAAK,CAAC,GAAG,CAAE,CAAA,GAAGA,WAAW;IAClDC,YAAY,GAAGF,IAAI,CAAClC,OAAO;IAC3BA,OAAO,GAAGoC,YAAY,KAAK,KAAK,CAAC,GAAG,CAAA,CAAE,GAAGA,YAAY;;EAE3D;EACE,IAAI5E,GAAG,GAAGwC,OAAO,CAACxC,GAAG;IACjB0C,IAAI,GAAGwB,wBAAwB,CAAC1B,OAAO,EAAEyB,SAAS,CAAC;EAEvD,IAAIY,CAAC,GAAG,QAAQ,CAAC1N,MAAM,CAACoN,GAAG,CAACnG,KAAK,CAAC,CAAC;EACnC,IAAI0G,IAAI,GAAG9E,GAAG,GAAG,OAAO,CAAC7I,MAAM,CAACoN,GAAG,CAACvE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC7I,MAAM,CAAC0N,CAAC,CAAC,GAAG,GAAG,CAAC1N,MAAM,CAAC0N,CAAC,CAAC;EACxE,IAAIE,OAAO,GAAGzT,MAAM,CAACyB,IAAI,CAACsL,MAAM,CAAC,CAACvG,MAAM,CAAC,UAAUkN,EAAE,EAAEC,KAAK,EAAE;IAC5D,OAAO,EAAE,CAAC9N,MAAM,CAAC6N,EAAE,EAAE,GAAG,CAAC,CAAC7N,MAAM,CAACoN,GAAG,CAAC,GAAG,CAACpN,MAAM,CAAC8N,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC9N,MAAM,CAACoN,GAAG,CAACW,IAAI,CAACC,SAAS,CAAC9G,MAAM,CAAC4G,KAAK,CAAC,CAAC,CAAC,CAAC;EACzG,CAAA,EAAEH,IAAI,CAAC;EACR,OAAOxT,MAAM,CAACyB,IAAI,CAAC2P,IAAI,CAAC,CAAC5K,MAAM,CAAC,UAAUkN,EAAE,EAAEI,MAAM,EAAE;IACxD;IACI,OAAO5C,OAAO,CAAC4C,MAAM,CAAC,GAAG,EAAE,CAACjO,MAAM,CAAC6N,EAAE,EAAE,GAAG,CAAC,CAAC7N,MAAM,CAACoN,GAAG,CAACa,MAAM,CAAC,EAAE,GAAG,CAAC,CAACjO,MAAM,CAACoN,GAAG,CAAC/B,OAAO,CAAC4C,MAAM,CAAC,CAAC,CAAC,GAAGJ,EAAE;EACvG,CAAA,EAAED,OAAO,CAAC;AACb,CAAC;;;;AC9BD,IAAIM,KAAK,GAAGtQ,UAAc,CAACsQ,KAAK;AAChC,IAAIC,MAAM,GAAGtQ,UAAiB;AAC9B,IAAIuQ,KAAK,GAAGrP,UAAgB;AAC5B,IAAIsP,IAAI,GAAGpP,YAAe;AAC1B,IAAIqP,IAAI,GAAGtM,UAAe;AAE1B,IAAIuM,YAAY,GAAG,CACjB,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EACnD,oBAAoB,EAAE,gBAAgB,EAAE,YAAY,EAAE,qBAAqB,CAC5E;AAED,IAAIC,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;AACzB,IAAIC,KAAK,GAAG,EAAE;AACd,IAAIC,KAAK,GAAG,EAAE;AACd,IAAIC,QAAQ,GAAG,EAAE;AACjB,IAAIC,cAAc,GAAG,EAAE;AACvB;AACA,IAAIC,wBAAwB,GAAG,IAAI,GAAG,GAAG;AACzC;AACA,IAAIC,cAAc,GAAG,2BAA2B;AAEhD,SAASC,MAAM,CAAEC,GAAG,EAAE;EACpB,OAAOR,GAAG,CAACS,KAAK,CAAC,UAAUC,QAAQ,EAAExP,KAAK,EAAE;IAC1C,OAAOsP,GAAG,CAACtP,KAAK,CAAC,KAAKwP,QAAQ;EAClC,CAAG,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,aAAW,CAAEC,GAAG,EAAEC,mBAAmB,EAAE;EAC9C,IAAIC,UAAU,GAAGH,aAAW,CAACI,UAAU;EACvC,IAAIC,OAAO,GAAGH,mBAAmB,IAAIA,mBAAmB,CAACG,OAAO;EAChE,IAAIC,YAAY,GAAG,KAAK;EACxBtV,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE;IACxCiT,GAAG,EAAE,YAAY;MACf,OAAOJ,UAAU;IAClB;EACL,CAAG,CAAC;EAEFnV,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE;IACjCiT,GAAG,EAAE,YAAY;MACf,OAAON,GAAG;IACX;EACL,CAAG,CAAC;EAEF,IAAIO,IAAI,GAAG,IAAI;EACfA,IAAI,CAACC,iBAAiB,GAAG,IAAI;EAC7BD,IAAI,CAACE,oBAAoB,GAAG,KAAK;EAEjC,SAASC,kBAAkB,CAAErR,OAAO,EAAE;IACpC,IAAI6Q,UAAU,KAAKH,aAAW,CAACY,MAAM,EAAE;IACvCT,UAAU,GAAGH,aAAW,CAACI,UAAU;IACnCS,KAAK,CAAC,OAAO,EAAE,IAAIC,KAAK,CAAC,OAAO,EAAE;MAACxR,OAAO,EAAEA;IAAO,CAAC,CAAC,CAAC;;IAE1D;IACA;IACI,IAAIyR,YAAY,EAAE;MAChBd,GAAG,GAAGc,YAAY;MAClBA,YAAY,GAAG,IAAI;MACnBT,YAAY,GAAG,KAAK;IACrB;IACDhS,UAAU,CAAC,YAAY;MACrB,IAAI6R,UAAU,KAAKH,aAAW,CAACI,UAAU,IAAII,IAAI,CAACE,oBAAoB,EAAE;QACtE;MACD;MACDF,IAAI,CAACE,oBAAoB,GAAG,IAAI;MAChCM,OAAO,EAAE;IACf,CAAK,EAAER,IAAI,CAACC,iBAAiB,CAAC;EAC3B;EAED,IAAIQ,GAAG;EACP,IAAIC,WAAW,GAAG,EAAE;EACpB,IAAIb,OAAO,IAAIA,OAAO,CAAC,eAAe,CAAC,EAAE;IACvCa,WAAW,GAAGb,OAAO,CAAC,eAAe,CAAC;IACtC,OAAOA,OAAO,CAAC,eAAe,CAAC;EAChC;EAED,IAAIc,sBAAsB,GAAG,KAAK;EAClC,IAAIC,IAAI,GAAG,EAAE;EACb,IAAIC,SAAS,GAAG,EAAE;EAElB,IAAIN,YAAY,GAAG,IAAI;EAEvB,SAASC,OAAO,GAAI;IAClB,IAAI9E,OAAO,GAAG6C,KAAK,CAACkB,GAAG,CAAC;IACxB,IAAIqB,QAAQ,GAAGpF,OAAO,CAACqF,QAAQ,KAAK,QAAQ;IAC5CrF,OAAO,CAACmE,OAAO,GAAG;MAAE,eAAe,EAAE,UAAU;MAAE,QAAQ,EAAE;IAAqB,CAAA;IAChF,IAAIa,WAAW,EAAEhF,OAAO,CAACmE,OAAO,CAAC,eAAe,CAAC,GAAGa,WAAW;IAC/D,IAAIb,OAAO,EAAE;MACX,IAAImB,UAAU,GAAGlB,YAAY,GAAGmB,mBAAmB,CAACpB,OAAO,CAAC,GAAGA,OAAO;MACtE,KAAK,IAAItU,CAAC,IAAIyV,UAAU,EAAE;QACxB,IAAIE,MAAM,GAAGF,UAAU,CAACzV,CAAC,CAAC;QAC1B,IAAI2V,MAAM,EAAE;UACVxF,OAAO,CAACmE,OAAO,CAACtU,CAAC,CAAC,GAAG2V,MAAM;QAC5B;MACF;IACF;;IAEL;IACA;IACIxF,OAAO,CAACyF,kBAAkB,GAAG,EAAEzB,mBAAmB,IAAI,CAACA,mBAAmB,CAACyB,kBAAkB,CAAC;IAE9F,IAAIzB,mBAAmB,IAAIA,mBAAmB,CAAC0B,gBAAgB,KAAKrW,SAAS,EAAE;MAC7E2Q,OAAO,CAAC0F,gBAAgB,GAAG1B,mBAAmB,CAAC0B,gBAAgB;IAChE;;IAEL;IACA;IACI,IAAIC,QAAQ,GAAG3B,mBAAmB,IAAIA,mBAAmB,CAAC4B,KAAK;IAC/D,IAAID,QAAQ,EAAE;MACZ,IAAIC,KAAK,GAAG/C,KAAK,CAACmB,mBAAmB,CAAC4B,KAAK,CAAC;MAC5CR,QAAQ,GAAGQ,KAAK,CAACP,QAAQ,KAAK,QAAQ;MAEtCrF,OAAO,CAACqF,QAAQ,GAAGD,QAAQ,GAAG,QAAQ,GAAG,OAAO;MAChDpF,OAAO,CAAC6F,IAAI,GAAG9B,GAAG;MAClB/D,OAAO,CAACmE,OAAO,CAAC2B,IAAI,GAAG9F,OAAO,CAAC+F,IAAI;MACnC/F,OAAO,CAACgG,QAAQ,GAAGJ,KAAK,CAACI,QAAQ;MACjChG,OAAO,CAAC+F,IAAI,GAAGH,KAAK,CAACG,IAAI;MACzB/F,OAAO,CAACiG,IAAI,GAAGL,KAAK,CAACK,IAAI;IAC1B;;IAEL;IACI,IAAIjC,mBAAmB,IAAIA,mBAAmB,CAACjB,KAAK,EAAE;MACpD,KAAK,IAAImD,OAAO,IAAIlC,mBAAmB,CAACjB,KAAK,EAAE;QAC7C,IAAIG,YAAY,CAAChO,OAAO,CAACgR,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;UACxC;QACD;QAED,IAAItD,MAAM,GAAGoB,mBAAmB,CAACjB,KAAK,CAACmD,OAAO,CAAC;QAC/C,IAAItD,MAAM,KAAKvT,SAAS,EAAE;UACxB2Q,OAAO,CAACkG,OAAO,CAAC,GAAGtD,MAAM;QAC1B;MACF;IACF;;IAEL;IACI,IAAIoB,mBAAmB,IAAIA,mBAAmB,CAACmC,eAAe,KAAK9W,SAAS,EAAE;MAC5E2Q,OAAO,CAACmG,eAAe,GAAGnC,mBAAmB,CAACmC,eAAe;IAC9D;IAEDpB,GAAG,GAAG,CAACK,QAAQ,GAAGrC,KAAK,GAAGC,IAAI,EAAEoD,OAAO,CAACpG,OAAO,EAAE,UAAUqG,GAAG,EAAE;MAC9D/B,IAAI,CAACE,oBAAoB,GAAG,KAAK;MACvC;MACM,IAAI6B,GAAG,CAACC,UAAU,KAAK,GAAG,IAAID,GAAG,CAACC,UAAU,KAAK,GAAG,IAAID,GAAG,CAACC,UAAU,KAAK,GAAG,IAAID,GAAG,CAACC,UAAU,KAAK,GAAG,EAAE;QACxG3B,KAAK,CAAC,OAAO,EAAE,IAAIC,KAAK,CAAC,OAAO,EAAE;UAAC2B,MAAM,EAAEF,GAAG,CAACC,UAAU;UAAElT,OAAO,EAAEiT,GAAG,CAACG;QAAa,CAAC,CAAC,CAAC;QACxF/B,kBAAkB,EAAE;QACpB;MACD;;MAEP;MACM,IAAI4B,GAAG,CAACC,UAAU,KAAK,GAAG,IAAID,GAAG,CAACC,UAAU,KAAK,GAAG,IAAID,GAAG,CAACC,UAAU,KAAK,GAAG,EAAE;QAC9E,IAAIG,QAAQ,GAAGJ,GAAG,CAAClC,OAAO,CAACsC,QAAQ;QACnC,IAAI,CAACA,QAAQ,EAAE;UACvB;UACU9B,KAAK,CAAC,OAAO,EAAE,IAAIC,KAAK,CAAC,OAAO,EAAE;YAAC2B,MAAM,EAAEF,GAAG,CAACC,UAAU;YAAElT,OAAO,EAAEiT,GAAG,CAACG;UAAa,CAAC,CAAC,CAAC;UACxF;QACD;QACD,IAAIE,UAAU,GAAG,IAAIC,GAAG,CAAC5C,GAAG,CAAC,CAAC6C,MAAM;QACpC,IAAIC,UAAU,GAAG,IAAIF,GAAG,CAACF,QAAQ,CAAC,CAACG,MAAM;QACzCxC,YAAY,GAAGsC,UAAU,KAAKG,UAAU;QACxC,IAAIR,GAAG,CAACC,UAAU,KAAK,GAAG,EAAEzB,YAAY,GAAGd,GAAG;QAC9CA,GAAG,GAAG0C,QAAQ;QACdK,OAAO,CAACC,QAAQ,CAACjC,OAAO,CAAC;QACzB;MACD;MAED,IAAIuB,GAAG,CAACC,UAAU,KAAK,GAAG,EAAE;QAC1B3B,KAAK,CAAC,OAAO,EAAE,IAAIC,KAAK,CAAC,OAAO,EAAE;UAAC2B,MAAM,EAAEF,GAAG,CAACC,UAAU;UAAElT,OAAO,EAAEiT,GAAG,CAACG;QAAa,CAAC,CAAC,CAAC;QACxF,OAAOlC,IAAI,CAAC0C,KAAK,EAAE;MACpB;MAED/C,UAAU,GAAGH,aAAW,CAACmD,IAAI;MAC7BZ,GAAG,CAACa,EAAE,CAAC,OAAO,EAAE,YAAY;QAC1Bb,GAAG,CAACc,kBAAkB,CAAC,OAAO,CAAC;QAC/Bd,GAAG,CAACc,kBAAkB,CAAC,KAAK,CAAC;QAC7B1C,kBAAkB,EAAE;MAC5B,CAAO,CAAC;MAEF4B,GAAG,CAACa,EAAE,CAAC,KAAK,EAAE,YAAY;QACxBb,GAAG,CAACc,kBAAkB,CAAC,OAAO,CAAC;QAC/Bd,GAAG,CAACc,kBAAkB,CAAC,KAAK,CAAC;QAC7B1C,kBAAkB,EAAE;MAC5B,CAAO,CAAC;MACFE,KAAK,CAAC,MAAM,EAAE,IAAIC,KAAK,CAAC,MAAM,CAAC,CAAC;;MAEtC;MACA;MACM,IAAIjB,GAAG;MACP,IAAIyD,SAAS;MACb,IAAIC,WAAW,GAAG,CAAC;MACnB,IAAIC,mBAAmB,GAAG,CAAC,CAAC;MAC5B,IAAIC,aAAa,GAAG,CAAC;MACrB,IAAIC,SAAS,GAAG,CAAC;MAEjBnB,GAAG,CAACa,EAAE,CAAC,MAAM,EAAE,UAAUO,KAAK,EAAE;QAC9B,IAAI,CAAC9D,GAAG,EAAE;UACRA,GAAG,GAAG8D,KAAK;UACX,IAAI/D,MAAM,CAACC,GAAG,CAAC,EAAE;YACfA,GAAG,GAAGA,GAAG,CAAC9C,KAAK,CAACsC,GAAG,CAAClS,MAAM,CAAC;UAC5B;UACDuW,SAAS,GAAG7D,GAAG,CAAC1S,MAAM;QAChC,CAAS,MAAM;UACL,IAAIwW,KAAK,CAACxW,MAAM,GAAG0S,GAAG,CAAC1S,MAAM,GAAGuW,SAAS,EAAE;YACzCD,aAAa,GAAI5D,GAAG,CAAC1S,MAAM,GAAG,CAAC,GAAIwW,KAAK,CAACxW,MAAM;YAC/C,IAAIsW,aAAa,GAAG/D,wBAAwB,EAAE;cAC5C+D,aAAa,GAAG5D,GAAG,CAAC1S,MAAM,GAAGwW,KAAK,CAACxW,MAAM,GAAGuS,wBAAwB;YACrE;YACD4D,SAAS,GAAGM,MAAM,CAACC,KAAK,CAACJ,aAAa,CAAC;YACvC5D,GAAG,CAACiE,IAAI,CAACR,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEI,SAAS,CAAC;YACpC7D,GAAG,GAAGyD,SAAS;UAChB;UACDK,KAAK,CAACG,IAAI,CAACjE,GAAG,EAAE6D,SAAS,CAAC;UAC1BA,SAAS,IAAIC,KAAK,CAACxW,MAAM;QAC1B;QAED,IAAI4W,GAAG,GAAG,CAAC;QACX,IAAI5W,MAAM,GAAGuW,SAAS;QAEtB,OAAOK,GAAG,GAAG5W,MAAM,EAAE;UACnB,IAAIgU,sBAAsB,EAAE;YAC1B,IAAItB,GAAG,CAACkE,GAAG,CAAC,KAAKvE,QAAQ,EAAE;cACzB,EAAEuE,GAAG;YACN;YACD5C,sBAAsB,GAAG,KAAK;UAC/B;UAED,IAAI6C,UAAU,GAAG,CAAC,CAAC;UACnB,IAAIC,WAAW,GAAGT,mBAAmB;UACrC,IAAIU,CAAC;UAEL,KAAK,IAAInY,CAAC,GAAGwX,WAAW,EAAES,UAAU,GAAG,CAAC,IAAIjY,CAAC,GAAGoB,MAAM,EAAE,EAAEpB,CAAC,EAAE;YAC3DmY,CAAC,GAAGrE,GAAG,CAAC9T,CAAC,CAAC;YACV,IAAImY,CAAC,KAAK5E,KAAK,EAAE;cACf,IAAI2E,WAAW,GAAG,CAAC,EAAE;gBACnBA,WAAW,GAAGlY,CAAC,GAAGgY,GAAG;cACtB;YACf,CAAa,MAAM,IAAIG,CAAC,KAAKzE,cAAc,EAAE;cAC/B0B,sBAAsB,GAAG,IAAI;cAC7B6C,UAAU,GAAGjY,CAAC,GAAGgY,GAAG;YAClC,CAAa,MAAM,IAAIG,CAAC,KAAK1E,QAAQ,EAAE;cACzBwE,UAAU,GAAGjY,CAAC,GAAGgY,GAAG;YACrB;UACF;UAED,IAAIC,UAAU,GAAG,CAAC,EAAE;YAClBT,WAAW,GAAGpW,MAAM,GAAG4W,GAAG;YAC1BP,mBAAmB,GAAGS,WAAW;YACjC;UACZ,CAAW,MAAM;YACLV,WAAW,GAAG,CAAC;YACfC,mBAAmB,GAAG,CAAC,CAAC;UACzB;UAEDW,oBAAoB,CAACtE,GAAG,EAAEkE,GAAG,EAAEE,WAAW,EAAED,UAAU,CAAC;UAEvDD,GAAG,IAAIC,UAAU,GAAG,CAAC;QACtB;QAED,IAAID,GAAG,KAAK5W,MAAM,EAAE;UAClB0S,GAAG,GAAG,KAAK,CAAC;UACZ6D,SAAS,GAAG,CAAC;QACvB,CAAS,MAAM,IAAIK,GAAG,GAAG,CAAC,EAAE;UAClBlE,GAAG,GAAGA,GAAG,CAAC9C,KAAK,CAACgH,GAAG,EAAEL,SAAS,CAAC;UAC/BA,SAAS,GAAG7D,GAAG,CAAC1S,MAAM;QACvB;MACT,CAAO,CAAC;IACR,CAAK,CAAC;IAEF8T,GAAG,CAACmC,EAAE,CAAC,OAAO,EAAE,UAAU1W,GAAG,EAAE;MAC7B8T,IAAI,CAACE,oBAAoB,GAAG,KAAK;MACjCC,kBAAkB,CAACjU,GAAG,CAAC4C,OAAO,CAAC;IACrC,CAAK,CAAC;IAEF,IAAI2R,GAAG,CAACmD,UAAU,EAAEnD,GAAG,CAACmD,UAAU,CAAC,IAAI,CAAC;IACxCnD,GAAG,CAACoD,GAAG,EAAE;EACV;EAEDrD,OAAO,EAAE;EAET,SAASH,KAAK,GAAI;IAChB,IAAIL,IAAI,CAAC8D,SAAS,CAACpX,SAAS,CAAC,CAAC,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE;MAC3CqT,IAAI,CAAC+D,IAAI,CAACC,KAAK,CAAChE,IAAI,EAAEtT,SAAS,CAAC;IACjC;EACF;EAED,IAAI,CAACuX,MAAM,GAAG,YAAY;IACxB,IAAItE,UAAU,KAAKH,aAAW,CAACY,MAAM,EAAE;IACvCT,UAAU,GAAGH,aAAW,CAACY,MAAM;IAC/B,IAAIK,GAAG,CAACyD,KAAK,EAAEzD,GAAG,CAACyD,KAAK,EAAE;IAC1B,IAAIzD,GAAG,CAAC0D,GAAG,IAAI1D,GAAG,CAAC0D,GAAG,CAACD,KAAK,EAAEzD,GAAG,CAAC0D,GAAG,CAACD,KAAK,EAAE;EAC9C,CAAA;EAED,SAASP,oBAAoB,CAAEtE,GAAG,EAAEkE,GAAG,EAAEE,WAAW,EAAED,UAAU,EAAE;IAChE,IAAIA,UAAU,KAAK,CAAC,EAAE;MACpB,IAAI5C,IAAI,CAACjU,MAAM,GAAG,CAAC,EAAE;QACnB,IAAIuL,IAAI,GAAG2I,SAAS,IAAI,SAAS;QACjCR,KAAK,CAACnI,IAAI,EAAE,IAAIkM,YAAY,CAAClM,IAAI,EAAE;UACjC0I,IAAI,EAAEA,IAAI,CAACrE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAAA;UACvBmE,WAAW,EAAEA,WAAW;UACxB4B,MAAM,EAAE,IAAID,GAAG,CAAC5C,GAAG,CAAC,CAAC6C;QAC/B,CAAS,CAAC,CAAC;QACH1B,IAAI,GAAG,EAAE;MACV;MACDC,SAAS,GAAG,KAAK,CAAC;IACxB,CAAK,MAAM,IAAI4C,WAAW,GAAG,CAAC,EAAE;MAC1B,IAAIY,OAAO,GAAGZ,WAAW,GAAG,CAAC;MAC7B,IAAIa,IAAI,GAAG,CAAC;MACZ,IAAIC,KAAK,GAAGlF,GAAG,CAAC9C,KAAK,CAACgH,GAAG,EAAEA,GAAG,IAAIc,OAAO,GAAGb,UAAU,GAAGC,WAAW,CAAC,CAAC,CAAC1U,QAAQ,EAAE;MAEjF,IAAIsV,OAAO,EAAE;QACXC,IAAI,GAAGd,UAAU;MACzB,CAAO,MAAM,IAAInE,GAAG,CAACkE,GAAG,GAAGE,WAAW,GAAG,CAAC,CAAC,KAAK1E,KAAK,EAAE;QAC/CuF,IAAI,GAAGb,WAAW,GAAG,CAAC;MAC9B,CAAO,MAAM;QACLa,IAAI,GAAGb,WAAW,GAAG,CAAC;MACvB;MACDF,GAAG,IAAIe,IAAI;MAEX,IAAIE,WAAW,GAAGhB,UAAU,GAAGc,IAAI;MACnC,IAAItX,KAAK,GAAGqS,GAAG,CAAC9C,KAAK,CAACgH,GAAG,EAAEA,GAAG,GAAGiB,WAAW,CAAC,CAACzV,QAAQ,EAAE;MAExD,IAAIwV,KAAK,KAAK,MAAM,EAAE;QACpB3D,IAAI,IAAI5T,KAAK,GAAG,IAAI;MAC5B,CAAO,MAAM,IAAIuX,KAAK,KAAK,OAAO,EAAE;QAC5B1D,SAAS,GAAG7T,KAAK;MACzB,CAAO,MAAM,IAAIuX,KAAK,KAAK,IAAI,EAAE;QACzB7D,WAAW,GAAG1T,KAAK;MAC3B,CAAO,MAAM,IAAIuX,KAAK,KAAK,OAAO,EAAE;QAC5B,IAAIE,KAAK,GAAGC,QAAQ,CAAC1X,KAAK,EAAE,EAAE,CAAC;QAC/B,IAAI,CAAC2X,MAAM,CAACC,KAAK,CAACH,KAAK,CAAC,EAAE;UACxBzE,IAAI,CAACC,iBAAiB,GAAGwE,KAAK;QAC/B;MACF;IACF;EACF;AACH;AAEA,IAAAI,WAAc,GAAGrF,aAAW;AAE5Bb,IAAI,CAACmG,QAAQ,CAACtF,aAAW,EAAEhB,MAAM,CAACuG,YAAY,CAAC;AAC/CvF,aAAW,CAAC9U,SAAS,CAACuH,WAAW,GAAGuN,aAAW,CAAC,CAAA;;AAEhD,CAAC,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,CAACzT,OAAO,CAAC,UAAUiZ,MAAM,EAAE;EACrDxa,MAAM,CAACsC,cAAc,CAAC0S,aAAW,CAAC9U,SAAS,EAAE,IAAI,GAAGsa,MAAM,EAAE;IAC9D;AACA;AACA;AACA;AACA;AACA;IACIjF,GAAG,EAAE,SAASA,GAAG,GAAI;MACnB,IAAIkF,QAAQ,GAAG,IAAI,CAACnB,SAAS,CAACkB,MAAM,CAAC,CAAC,CAAC,CAAC;MACxC,OAAOC,QAAQ,GAAIA,QAAQ,CAACC,SAAS,GAAGD,QAAQ,CAACC,SAAS,GAAGD,QAAQ,GAAIla,SAAS;IACnF,CAAA;IAEL;AACA;AACA;AACA;AACA;AACA;AACA;IACI6O,GAAG,EAAE,SAASA,GAAG,CAAEqL,QAAQ,EAAE;MAC3B,IAAI,CAACpC,kBAAkB,CAACmC,MAAM,CAAC;MAC/B,IAAI,CAACG,gBAAgB,CAACH,MAAM,EAAEC,QAAQ,CAAC;IACxC;EACL,CAAG,CAAC;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACAza,MAAM,CAACsC,cAAc,CAAC0S,aAAW,EAAE,YAAY,EAAE;EAACpG,UAAU,EAAE,IAAI;EAAEpM,KAAK,EAAE;AAAC,CAAC,CAAC;AAC9ExC,MAAM,CAACsC,cAAc,CAAC0S,aAAW,EAAE,MAAM,EAAE;EAACpG,UAAU,EAAE,IAAI;EAAEpM,KAAK,EAAE;AAAC,CAAC,CAAC;AACxExC,MAAM,CAACsC,cAAc,CAAC0S,aAAW,EAAE,QAAQ,EAAE;EAACpG,UAAU,EAAE,IAAI;EAAEpM,KAAK,EAAE;AAAC,CAAC,CAAC;AAE1EwS,aAAW,CAAC9U,SAAS,CAACkV,UAAU,GAAG,CAAC;AACpCJ,aAAW,CAAC9U,SAAS,CAACiY,IAAI,GAAG,CAAC;AAC9BnD,aAAW,CAAC9U,SAAS,CAAC0V,MAAM,GAAG,CAAC;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACAZ,aAAW,CAAC9U,SAAS,CAACgY,KAAK,GAAG,YAAY;EACxC,IAAI,CAACuB,MAAM,EAAE;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAzE,aAAW,CAAC9U,SAAS,CAACya,gBAAgB,GAAG,SAASA,gBAAgB,CAAEjN,IAAI,EAAE+M,QAAQ,EAAE;EAClF,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;IACtC;IACIA,QAAQ,CAACC,SAAS,GAAGD,QAAQ;IAC7B,IAAI,CAACrC,EAAE,CAAC1K,IAAI,EAAE+M,QAAQ,CAAC;EACxB;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAzF,aAAW,CAAC9U,SAAS,CAAC0a,aAAa,GAAG,SAASA,aAAa,CAAEC,KAAK,EAAE;EACnE,IAAI,CAACA,KAAK,CAACnN,IAAI,EAAE;IACf,MAAM,IAAI3K,KAAK,CAAC,4BAA4B,CAAC;EAC9C;EACH;EACA;EACE,IAAI,CAACwW,IAAI,CAACsB,KAAK,CAACnN,IAAI,EAAEmN,KAAK,CAACC,MAAM,CAAC;AACrC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA9F,aAAW,CAAC9U,SAAS,CAAC6a,mBAAmB,GAAG,SAASA,mBAAmB,CAAErN,IAAI,EAAE+M,QAAQ,EAAE;EACxF,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;IAClCA,QAAQ,CAACC,SAAS,GAAGna,SAAS;IAC9B,IAAI,CAACya,cAAc,CAACtN,IAAI,EAAE+M,QAAQ,CAAC;EACpC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,SAAS3E,KAAK,CAAEpI,IAAI,EAAEuN,kBAAkB,EAAE;EACxCjb,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;IAAEwM,QAAQ,EAAE,KAAK;IAAEtM,KAAK,EAAEkL,IAAI;IAAEkB,UAAU,EAAE;EAAI,CAAE,CAAC;EACvF,IAAIqM,kBAAkB,EAAE;IACtB,KAAK,IAAIC,CAAC,IAAID,kBAAkB,EAAE;MAChC,IAAIA,kBAAkB,CAAChb,cAAc,CAACib,CAAC,CAAC,EAAE;QACxClb,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE4Y,CAAC,EAAE;UAAEpM,QAAQ,EAAE,KAAK;UAAEtM,KAAK,EAAEyY,kBAAkB,CAACC,CAAC,CAAC;UAAEtM,UAAU,EAAE;QAAI,CAAE,CAAC;MACpG;IACF;EACF;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASgL,YAAY,CAAElM,IAAI,EAAEyN,aAAa,EAAE;EAC1Cnb,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;IAAEwM,QAAQ,EAAE,KAAK;IAAEtM,KAAK,EAAEkL,IAAI;IAAEkB,UAAU,EAAE;EAAI,CAAE,CAAC;EACvF,KAAK,IAAIsM,CAAC,IAAIC,aAAa,EAAE;IAC3B,IAAIA,aAAa,CAAClb,cAAc,CAACib,CAAC,CAAC,EAAE;MACnClb,MAAM,CAACsC,cAAc,CAAC,IAAI,EAAE4Y,CAAC,EAAE;QAAEpM,QAAQ,EAAE,KAAK;QAAEtM,KAAK,EAAE2Y,aAAa,CAACD,CAAC,CAAC;QAAEtM,UAAU,EAAE;MAAI,CAAE,CAAC;IAC/F;EACF;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS6H,mBAAmB,CAAEpB,OAAO,EAAE;EACrC,IAAI+F,IAAI,GAAG,CAAE,CAAA;EACb,KAAK,IAAIhZ,GAAG,IAAIiT,OAAO,EAAE;IACvB,IAAIV,cAAc,CAACpH,IAAI,CAACnL,GAAG,CAAC,EAAE;MAC5B;IACD;IAEDgZ,IAAI,CAAChZ,GAAG,CAAC,GAAGiT,OAAO,CAACjT,GAAG,CAAC;EACzB;EAED,OAAOgZ,IAAI;AACb;;EC9eAC,MAAiB,CAAA3U,OAAA,GAAAjD,WAAA;;ACEjB,IAAA6X,MAAc,GAAG,UAAUpO,GAAG,EAAEmC,KAAK,EAAE;EACrC,OAAOA,KAAK,CAAC7I,MAAM,CAAC,UAAUyI,SAAS,EAAEsM,IAAI,EAAE;IAC7C,IAAI,OAAOrO,GAAG,CAACqO,IAAI,CAAC,KAAK,WAAW,EAAE;MACpC,OAAOtM,SAAS;IACjB;IAEDA,SAAS,CAACsM,IAAI,CAAC,GAAGrO,GAAG,CAACqO,IAAI,CAAC;IAC3B,OAAOtM,SAAS;EACjB,CAAA,EAAE,CAAE,CAAA,CAAC;AACR,CAAC;ACTD,IAAAuM,UAAc,GAAG,UAAUtO,GAAG,EAAEsO,QAAQ,EAAE;EACxC,OAAOxb,MAAM,CAACyB,IAAI,CAAC+Z,QAAQ,CAAC,CAAC3V,MAAM,CAAC7F,MAAM,CAACyB,IAAI,CAACyL,GAAG,CAAC,CAAC,CAAC1G,MAAM,CAAC,UAAU5E,MAAM,EAAE2Z,IAAI,EAAE;IACnF3Z,MAAM,CAAC2Z,IAAI,CAAC,GAAG,OAAOrO,GAAG,CAACqO,IAAI,CAAC,KAAK,WAAW,GAAGC,QAAQ,CAACD,IAAI,CAAC,GAAGrO,GAAG,CAACqO,IAAI,CAAC;IAC5E,OAAO3Z,MAAM;EACd,CAAA,EAAE,CAAE,CAAA,CAAC;AACR,CAAC;ACLD,SAAS6Z,SAAO,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAIla,IAAI,GAAGzB,MAAM,CAACyB,IAAI,CAACia,MAAM,CAAC;EAAE,IAAI1b,MAAM,CAACD,qBAAqB,EAAE;IAAE,IAAIiC,OAAO,GAAGhC,MAAM,CAACD,qBAAqB,CAAC2b,MAAM,CAAC;IAAEC,cAAc,KAAK3Z,OAAO,GAAGA,OAAO,CAAC2J,MAAM,CAAC,UAAUiQ,GAAG,EAAE;MAAE,OAAO5b,MAAM,CAAC6b,wBAAwB,CAACH,MAAM,EAAEE,GAAG,CAAC,CAAChN,UAAU;IAAC,CAAE,CAAC,CAAC,EAAEnN,IAAI,CAACqE,IAAI,CAAC0T,KAAK,CAAC/X,IAAI,EAAEO,OAAO,CAAC;EAAC;EAAG,OAAOP,IAAI;AAAG;AAErV,SAASqa,eAAa,CAACla,MAAM,EAAE;EAAE,KAAK,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmB,SAAS,CAACC,MAAM,EAAEpB,CAAC,EAAE,EAAE;IAAE,IAAIc,MAAM,GAAG,IAAI,IAAIK,SAAS,CAACnB,CAAC,CAAC,GAAGmB,SAAS,CAACnB,CAAC,CAAC,GAAG,CAAE,CAAA;IAAEA,CAAC,GAAG,CAAC,GAAG0a,SAAO,CAACzb,MAAM,CAAC6B,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACN,OAAO,CAAC,UAAUa,GAAG,EAAE;MAAEuM,iBAAe,CAAC/M,MAAM,EAAEQ,GAAG,EAAEP,MAAM,CAACO,GAAG,CAAC,CAAC;IAAG,CAAA,CAAC,GAAGpC,MAAM,CAAC+b,yBAAyB,GAAG/b,MAAM,CAACgc,gBAAgB,CAACpa,MAAM,EAAE5B,MAAM,CAAC+b,yBAAyB,CAACla,MAAM,CAAC,CAAC,GAAG4Z,SAAO,CAACzb,MAAM,CAAC6B,MAAM,CAAC,CAAC,CAACN,OAAO,CAAC,UAAUa,GAAG,EAAE;MAAEpC,MAAM,CAACsC,cAAc,CAACV,MAAM,EAAEQ,GAAG,EAAEpC,MAAM,CAAC6b,wBAAwB,CAACha,MAAM,EAAEO,GAAG,CAAC,CAAC;IAAC,CAAE,CAAC;EAAG;EAAC,OAAOR,MAAM;AAAG;AAE1f,SAAS+M,iBAAe,CAACzB,GAAG,EAAE9K,GAAG,EAAEI,KAAK,EAAE;EAAE,IAAIJ,GAAG,IAAI8K,GAAG,EAAE;IAAElN,MAAM,CAACsC,cAAc,CAAC4K,GAAG,EAAE9K,GAAG,EAAE;MAAEI,KAAK,EAAEA,KAAK;MAAEoM,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAA,CAAC;EAAC,CAAE,MAAM;IAAE5B,GAAG,CAAC9K,GAAG,CAAC,GAAGI,KAAK;EAAC;EAAG,OAAO0K,GAAG;AAAG;AAEjN,IAAIxM,QAAM,GAAG+C,YAAwB;AAErC,IAAI+I,UAAQ,GAAG9I,YAA6B;EACxCkH,YAAU,GAAG4B,UAAQ,CAAC5B,UAAU;AAEpC,IAAIqR,qBAAqB,GAAGrX,MAAAA,CAAAA,OAA8B;AAE1D,IAAI0W,IAAI,GAAGxW,MAAuB;AAElC,IAAI0W,QAAQ,GAAG3T,UAA2B;AAE1C,IAAIsL,mBAAiB,GAAGrL,mBAA8B,CAAC,CAAA;AACvD;AACA;;AAGA,IAAIoU,cAAc,GAAG,KAAK,GAAG,IAAI;AACjC,IAAIlH,WAAW,GAAGiH,qBAAqB;AACvC,IAAIE,eAAe,GAAG,CAAC,yBAAyB,EAAE,eAAe,EAAE,YAAY,EAAE,cAAc,EAAE,KAAK,CAAC;AACvG,IAAIC,cAAc,GAAG;EACnBC,aAAa,EAAE;AACjB,CAAC;AAED,IAAAC,QAAc,GAAG,SAASA,MAAM,CAACxP,KAAK,EAAEC,MAAM,EAAE;EAC9C,IAAIqE,IAAI,GAAGlP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;EACjF,IAAIqa,kBAAkB,GAAG,IAAI,CAACC,YAAY;IACtCvH,GAAG,GAAGsH,kBAAkB,CAACtH,GAAG;IAC5BwH,KAAK,GAAGF,kBAAkB,CAACE,KAAK;IAChCpF,eAAe,GAAGkF,kBAAkB,CAAClF,eAAe;IACpDqF,gBAAgB,GAAGH,kBAAkB,CAACG,gBAAgB;EAC1D,IAAIhO,GAAG,GAAG0C,IAAI,CAAC1C,GAAG,IAAIgO,gBAAgB,GAAG,CAACA,gBAAgB,EAAEtL,IAAI,CAAC1C,GAAG,CAAC,CAACtN,IAAI,CAAC,GAAG,CAAC,GAAGgQ,IAAI,CAAC1C,GAAG;EAE1F,IAAIwC,OAAO,GAAG4K,eAAa,CAACA,eAAa,CAAC,CAAE,CAAA,EAAEN,QAAQ,CAACpK,IAAI,EAAEgL,cAAc,CAAC,CAAC,EAAE,EAAE,EAAE;IACjF1N,GAAG,EAAEA;EACT,CAAG,CAAC;EAEF,IAAIiO,UAAU,GAAGrB,IAAI,CAACpK,OAAO,EAAEiL,eAAe,CAAC;EAC/C,IAAIzI,EAAE,GAAGP,mBAAiB,CAAC;IACzBrG,KAAK,EAAEA,KAAK;IACZC,MAAM,EAAEA,MAAM;IACdmE,OAAO,EAAEyL,UAAU;IACnBjO,GAAG,EAAEA;EACT,CAAG,CAAC;EACF,IAAIkO,GAAG,GAAG,EAAE,CAAC/W,MAAM,CAACoP,GAAG,CAAC,CAACpP,MAAM,CAAC,IAAI,CAACgX,UAAU,CAAC,QAAQ,EAAEnJ,EAAE,CAAC,CAAC;EAE9D,IAAIkJ,GAAG,CAACza,MAAM,GAAG+Z,cAAc,EAAE;IAC/B,OAAO,IAAItR,YAAU,CAAC,UAAUlB,QAAQ,EAAE;MACxC,OAAOA,QAAQ,CAAC5G,KAAK,CAAC,IAAIC,KAAK,CAAC,8BAA8B,CAAC,CAAC;IACtE,CAAK,CAAC;EACH;EAED,IAAI+Z,SAAS,GAAG5L,OAAO,CAAC8C,MAAM,GAAG9C,OAAO,CAAC8C,MAAM,GAAG,CAAC,UAAU,CAAC;EAC9D,IAAI+I,mBAAmB,GAAGD,SAAS,CAAC1W,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EAC/D,IAAI4W,SAAS,GAAG,CAAA,CAAE;EAElB,IAAIP,KAAK,IAAIpF,eAAe,EAAE;IAC5B2F,SAAS,CAAC3F,eAAe,GAAG,IAAI;EACjC;EAED,IAAIoF,KAAK,EAAE;IACTO,SAAS,CAAC3H,OAAO,GAAG;MAClB4H,aAAa,EAAE,SAAS,CAACpX,MAAM,CAAC4W,KAAK;IAC3C,CAAK;EACF;EAED,OAAO,IAAI7R,YAAU,CAAC,UAAUlB,QAAQ,EAAE;IACxC,IAAIwT,EAAE,GAAGC,cAAc,EAAE;IACzB,IAAIC,cAAc;IAClB,IAAIC,OAAO,GAAG,KAAK;IAEnB,SAASC,OAAO,GAAG;MACjB,IAAID,OAAO,EAAE;QACX;MACD;MAEDE,aAAa,EAAE,CAAC,CAAA;;MAEhB,IAAIF,OAAO,EAAE;QACX;MACD,CAAA,CAAA;MACP;MACA;MACA;MACA;;MAGM,IAAIH,EAAE,CAAC/H,UAAU,KAAKH,WAAW,CAACY,MAAM,EAAE;QACxC5Q,WAAW,EAAE;QACbwY,YAAY,CAACJ,cAAc,CAAC;QAC5BA,cAAc,GAAG9Z,UAAU,CAACma,IAAI,EAAE,GAAG,CAAC;MACvC;IACF;IAED,SAASC,cAAc,CAAChc,GAAG,EAAE;MAC3BgI,QAAQ,CAAC5G,KAAK,CAAC6a,YAAY,CAACjc,GAAG,CAAC,CAAC;IAClC;IAED,SAASkc,SAAS,CAACC,GAAG,EAAE;MACtB,IAAIhD,KAAK,GAAGiD,UAAU,CAACD,GAAG,CAAC;MAC3B,OAAOhD,KAAK,YAAY9X,KAAK,GAAG2G,QAAQ,CAAC5G,KAAK,CAAC+X,KAAK,CAAC,GAAGnR,QAAQ,CAAC7F,IAAI,CAACgX,KAAK,CAAC;IAC7E;IAED,SAASkD,YAAY,CAACF,GAAG,EAAE;MACzBR,OAAO,GAAG,IAAI;MACdrY,WAAW,EAAE;MACb0E,QAAQ,CAAC5F,QAAQ,EAAE;IACpB;IAED,SAASkB,WAAW,GAAG;MACrBkY,EAAE,CAACnC,mBAAmB,CAAC,OAAO,EAAEuC,OAAO,EAAE,KAAK,CAAC;MAC/CJ,EAAE,CAACnC,mBAAmB,CAAC,cAAc,EAAE2C,cAAc,EAAE,KAAK,CAAC;MAC7DR,EAAE,CAACnC,mBAAmB,CAAC,YAAY,EAAEgD,YAAY,EAAE,KAAK,CAAC;MACzDjB,SAAS,CAACvb,OAAO,CAAC,UAAUmM,IAAI,EAAE;QAChC,OAAOwP,EAAE,CAACnC,mBAAmB,CAACrN,IAAI,EAAEkQ,SAAS,EAAE,KAAK,CAAC;MAC7D,CAAO,CAAC;MACFV,EAAE,CAAChF,KAAK,EAAE;IACX;IAED,SAASqF,aAAa,GAAG;MACvB,IAAIR,mBAAmB,EAAE;QACvBrT,QAAQ,CAAC7F,IAAI,CAAC;UACZ6J,IAAI,EAAE;QAChB,CAAS,CAAC;MACH;IACF;IAED,SAASyP,cAAc,GAAG;MACxB,IAAIa,GAAG,GAAG,IAAIhJ,WAAW,CAAC4H,GAAG,EAAEI,SAAS,CAAC;MACzCgB,GAAG,CAACrD,gBAAgB,CAAC,OAAO,EAAE2C,OAAO,EAAE,KAAK,CAAC;MAC7CU,GAAG,CAACrD,gBAAgB,CAAC,cAAc,EAAE+C,cAAc,EAAE,KAAK,CAAC;MAC3DM,GAAG,CAACrD,gBAAgB,CAAC,YAAY,EAAEoD,YAAY,EAAE,KAAK,CAAC;MACvDjB,SAAS,CAACvb,OAAO,CAAC,UAAUmM,IAAI,EAAE;QAChC,OAAOsQ,GAAG,CAACrD,gBAAgB,CAACjN,IAAI,EAAEkQ,SAAS,EAAE,KAAK,CAAC;MAC3D,CAAO,CAAC;MACF,OAAOI,GAAG;IACX;IAED,SAASP,IAAI,GAAG;MACdP,EAAE,GAAGC,cAAc,EAAE;IACtB;IAED,SAASc,IAAI,GAAG;MACdZ,OAAO,GAAG,IAAI;MACdrY,WAAW,EAAE;IACd;IAED,OAAOiZ,IAAI;EACf,CAAG,CAAC;AACJ,CAAC;AAED,SAASH,UAAU,CAACjD,KAAK,EAAE;EACzB,IAAI;IACF,IAAIzE,IAAI,GAAGyE,KAAK,CAACzE,IAAI,IAAIxC,IAAI,CAACG,KAAK,CAAC8G,KAAK,CAACzE,IAAI,CAAC,IAAI,EAAE;IACrD,OAAO1V,QAAM,CAAC;MACZgN,IAAI,EAAEmN,KAAK,CAACnN;IACb,CAAA,EAAE0I,IAAI,CAAC;EACT,CAAA,CAAC,OAAO1U,GAAG,EAAE;IACZ,OAAOA,GAAG;EACX;AACH;AAEA,SAASic,YAAY,CAACjc,GAAG,EAAE;EACzB,IAAIA,GAAG,YAAYqB,KAAK,EAAE;IACxB,OAAOrB,GAAG;EACX;EAED,IAAImc,GAAG,GAAGC,UAAU,CAACpc,GAAG,CAAC;EACzB,OAAOmc,GAAG,YAAY9a,KAAK,GAAG8a,GAAG,GAAG,IAAI9a,KAAK,CAACmb,mBAAmB,CAACL,GAAG,CAAC,CAAC;AACzE;AAEA,SAASK,mBAAmB,CAACxc,GAAG,EAAE;EAChC,IAAI,CAACA,GAAG,CAACoB,KAAK,EAAE;IACd,OAAOpB,GAAG,CAAC4C,OAAO,IAAI,wBAAwB;EAC/C;EAED,IAAI5C,GAAG,CAACoB,KAAK,CAACqb,WAAW,EAAE;IACzB,OAAOzc,GAAG,CAACoB,KAAK,CAACqb,WAAW;EAC7B;EAED,OAAO,OAAOzc,GAAG,CAACoB,KAAK,KAAK,QAAQ,GAAGpB,GAAG,CAACoB,KAAK,GAAG8Q,IAAI,CAACC,SAAS,CAACnS,GAAG,CAACoB,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACvF;AC1LA,SAAS6L,iBAAe,CAACzB,GAAG,EAAE9K,GAAG,EAAEI,KAAK,EAAE;EAAE,IAAIJ,GAAG,IAAI8K,GAAG,EAAE;IAAElN,MAAM,CAACsC,cAAc,CAAC4K,GAAG,EAAE9K,GAAG,EAAE;MAAEI,KAAK,EAAEA,KAAK;MAAEoM,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAA,CAAC;EAAC,CAAE,MAAM;IAAE5B,GAAG,CAAC9K,GAAG,CAAC,GAAGI,KAAK;EAAC;EAAG,OAAO0K,GAAG;AAAG;AAEjN,IAAIxM,QAAM,GAAG+C,YAAwB;AAErC,IAAI+I,UAAQ,GAAG9I,YAA6B;EACxCxC,KAAG,GAAGsL,UAAQ,CAACtL,GAAG;EAClByK,QAAM,GAAGa,UAAQ,CAACb,MAAM;AAE5B,IAAI+F,YAAU,GAAG9M,YAAwB;AAEzC,IAAI+H,YAAY,GAAG7H,cAA+B;AAElD,IAAIqO,iBAAiB,GAAGtL,mBAA8B;AAEtD,IAAI+J,aAAW,GAAG9J,WAAwB;AAE1C,IAAIkH,OAAK,GAAGoP,KAAkB;AAE9B,IAAI9B,MAAM,GAAG+B,QAAmB;AAEhC,IAAIC,aAAa,GAAG,SAASA,aAAa,CAAC3K,KAAK,EAAE4K,QAAQ,EAAE;EAC1D,IAAI/b,KAAK,GAAG,OAAOmR,KAAK,KAAK,WAAW,GAAG4K,QAAQ,GAAG5K,KAAK;EAC3D,OAAOA,KAAK,KAAK,KAAK,GAAGpT,SAAS,GAAGiC,KAAK;AAC5C,CAAC;AAED,IAAIgc,gBAAgB,GAAG,SAASA,gBAAgB,GAAG;EACjD,IAAItN,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;EACpF,OAAO;IACLuc,MAAM,EAAEvN,OAAO,CAACuN,MAAM;IACtBC,SAAS,EAAE,IAAI;IACfrN,eAAe,EAAEiN,aAAa,CAACpN,OAAO,CAACG,eAAe,EAAE,IAAI,CAAC;IAC7DsN,UAAU,EAAEzN,OAAO,CAACyN,UAAU,IAAI,MAAM;IACxCC,qBAAqB,EAAE1N,OAAO,CAAC0N,qBAAqB;IACpDC,mCAAmC,EAAE3N,OAAO,CAAC2N;EACjD,CAAG;AACH,CAAC;AAED,IAAIC,UAAU,GAAG,SAASA,UAAU,CAACjE,KAAK,EAAE;EAC1C,OAAOA,KAAK,CAACnN,IAAI,KAAK,UAAU;AAClC,CAAC;AAED,IAAIqR,OAAO,GAAG,SAASA,OAAO,CAAClE,KAAK,EAAE;EACpC,OAAOA,KAAK,CAACmE,IAAI;AACnB,CAAC;AAED,IAAIC,OAAO,GAAG,SAASA,OAAO,CAACC,IAAI,EAAEC,IAAI,EAAE;EACzC,OAAOD,IAAI,CAAC1Y,MAAM,CAAC,UAAU4Y,OAAO,EAAEtR,GAAG,EAAE;IACzCsR,OAAO,CAACD,IAAI,CAACrR,GAAG,CAAC,CAAC,GAAGA,GAAG;IACxB,OAAOsR,OAAO;EACf,CAAA,EAAEpf,MAAM,CAACyE,MAAM,CAAC,IAAI,CAAC,CAAC;AACzB,CAAC;AAED,IAAIgH,WAAS,GAAG,SAASA,SAAS,CAAC1B,UAAU,EAAE;EAC7C,OAAOA,UAAU,CAAC0B,SAAS,EAAE;AAC/B,CAAC;AAED,IAAI4T,iBAAiB,GAAG,KAAK;AAC7B,IAAAC,aAAc,GAAG;EACfhD,MAAM,EAAEA,MAAM;EACdO,UAAU,EAAE,SAASA,UAAU,CAAC0C,SAAS,EAAExI,IAAI,EAAE;IAC/C,IAAIlX,MAAM,GAAG,IAAI,CAAC2c,YAAY;IAC9B,IAAIgD,OAAO,GAAG9N,YAAU,CAAClD,UAAU,CAAC3O,MAAM,CAAC;IAC3C,IAAI4f,OAAO,GAAG,GAAG,CAAC5Z,MAAM,CAAC0Z,SAAS,EAAE,GAAG,CAAC,CAAC1Z,MAAM,CAAC2Z,OAAO,CAAC;IACxD,IAAI5C,GAAG,GAAG7F,IAAI,GAAG,EAAE,CAAClR,MAAM,CAAC4Z,OAAO,EAAE,GAAG,CAAC,CAAC5Z,MAAM,CAACkR,IAAI,CAAC,GAAG0I,OAAO;IAC/D,OAAO,OAAO,CAAC5Z,MAAM,CAAC+W,GAAG,CAAC,CAACjN,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC;EACrD,CAAA;EACD+P,KAAK,EAAE,SAASA,KAAK,CAAC5S,KAAK,EAAEC,MAAM,EAAE;IACnC,IAAImE,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IACpF,IAAIyd,WAAW,GAAGzO,OAAO,CAAC0O,cAAc,KAAK,KAAK,GAAG,UAAUrI,GAAG,EAAE;MAClE,OAAOA,GAAG;IACX,CAAA,GAAG,UAAUA,GAAG,EAAE;MACjB,OAAOA,GAAG,CAACrL,MAAM;IACvB,CAAK;IAED,IAAInC,UAAU,GAAG,IAAI,CAAC8V,YAAY,CAAC,OAAO,EAAE;MAC1C/S,KAAK,EAAEA,KAAK;MACZC,MAAM,EAAEA;IACT,CAAA,EAAEmE,OAAO,CAAC,CAAC/G,IAAI,CAACjJ,KAAG,CAACye,WAAW,CAAC,CAAC;IAElC,OAAO,IAAI,CAACG,YAAY,EAAE,GAAGrU,WAAS,CAAC1B,UAAU,CAAC,GAAGA,UAAU;EAChE,CAAA;EACDgW,WAAW,EAAE,SAASA,WAAW,CAAClT,EAAE,EAAE;IACpC,IAAIuE,IAAI,GAAGlP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IACjF,IAAIgP,OAAO,GAAG;MACZ0L,GAAG,EAAE,IAAI,CAACC,UAAU,CAAC,KAAK,EAAEhQ,EAAE,CAAC;MAC/BmT,IAAI,EAAE,IAAI;MACVtR,GAAG,EAAE0C,IAAI,CAAC1C;IAChB,CAAK;IAED,IAAI3E,UAAU,GAAG,IAAI,CAACkW,kBAAkB,CAAC/O,OAAO,CAAC,CAAC/G,IAAI,CAACwB,QAAM,CAACmT,UAAU,CAAC,EAAE5d,KAAG,CAAC,UAAU2Z,KAAK,EAAE;MAC9F,OAAOA,KAAK,CAACmE,IAAI,CAACkB,SAAS,IAAIrF,KAAK,CAACmE,IAAI,CAACkB,SAAS,CAAC,CAAC,CAAC;IACvD,CAAA,CAAC,CAAC;IAEH,OAAO,IAAI,CAACJ,YAAY,EAAE,GAAGrU,WAAS,CAAC1B,UAAU,CAAC,GAAGA,UAAU;EAChE,CAAA;EACDoW,YAAY,EAAE,SAASA,YAAY,CAACC,GAAG,EAAE;IACvC,IAAIhP,IAAI,GAAGlP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IACjF,IAAIgP,OAAO,GAAG;MACZ0L,GAAG,EAAE,IAAI,CAACC,UAAU,CAAC,KAAK,EAAEuD,GAAG,CAAChf,IAAI,CAAC,GAAG,CAAC,CAAC;MAC1C4e,IAAI,EAAE,IAAI;MACVtR,GAAG,EAAE0C,IAAI,CAAC1C;IAChB,CAAK;IAED,IAAI3E,UAAU,GAAG,IAAI,CAACkW,kBAAkB,CAAC/O,OAAO,CAAC,CAAC/G,IAAI,CAACwB,QAAM,CAACmT,UAAU,CAAC,EAAE5d,KAAG,CAAC,UAAU2Z,KAAK,EAAE;MAC9F,IAAIuE,OAAO,GAAGH,OAAO,CAACpE,KAAK,CAACmE,IAAI,CAACkB,SAAS,IAAI,EAAE,EAAE,UAAUpS,GAAG,EAAE;QAC/D,OAAOA,GAAG,CAACC,GAAG;MACtB,CAAO,CAAC;MACF,OAAOqS,GAAG,CAAClf,GAAG,CAAC,UAAU2L,EAAE,EAAE;QAC3B,OAAOuS,OAAO,CAACvS,EAAE,CAAC,IAAI,IAAI;MAClC,CAAO,CAAC;IACH,CAAA,CAAC,CAAC;IAEH,OAAO,IAAI,CAACiT,YAAY,EAAE,GAAGrU,WAAS,CAAC1B,UAAU,CAAC,GAAGA,UAAU;EAChE,CAAA;EACDtF,MAAM,EAAE,SAASA,MAAM,CAACqJ,GAAG,EAAEoD,OAAO,EAAE;IACpC,OAAO,IAAI,CAACmP,OAAO,CAACvS,GAAG,EAAE,QAAQ,EAAEoD,OAAO,CAAC;EAC5C,CAAA;EACDe,iBAAiB,EAAE,SAASA,iBAAiB,CAACnE,GAAG,EAAEoD,OAAO,EAAE;IAC1DQ,YAAU,CAAC7D,iBAAiB,CAAC,mBAAmB,EAAEC,GAAG,CAAC;IACtD,OAAO,IAAI,CAACuS,OAAO,CAACvS,GAAG,EAAE,mBAAmB,EAAEoD,OAAO,CAAC;EACvD,CAAA;EACDgB,eAAe,EAAE,SAASA,eAAe,CAACpE,GAAG,EAAEoD,OAAO,EAAE;IACtDQ,YAAU,CAAC7D,iBAAiB,CAAC,iBAAiB,EAAEC,GAAG,CAAC;IACpD,OAAO,IAAI,CAACuS,OAAO,CAACvS,GAAG,EAAE,iBAAiB,EAAEoD,OAAO,CAAC;EACrD,CAAA;EACDK,KAAK,EAAE,SAASA,KAAK,CAACpD,QAAQ,EAAE3C,UAAU,EAAE;IAC1C,OAAO,IAAIwD,OAAK,CAACb,QAAQ,EAAE3C,UAAU,EAAE,IAAI,CAAC;EAC7C,CAAA;EACD2G,MAAM,EAAE,SAASC,OAAO,CAACnD,SAAS,EAAEiC,OAAO,EAAE;IAC3C,OAAO,IAAI,CAACoP,WAAW,CAAC,QAAQ,EAAE;MAChCC,SAAS,EAAE,CAAC;QACVpO,MAAM,EAAExF,YAAY,CAACsC,SAAS;MACtC,CAAO;IACF,CAAA,EAAEiC,OAAO,CAAC;EACZ,CAAA;EACDI,MAAM,EAAE,SAASA,MAAM,CAACiP,SAAS,EAAErP,OAAO,EAAE;IAC1C,IAAIuB,GAAG,GAAG8N,SAAS,YAAYvR,OAAK,IAAIuR,SAAS,YAAY3O,aAAW,GAAG2O,SAAS,CAACxP,SAAS,EAAE,GAAGwP,SAAS;IAC5G,IAAIC,IAAI,GAAGxc,KAAK,CAACD,OAAO,CAAC0O,GAAG,CAAC,GAAGA,GAAG,GAAG,CAACA,GAAG,CAAC;IAC3C,IAAIZ,aAAa,GAAGX,OAAO,IAAIA,OAAO,CAACW,aAAa;IACpD,OAAO,IAAI,CAACyO,WAAW,CAAC,QAAQ,EAAE;MAChCC,SAAS,EAAEC,IAAI;MACf3O,aAAa,EAAEA;IAChB,CAAA,EAAEX,OAAO,CAAC;EACZ,CAAA;EACDwB,WAAW,EAAE,SAASA,WAAW,CAAClH,UAAU,EAAE;IAC5C,OAAO,IAAIoG,aAAW,CAACpG,UAAU,EAAE,IAAI,CAAC;EACzC,CAAA;EACD8U,WAAW,EAAE,SAASA,WAAW,CAACG,QAAQ,EAAEzB,IAAI,EAAE;IAChD,IAAI9N,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IAEpF,IAAIoV,OAAO,GAAG,IAAI,CAACuI,YAAY,CAACY,QAAQ,EAAEzB,IAAI,EAAE9N,OAAO,CAAC;IAExD,OAAO,IAAI,CAAC4O,YAAY,EAAE,GAAGrU,WAAS,CAAC6L,OAAO,CAAC,GAAGA,OAAO;EAC1D,CAAA;EACDuI,YAAY,EAAE,SAASA,YAAY,CAACY,QAAQ,EAAEzB,IAAI,EAAE;IAClD,IAAI9N,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IACpF,IAAIwe,UAAU,GAAGD,QAAQ,KAAK,QAAQ;IACtC,IAAIE,OAAO,GAAGF,QAAQ,KAAK,OAAO,CAAC,CAAA;IACvC;;IAEI,IAAIG,QAAQ,GAAG,CAACF,UAAU,IAAIvN,iBAAiB,CAAC6L,IAAI,CAAC;IACrD,IAAI6B,MAAM,GAAG,CAACH,UAAU,IAAIE,QAAQ,CAACze,MAAM,GAAGkd,iBAAiB;IAC/D,IAAIyB,WAAW,GAAGD,MAAM,GAAGD,QAAQ,GAAG,EAAE;IACxC,IAAIzP,WAAW,GAAGD,OAAO,CAACC,WAAW;IACrC,IAAI4P,OAAO,GAAG7P,OAAO,CAAC6P,OAAO;MACzBtE,KAAK,GAAGvL,OAAO,CAACuL,KAAK;MACrB/N,GAAG,GAAGwC,OAAO,CAACxC,GAAG;MACjB2G,OAAO,GAAGnE,OAAO,CAACmE,OAAO;IAC7B,IAAIuH,GAAG,GAAG,IAAI,CAACC,UAAU,CAAC4D,QAAQ,EAAEK,WAAW,CAAC;IAChD,IAAIE,UAAU,GAAG;MACfxG,MAAM,EAAEqG,MAAM,GAAG,KAAK,GAAG,MAAM;MAC/BjE,GAAG,EAAEA,GAAG;MACRoD,IAAI,EAAE,IAAI;MACVhB,IAAI,EAAE6B,MAAM,GAAGtgB,SAAS,GAAGye,IAAI;MAC/BlS,KAAK,EAAE4T,UAAU,IAAIlC,gBAAgB,CAACtN,OAAO,CAAC;MAC9C6P,OAAO,EAAEA,OAAO;MAChB1L,OAAO,EAAEA,OAAO;MAChBoH,KAAK,EAAEA,KAAK;MACZ/N,GAAG,EAAEA,GAAG;MACRuS,SAAS,EAAEN;IACjB,CAAK;IACD,OAAO,IAAI,CAACV,kBAAkB,CAACe,UAAU,CAAC,CAAC7W,IAAI,CAACwB,QAAM,CAACmT,UAAU,CAAC,EAAE5d,KAAG,CAAC6d,OAAO,CAAC,EAAE7d,KAAG,CAAC,UAAUqW,GAAG,EAAE;MACnG,IAAI,CAACmJ,UAAU,EAAE;QACf,OAAOnJ,GAAG;MACX,CAAA,CAAA;;MAGD,IAAI2J,OAAO,GAAG3J,GAAG,CAAC2J,OAAO,IAAI,EAAE;MAE/B,IAAIhQ,OAAO,CAACG,eAAe,EAAE;QAC3B,OAAOF,WAAW,GAAG+P,OAAO,CAAC,CAAC,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,GAAGD,OAAO,CAAChgB,GAAG,CAAC,UAAUuR,GAAG,EAAE;UAClF,OAAOA,GAAG,CAAC0O,QAAQ;QAC7B,CAAS,CAAC;MACH,CAAA,CAAA;;MAGD,IAAI/e,GAAG,GAAG+O,WAAW,GAAG,YAAY,GAAG,aAAa;MACpD,IAAIiP,GAAG,GAAGjP,WAAW,GAAG+P,OAAO,CAAC,CAAC,CAAC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACrU,EAAE,GAAGqU,OAAO,CAAChgB,GAAG,CAAC,UAAUuR,GAAG,EAAE;QAC/E,OAAOA,GAAG,CAAC5F,EAAE;MACrB,CAAO,CAAC;MACF,OAAO8B,iBAAe,CAAC;QACrBkD,aAAa,EAAE0F,GAAG,CAAC1F,aAAa;QAChCqP,OAAO,EAAEA;MACjB,CAAO,EAAE9e,GAAG,EAAEge,GAAG,CAAC;IACb,CAAA,CAAC,CAAC;EACJ,CAAA;EACDC,OAAO,EAAE,SAASA,OAAO,CAACvS,GAAG,EAAEF,EAAE,EAAE;IACjC,IAAIsD,OAAO,GAAGhP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IAEpF,IAAIkf,QAAQ,GAAGzS,iBAAe,CAAC,CAAE,CAAA,EAAEf,EAAE,EAAEE,GAAG,CAAC;IAE3C,IAAIsD,IAAI,GAAG1Q,QAAM,CAAC;MAChByQ,WAAW,EAAE,IAAI;MACjBE,eAAe,EAAE;IAClB,CAAA,EAAEH,OAAO,CAAC;IACX,OAAO,IAAI,CAACoP,WAAW,CAAC,QAAQ,EAAE;MAChCC,SAAS,EAAE,CAACa,QAAQ;IACrB,CAAA,EAAEhQ,IAAI,CAAC;EACT;AACH,CAAC;AC3ND,IAAI1Q,QAAM,GAAG+C,YAAwB;AAErC,IAAIsL,UAAQ,GAAGrL,YAAwB;AAEvC,SAAS2d,gBAAc,CAACnS,MAAM,EAAE;EAC9B,IAAI,CAACoI,OAAO,GAAGpI,MAAM,CAACoI,OAAO,CAACrO,IAAI,CAACiG,MAAM,CAAC;AAC5C;AAEAxO,QAAM,CAAC2gB,gBAAc,CAACnhB,SAAS,EAAE;EAC/BuE,MAAM,EAAE,SAASA,MAAM,CAACD,IAAI,EAAE0M,OAAO,EAAE;IACrC,OAAO,IAAI,CAACoQ,OAAO,CAAC,KAAK,EAAE9c,IAAI,EAAE0M,OAAO,CAAC;EAC1C,CAAA;EACDqQ,IAAI,EAAE,SAASA,IAAI,CAAC/c,IAAI,EAAE0M,OAAO,EAAE;IACjC,OAAO,IAAI,CAACoQ,OAAO,CAAC,OAAO,EAAE9c,IAAI,EAAE0M,OAAO,CAAC;EAC5C,CAAA;EACDiB,MAAM,EAAE,SAASC,OAAO,CAAC5N,IAAI,EAAE;IAC7B,OAAO,IAAI,CAAC8c,OAAO,CAAC,QAAQ,EAAE9c,IAAI,CAAC;EACpC,CAAA;EACDgd,IAAI,EAAE,SAASA,IAAI,GAAG;IACpB,OAAO,IAAI,CAAClK,OAAO,CAAC;MAClBsF,GAAG,EAAE;IACX,CAAK,CAAC;EACH,CAAA;EACD0E,OAAO,EAAE,SAASA,OAAO,CAAC9G,MAAM,EAAEhW,IAAI,EAAEwa,IAAI,EAAE;IAC5CjQ,UAAQ,CAACzB,OAAO,CAAC9I,IAAI,CAAC;IACtB,OAAO,IAAI,CAAC8S,OAAO,CAAC;MAClBkD,MAAM,EAAEA,MAAM;MACdoC,GAAG,EAAE,YAAY,CAAC/W,MAAM,CAACrB,IAAI,CAAC;MAC9Bwa,IAAI,EAAEA;IACZ,CAAK,CAAC;EACH;AACH,CAAC,CAAC;AACF,IAAAyC,cAAc,GAAGJ,gBAAc;AChC/B,IAAI3gB,QAAM,GAAG+C,YAAwB;AAErC,SAASie,gBAAc,CAACxS,MAAM,EAAE;EAC9B,IAAI,CAACA,MAAM,GAAGA,MAAM;AACtB;AAEAxO,QAAM,CAACghB,gBAAc,CAACxhB,SAAS,EAAE;EAC/BshB,IAAI,EAAE,SAASA,IAAI,GAAG;IACpB,OAAO,IAAI,CAACtS,MAAM,CAACoI,OAAO,CAAC;MACzBsF,GAAG,EAAE;IACX,CAAK,CAAC;EACH,CAAA;EACD+E,OAAO,EAAE,SAASA,OAAO,CAAC9U,EAAE,EAAE;IAC5B,OAAO,IAAI,CAACqC,MAAM,CAACoI,OAAO,CAAC;MACzBsF,GAAG,EAAE,YAAY,CAAC/W,MAAM,CAACgH,EAAE;IACjC,CAAK,CAAC;EACH;AACH,CAAC,CAAC;AACF,IAAA+U,cAAc,GAAGF,gBAAc;IClB/BG,aAAc,GAAG,UAAU9U,MAAM,EAAE;EACjC,IAAI2G,EAAE,GAAG,EAAE;EAEX,KAAK,IAAItR,GAAG,IAAI2K,MAAM,EAAE;IACtB,IAAIA,MAAM,CAAC9M,cAAc,CAACmC,GAAG,CAAC,EAAE;MAC9BsR,EAAE,CAAC5N,IAAI,CAAC,EAAE,CAACD,MAAM,CAACqN,kBAAkB,CAAC9Q,GAAG,CAAC,EAAE,GAAG,CAAC,CAACyD,MAAM,CAACqN,kBAAkB,CAACnG,MAAM,CAAC3K,GAAG,CAAC,CAAC,CAAC,CAAC;IACzF;EACF;EAED,OAAOsR,EAAE,CAACvR,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC0D,MAAM,CAAC6N,EAAE,CAACtS,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE;AACtD,CAAC;ACVD,SAAS0gB,cAAc,CAACC,GAAG,EAAEhhB,CAAC,EAAE;EAAE,OAAOihB,eAAe,CAACD,GAAG,CAAC,IAAIE,qBAAqB,CAACF,GAAG,EAAEhhB,CAAC,CAAC,IAAImhB,2BAA2B,CAACH,GAAG,EAAEhhB,CAAC,CAAC,IAAIohB,gBAAgB,EAAE;AAAG;AAE9J,SAASA,gBAAgB,GAAG;EAAE,MAAM,IAAI3hB,SAAS,CAAC,2IAA2I,CAAC;AAAG;AAEjM,SAAS0hB,2BAA2B,CAACE,CAAC,EAAEC,MAAM,EAAE;EAAE,IAAI,CAACD,CAAC,EAAE;EAAQ,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE,OAAOE,iBAAiB,CAACF,CAAC,EAAEC,MAAM,CAAC;EAAE,IAAIlhB,CAAC,GAAGnB,MAAM,CAACE,SAAS,CAACqE,QAAQ,CAAClC,IAAI,CAAC+f,CAAC,CAAC,CAACrQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAAE,IAAI5Q,CAAC,KAAK,QAAQ,IAAIihB,CAAC,CAAC3a,WAAW,EAAEtG,CAAC,GAAGihB,CAAC,CAAC3a,WAAW,CAACjD,IAAI;EAAE,IAAIrD,CAAC,KAAK,KAAK,IAAIA,CAAC,KAAK,KAAK,EAAE,OAAO6C,KAAK,CAAClC,IAAI,CAACsgB,CAAC,CAAC;EAAE,IAAIjhB,CAAC,KAAK,WAAW,IAAI,0CAA0C,CAACoM,IAAI,CAACpM,CAAC,CAAC,EAAE,OAAOmhB,iBAAiB,CAACF,CAAC,EAAEC,MAAM,CAAC;AAAG;AAEha,SAASC,iBAAiB,CAACP,GAAG,EAAEpc,GAAG,EAAE;EAAE,IAAIA,GAAG,IAAI,IAAI,IAAIA,GAAG,GAAGoc,GAAG,CAAC5f,MAAM,EAAEwD,GAAG,GAAGoc,GAAG,CAAC5f,MAAM;EAAE,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEwhB,IAAI,GAAG,IAAIve,KAAK,CAAC2B,GAAG,CAAC,EAAE5E,CAAC,GAAG4E,GAAG,EAAE5E,CAAC,EAAE,EAAE;IAAEwhB,IAAI,CAACxhB,CAAC,CAAC,GAAGghB,GAAG,CAAChhB,CAAC,CAAC;EAAG;EAAC,OAAOwhB,IAAI;AAAG;AAEvL,SAASN,qBAAqB,CAACF,GAAG,EAAEhhB,CAAC,EAAE;EAAE,IAAIsJ,EAAE,GAAG0X,GAAG,IAAI,IAAI,GAAG,IAAI,GAAG,OAAOnb,MAAM,KAAK,WAAW,IAAImb,GAAG,CAACnb,MAAM,CAACuG,QAAQ,CAAC,IAAI4U,GAAG,CAAC,YAAY,CAAC;EAAE,IAAI1X,EAAE,IAAI,IAAI,EAAE;EAAQ,IAAImY,IAAI,GAAG,EAAE;EAAE,IAAIC,EAAE,GAAG,IAAI;EAAE,IAAIC,EAAE,GAAG,KAAK;EAAE,IAAIC,EAAE,EAAEC,EAAE;EAAE,IAAI;IAAE,KAAKvY,EAAE,GAAGA,EAAE,CAAChI,IAAI,CAAC0f,GAAG,CAAC,EAAE,EAAEU,EAAE,GAAG,CAACE,EAAE,GAAGtY,EAAE,CAACxG,IAAI,EAAE,EAAEgf,IAAI,CAAC,EAAEJ,EAAE,GAAG,IAAI,EAAE;MAAED,IAAI,CAAC1c,IAAI,CAAC6c,EAAE,CAACngB,KAAK,CAAC;MAAE,IAAIzB,CAAC,IAAIyhB,IAAI,CAACrgB,MAAM,KAAKpB,CAAC,EAAE;IAAQ;EAAA,CAAE,CAAC,OAAOW,GAAG,EAAE;IAAEghB,EAAE,GAAG,IAAI;IAAEE,EAAE,GAAGlhB,GAAG;GAAG,SAAS;IAAE,IAAI;MAAE,IAAI,CAAC+gB,EAAE,IAAIpY,EAAE,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAEA,EAAE,CAAC,QAAQ,CAAC,EAAE;KAAG,SAAS;MAAE,IAAIqY,EAAE,EAAE,MAAME,EAAE;IAAG;EAAA;EAAG,OAAOJ,IAAI;AAAG;AAEjgB,SAASR,eAAe,CAACD,GAAG,EAAE;EAAE,IAAI/d,KAAK,CAACD,OAAO,CAACge,GAAG,CAAC,EAAE,OAAOA,GAAG;AAAG;AAErE,IAAIrhB,QAAM,GAAG+C,YAAwB;AAErC,IAAI+I,UAAQ,GAAG9I,YAA6B;EACxCxC,KAAG,GAAGsL,UAAQ,CAACtL,GAAG;EAClByK,QAAM,GAAGa,UAAQ,CAACb,MAAM;AAE5B,IAAIkW,WAAW,GAAGjd,aAA8B;AAEhD,IAAI8M,UAAU,GAAG5M,YAAwB;AAEzC,SAASge,cAAY,CAAC5T,MAAM,EAAE;EAC5B,IAAI,CAACA,MAAM,GAAGA,MAAM;AACtB;AAEA,SAAS6T,eAAe,CAAC3R,IAAI,EAAE4R,IAAI,EAAE;EACnC,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAI,EAAED,IAAI,YAAYC,MAAM,CAACC,IAAI,CAAC,EAAE;IACnE,OAAO9R,IAAI;EACZ;EAED,OAAO1Q,QAAM,CAAC;IACZyiB,QAAQ,EAAE/R,IAAI,CAACgS,gBAAgB,KAAK,KAAK,GAAG7iB,SAAS,GAAGyiB,IAAI,CAACxe,IAAI;IACjE6e,WAAW,EAAEL,IAAI,CAACtV;EACnB,CAAA,EAAE0D,IAAI,CAAC;AACV;AAEA1Q,QAAM,CAACoiB,cAAY,CAAC5iB,SAAS,EAAE;EAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEojB,MAAM,EAAE,SAASA,MAAM,CAACC,SAAS,EAAEvE,IAAI,EAAE;IACvC,IAAI5N,IAAI,GAAGlP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;IACjFwP,UAAU,CAACjE,iBAAiB,CAAC8V,SAAS,CAAC,CAAC,CAAA;;IAExC,IAAIC,IAAI,GAAGpS,IAAI,CAACqS,OAAO,IAAIljB,SAAS;IAEpC,IAAIijB,IAAI,IAAI,CAACA,IAAI,CAACrhB,MAAM,EAAE;MACxBqhB,IAAI,GAAG,CAAC,MAAM,CAAC;IAChB;IAED,IAAIlW,OAAO,GAAGoE,UAAU,CAAClD,UAAU,CAAC,IAAI,CAACU,MAAM,CAACsN,YAAY,CAAC;IAC7D,IAAIkH,aAAa,GAAGH,SAAS,KAAK,OAAO,GAAG,QAAQ,GAAG,OAAO;IAC9D,IAAIrS,OAAO,GAAG6R,eAAe,CAAC3R,IAAI,EAAE4N,IAAI,CAAC;IACzC,IAAItQ,GAAG,GAAGwC,OAAO,CAACxC,GAAG;MACjBiV,KAAK,GAAGzS,OAAO,CAACyS,KAAK;MACrBC,KAAK,GAAG1S,OAAO,CAAC0S,KAAK;MACrBzF,WAAW,GAAGjN,OAAO,CAACiN,WAAW;MACjC0F,UAAU,GAAG3S,OAAO,CAAC2S,UAAU;MAC/BV,QAAQ,GAAGjS,OAAO,CAACiS,QAAQ;MAC3BthB,MAAM,GAAGqP,OAAO,CAACrP,MAAM;IAC3B,IAAIiL,KAAK,GAAG;MACV6W,KAAK,EAAEA,KAAK;MACZC,KAAK,EAAEA,KAAK;MACZzF,WAAW,EAAEA,WAAW;MACxBgF,QAAQ,EAAEA,QAAQ;MAClBK,IAAI,EAAEA,IAAI;MACVK,UAAU,EAAEA;IAClB,CAAK;IAED,IAAIhiB,MAAM,EAAE;MACViL,KAAK,CAACgX,QAAQ,GAAGjiB,MAAM,CAACgL,EAAE;MAC1BC,KAAK,CAACiX,UAAU,GAAGliB,MAAM,CAAC2C,IAAI;MAC9BsI,KAAK,CAACkX,SAAS,GAAGniB,MAAM,CAACoT,GAAG;IAC7B;IAED,IAAIlL,UAAU,GAAG,IAAI,CAACmF,MAAM,CAAC+Q,kBAAkB,CAAC;MAC9CvR,GAAG,EAAEA,GAAG;MACR8L,MAAM,EAAE,MAAM;MACduG,OAAO,EAAE7P,OAAO,CAAC6P,OAAO,IAAI,CAAC;MAC7BnE,GAAG,EAAE,UAAU,CAAC/W,MAAM,CAAC6d,aAAa,EAAE,GAAG,CAAC,CAAC7d,MAAM,CAACyH,OAAO,CAAC;MAC1D+H,OAAO,EAAEnE,OAAO,CAACmS,WAAW,GAAG;QAC7B,cAAc,EAAEnS,OAAO,CAACmS;MAChC,CAAO,GAAG,CAAE,CAAA;MACNvW,KAAK,EAAEA,KAAK;MACZkS,IAAI,EAAEA;IACZ,CAAK,CAAC;IAEF,OAAO,IAAI,CAAC9P,MAAM,CAAC4Q,YAAY,EAAE,GAAG/V,UAAU,CAACI,IAAI,CAACwB,QAAM,CAAC,UAAUkP,KAAK,EAAE;MAC1E,OAAOA,KAAK,CAACnN,IAAI,KAAK,UAAU;IACtC,CAAK,CAAC,EAAExM,KAAG,CAAC,UAAU2Z,KAAK,EAAE;MACvB,OAAOA,KAAK,CAACmE,IAAI,CAACmC,QAAQ;IAChC,CAAK,CAAC,CAAC,CAAC1V,SAAS,EAAE,GAAG1B,UAAU;EAC7B,CAAA;EACDoI,MAAM,EAAE,SAASC,OAAO,CAAC1E,IAAI,EAAEb,EAAE,EAAE;IACrC;IACI7J,OAAO,CAACC,IAAI,CAAC,+EAA+E,CAAC;IAC7F,IAAIghB,KAAK,GAAGpX,EAAE,IAAI,EAAE;IAEpB,IAAI,CAAC,gBAAgB,CAACU,IAAI,CAAC0W,KAAK,CAAC,EAAE;MACjCA,KAAK,GAAG,EAAE,CAACpe,MAAM,CAAC6H,IAAI,EAAE,GAAG,CAAC,CAAC7H,MAAM,CAACoe,KAAK,CAAC;IAChD,CAAK,MAAM,IAAIvW,IAAI,CAACK,GAAG,EAAE;MACzB;MACMkW,KAAK,GAAGvW,IAAI,CAACK,GAAG;IACjB;IAED2D,UAAU,CAAClD,UAAU,CAAC,IAAI,CAACU,MAAM,CAACsN,YAAY,CAAC;IAC/C,OAAO,IAAI,CAACtN,MAAM,CAACiD,MAAM,CAAC8R,KAAK,CAAC;EACjC,CAAA;EACDC,WAAW,EAAE,SAASA,WAAW,CAACC,GAAG,EAAErX,KAAK,EAAE;IAC5C,IAAID,EAAE,GAAGsX,GAAG,CAAC/Q,IAAI,IAAI+Q,GAAG;IAExB,IAAI,OAAOtX,EAAE,KAAK,QAAQ,EAAE;MAC1B,MAAM,IAAI9J,KAAK,CAAC,yFAAyF,CAAC;IAC3G;IAED,IAAI,CAAC,0CAA0C,CAACwK,IAAI,CAACV,EAAE,CAAC,EAAE;MACxD,MAAM,IAAI9J,KAAK,CAAC,yBAAyB,CAAC8C,MAAM,CAACgH,EAAE,EAAE,uDAAuD,CAAC,CAAC;IAC/G;IAED,IAAIuX,SAAS,GAAGvX,EAAE,CAACvL,KAAK,CAAC,GAAG,CAAC;MACzB+iB,UAAU,GAAGvC,cAAc,CAACsC,SAAS,EAAE,CAAC,CAAC;MACzCE,OAAO,GAAGD,UAAU,CAAC,CAAC,CAAC;MACvBE,IAAI,GAAGF,UAAU,CAAC,CAAC,CAAC;MACpBG,MAAM,GAAGH,UAAU,CAAC,CAAC,CAAC;IAE1B3S,UAAU,CAAClD,UAAU,CAAC,IAAI,CAACU,MAAM,CAACsN,YAAY,CAAC;IAC/C,IAAIiI,qBAAqB,GAAG,IAAI,CAACvV,MAAM,CAACsN,YAAY;MAChDhP,SAAS,GAAGiX,qBAAqB,CAACjX,SAAS;MAC3CF,OAAO,GAAGmX,qBAAqB,CAACnX,OAAO;IAC3C,IAAIoG,EAAE,GAAG5G,KAAK,GAAG+U,WAAW,CAAC/U,KAAK,CAAC,GAAG,EAAE;IACxC,OAAO,+BAA+B,CAACjH,MAAM,CAAC2H,SAAS,EAAE,GAAG,CAAC,CAAC3H,MAAM,CAACyH,OAAO,EAAE,GAAG,CAAC,CAACzH,MAAM,CAACye,OAAO,EAAE,GAAG,CAAC,CAACze,MAAM,CAAC0e,IAAI,EAAE,GAAG,CAAC,CAAC1e,MAAM,CAAC2e,MAAM,CAAC,CAAC3e,MAAM,CAAC6N,EAAE,CAAC;EACpJ;AACH,CAAC,CAAC;AACF,IAAAgR,YAAc,GAAG5B,cAAY;AC5J7B,IAAIpiB,QAAM,GAAG+C,YAAwB;AAErC,SAASkhB,aAAW,CAACzV,MAAM,EAAE;EAC3B,IAAI,CAACA,MAAM,GAAGA,MAAM;AACtB;AAEAxO,QAAM,CAACikB,aAAW,CAACzkB,SAAS,EAAE;EAC5ByhB,OAAO,EAAE,SAASA,OAAO,CAAC9U,EAAE,EAAE;IAC5B,OAAO,IAAI,CAACqC,MAAM,CAACoI,OAAO,CAAC;MACzBsF,GAAG,EAAE,SAAS,CAAC/W,MAAM,CAACgH,EAAE;IAC9B,CAAK,CAAC;EACH;AACH,CAAC,CAAC;AACF,IAAA+X,WAAc,GAAGD,aAAW;ACb5B,IAAIjkB,QAAM,GAAG+C,YAAwB;AAErC,SAASohB,YAAU,CAAC3V,MAAM,EAAE;EAC1B,IAAI,CAACA,MAAM,GAAGA,MAAM;AACtB;AAEAxO,QAAM,CAACmkB,YAAU,CAAC3kB,SAAS,EAAE;EAC3B4kB,iBAAiB,EAAE,SAASA,iBAAiB,GAAG;IAC9C,OAAO,IAAI,CAAC5V,MAAM,CAACoI,OAAO,CAAC;MACzBsF,GAAG,EAAE;IACX,CAAK,CAAC;EACH,CAAA;EACDmI,MAAM,EAAE,SAASA,MAAM,GAAG;IACxB,OAAO,IAAI,CAAC7V,MAAM,CAACoI,OAAO,CAAC;MACzBsF,GAAG,EAAE,cAAc;MACnBpC,MAAM,EAAE;IACd,CAAK,CAAC;EACH;AACH,CAAC,CAAC;AACF,IAAAwK,UAAc,GAAGH,YAAU;;;;;;ECjB3B;;EAEA,IAAII,SAAS,GAAG,OAAOC,OAAO,KAAK,WAAW,GAAGA,OAAO,CAACD,SAAS,GAAG1kB,SAAS;EAC9E,IAAI+B,cAAc,GAAGtC,MAAM,CAACsC,cAAc;;EAE1C;;EAEA,IAAI6iB,iBAAiB,GAAGpiB,KAAK,CAACoiB,iBAAiB;EAC/C,IAAIA,iBAAiB,KAAK5kB,SAAS,EAAE;IACnC4kB,iBAAiB,GAAG,SAASA,iBAAiB,CAACriB,KAAK,EAAE;MACpD,IAAIsiB,SAAS,GAAG,IAAIriB,KAAK,EAAE;MAE3BT,cAAc,CAACQ,KAAK,EAAE,OAAO,EAAE;QAC7B+L,YAAY,EAAE,IAAI;QAClB0G,GAAG,EAAE,SAAS8P,QAAQ,GAAG;UACvB,IAAIniB,KAAK,GAAGkiB,SAAS,CAACliB,KAAK;;UAEnC;UACQZ,cAAc,CAAC,IAAI,EAAE,OAAO,EAAE;YAC5BuM,YAAY,EAAE,IAAI;YAClBrM,KAAK,EAAEU,KAAK;YACZ4L,QAAQ,EAAE;UACpB,CAAS,CAAC;UAEF,OAAO5L,KAAK;QACb,CAAA;QACDkM,GAAG,EAAE,SAASkW,QAAQ,CAACpiB,KAAK,EAAE;UAC5BZ,cAAc,CAACQ,KAAK,EAAE,OAAO,EAAE;YAC7B+L,YAAY,EAAE,IAAI;YAClBrM,KAAK,EAAEU,KAAK;YACZ4L,QAAQ,EAAE;UACpB,CAAS,CAAC;QACH;MACP,CAAK,CAAC;IACN,CAAG;EACF;;EAED;;EAEA,SAASyW,SAAS,CAACjhB,OAAO,EAAE;IAC1B,IAAIA,OAAO,KAAK/D,SAAS,EAAE;MACzB+B,cAAc,CAAC,IAAI,EAAE,SAAS,EAAE;QAC9BuM,YAAY,EAAE,IAAI;QAClBrM,KAAK,EAAE8B,OAAO;QACdwK,QAAQ,EAAE;MAChB,CAAK,CAAC;IACH;IAED,IAAI0W,KAAK,GAAG,IAAI,CAAC/d,WAAW,CAACjD,IAAI;IACjC,IAAIghB,KAAK,KAAKjlB,SAAS,IAAIilB,KAAK,KAAK,IAAI,CAAChhB,IAAI,EAAE;MAC9ClC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;QAC3BuM,YAAY,EAAE,IAAI;QAClBrM,KAAK,EAAEgjB,KAAK;QACZ1W,QAAQ,EAAE;MAChB,CAAK,CAAC;IACH;IAEDqW,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC1d,WAAW,CAAC;EAC1C;EAED8d,SAAS,CAACrlB,SAAS,GAAGF,MAAM,CAACyE,MAAM,CAAC1B,KAAK,CAAC7C,SAAS,EAAE;IACrD;IACEuH,WAAW,EAAE;MACXoH,YAAY,EAAE,IAAI;MAClBrM,KAAK,EAAE+iB,SAAS;MAChBzW,QAAQ,EAAE;IACX;EACH,CAAC,CAAC;;EAEF;;EAEA;EACA,IAAI2W,eAAe,GAAI,YAAW;IAChC,SAASA,eAAe,CAACnc,EAAE,EAAE9E,IAAI,EAAE;MACjC,OAAOlC,cAAc,CAACgH,EAAE,EAAE,MAAM,EAAE;QAChCuF,YAAY,EAAE,IAAI;QAClBrM,KAAK,EAAEgC;MACb,CAAK,CAAC;IACH;IACD,IAAI;MACF,IAAI0W,CAAC,GAAG,YAAW,EAAE;MACrBuK,eAAe,CAACvK,CAAC,EAAE,KAAK,CAAC;MACzB,IAAIA,CAAC,CAAC1W,IAAI,KAAK,KAAK,EAAE;QACpB,OAAOihB,eAAe;MACvB;IACL,CAAG,CAAC,OAAOC,CAAC,EAAE,CAAE;EAChB,CAAC,EAAG;;EAEJ;;EAEA,SAASC,SAAS,CAACle,WAAW,EAAEme,MAAM,EAAE;IACtC,IAAIA,MAAM,IAAI,IAAI,IAAIA,MAAM,KAAK7iB,KAAK,EAAE;MACtC6iB,MAAM,GAAGL,SAAS;IACtB,CAAG,MAAM,IAAI,OAAOK,MAAM,KAAK,UAAU,EAAE;MACvC,MAAM,IAAIplB,SAAS,CAAC,6BAA6B,CAAC;IACnD;IAED,IAAIgE,IAAI;IACR,IAAI,OAAOiD,WAAW,KAAK,QAAQ,EAAE;MACnCjD,IAAI,GAAGiD,WAAW;MAClBA,WAAW,GACTwd,SAAS,KAAK1kB,SAAS,GACnB,YAAW;QACT,OAAO0kB,SAAS,CAACW,MAAM,EAAE1jB,SAAS,EAAE,IAAI,CAACuF,WAAW,CAAC;MACtD,CAAA,GACD,YAAW;QACTme,MAAM,CAACpM,KAAK,CAAC,IAAI,EAAEtX,SAAS,CAAC;MACzC,CAAW;;MAEX;MACI,IAAIujB,eAAe,KAAKllB,SAAS,EAAE;QACjCklB,eAAe,CAAChe,WAAW,EAAEjD,IAAI,CAAC;QAClCA,IAAI,GAAGjE,SAAS;MACjB;IACL,CAAG,MAAM,IAAI,OAAOkH,WAAW,KAAK,UAAU,EAAE;MAC5C,MAAM,IAAIjH,SAAS,CAAC,qDAAqD,CAAC;IAC3E;;IAEH;IACA;IACA;IACA;IACEiH,WAAW,CAACme,MAAM,GAAGne,WAAW,CAAC,OAAO,CAAC,GAAGme,MAAM;IAElD,IAAIC,UAAU,GAAG;MACfpe,WAAW,EAAE;QACXoH,YAAY,EAAE,IAAI;QAClBrM,KAAK,EAAEiF,WAAW;QAClBqH,QAAQ,EAAE;MACX;IACL,CAAG;;IAEH;IACA;IACE,IAAItK,IAAI,KAAKjE,SAAS,EAAE;MACtBslB,UAAU,CAACrhB,IAAI,GAAG;QAChBqK,YAAY,EAAE,IAAI;QAClBrM,KAAK,EAAEgC,IAAI;QACXsK,QAAQ,EAAE;MAChB,CAAK;IACF;IACDrH,WAAW,CAACvH,SAAS,GAAGF,MAAM,CAACyE,MAAM,CAACmhB,MAAM,CAAC1lB,SAAS,EAAE2lB,UAAU,CAAC;IAEnE,OAAOpe,WAAW;EACnB;EACDf,OAAO,GAAG2U,MAAiB,CAAA3U,OAAA,GAAAif,SAAS;EACpCjf,OAAA,CAAA6e,SAAA,GAAoBA,SAAS;;ACpJ7B,IAAII,SAAS,GAAGliB,WAAAA,CAAAA,OAAqB;AAErC,IAAI/C,QAAM,GAAGgD,YAAwB;AAErC,SAASoiB,aAAW,CAACvO,GAAG,EAAE;EACxB,IAAIlI,KAAK,GAAG0W,iBAAiB,CAACxO,GAAG,CAAC;EAClCuO,aAAW,CAACE,KAAK,CAAC3jB,IAAI,CAAC,IAAI,EAAEgN,KAAK,CAAC/K,OAAO,CAAC;EAC3C5D,QAAM,CAAC,IAAI,EAAE2O,KAAK,CAAC;AACrB;AAEA,SAAS4W,aAAW,CAAC1O,GAAG,EAAE;EACxB,IAAIlI,KAAK,GAAG0W,iBAAiB,CAACxO,GAAG,CAAC;EAClC0O,aAAW,CAACD,KAAK,CAAC3jB,IAAI,CAAC,IAAI,EAAEgN,KAAK,CAAC/K,OAAO,CAAC;EAC3C5D,QAAM,CAAC,IAAI,EAAE2O,KAAK,CAAC;AACrB;AAEA,SAAS0W,iBAAiB,CAACxO,GAAG,EAAE;EAC9B,IAAIyH,IAAI,GAAGzH,GAAG,CAACyH,IAAI;EACnB,IAAI3P,KAAK,GAAG;IACV6W,QAAQ,EAAE3O,GAAG;IACbC,UAAU,EAAED,GAAG,CAACC,UAAU;IAC1B2O,YAAY,EAAEC,aAAa,CAACpH,IAAI,EAAEzH,GAAG;EACzC,CAAG,CAAC,CAAA;;EAEF,IAAIyH,IAAI,CAAClc,KAAK,IAAIkc,IAAI,CAAC1a,OAAO,EAAE;IAC9B+K,KAAK,CAAC/K,OAAO,GAAG,EAAE,CAACuB,MAAM,CAACmZ,IAAI,CAAClc,KAAK,EAAE,KAAK,CAAC,CAAC+C,MAAM,CAACmZ,IAAI,CAAC1a,OAAO,CAAC;IACjE,OAAO+K,KAAK;EACb,CAAA,CAAA;;EAGD,IAAI2P,IAAI,CAAClc,KAAK,IAAIkc,IAAI,CAAClc,KAAK,CAACqb,WAAW,EAAE;IACxC9O,KAAK,CAAC/K,OAAO,GAAG0a,IAAI,CAAClc,KAAK,CAACqb,WAAW;IACtC9O,KAAK,CAACgX,OAAO,GAAGrH,IAAI,CAAClc,KAAK;IAC1B,OAAOuM,KAAK;EACb,CAAA,CAAA;;EAGDA,KAAK,CAAC/K,OAAO,GAAG0a,IAAI,CAAClc,KAAK,IAAIkc,IAAI,CAAC1a,OAAO,IAAIgiB,gBAAgB,CAAC/O,GAAG,CAAC;EACnE,OAAOlI,KAAK;AACd;AAEA,SAASiX,gBAAgB,CAAC/O,GAAG,EAAE;EAC7B,IAAIG,aAAa,GAAGH,GAAG,CAACG,aAAa,GAAG,GAAG,CAAC7R,MAAM,CAAC0R,GAAG,CAACG,aAAa,CAAC,GAAG,EAAE;EAC1E,OAAO,EAAE,CAAC7R,MAAM,CAAC0R,GAAG,CAACiD,MAAM,EAAE,cAAc,CAAC,CAAC3U,MAAM,CAAC0R,GAAG,CAACtC,GAAG,EAAE,oBAAoB,CAAC,CAACpP,MAAM,CAAC0R,GAAG,CAACC,UAAU,CAAC,CAAC3R,MAAM,CAAC6R,aAAa,CAAC;AACjI;AAEA,SAAS0O,aAAa,CAACpH,IAAI,EAAEzH,GAAG,EAAE;EAChC,IAAI8L,WAAW,GAAG,CAAC9L,GAAG,CAAClC,OAAO,CAAC,cAAc,CAAC,IAAI,EAAE,EAAEkR,WAAW,EAAE;EACnE,IAAIC,MAAM,GAAGnD,WAAW,CAACjd,OAAO,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;EAC3D,OAAOogB,MAAM,GAAG5S,IAAI,CAACC,SAAS,CAACmL,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,GAAGA,IAAI;AACtD;AAEA2G,SAAS,CAACG,aAAW,CAAC;AACtBH,SAAS,CAACM,aAAW,CAAC;AACH5hB,MAAA,CAAAyhB,WAAA,GAAGA,aAAY;AAClCzhB,MAAA,CAAA4hB,WAAmB,GAAGA,aAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDtB,IAAIhM,KAAK,GAAGxW,YAA2C;AAEvD,IAAIgjB,OAAK,GAAG/iB,YAA2C;AAEvD,IAAI2R,OAAO,GAAGzQ,YAA6C;AAE3D,IAAI8hB,GAAG,GAAG5hB,UAA6B;AAEvC,IAAI6hB,YAAU,GAAG,CAACF,OAAK,CAAC;EACtBG,OAAO,EAAE,IAAI;EACbC,SAAS,EAAE;AACb,CAAC,CAAC,EAAExR,OAAO,CAAC;EACV,YAAY,EAAE,EAAE,CAACxP,MAAM,CAAC6gB,GAAG,CAACliB,IAAI,EAAE,GAAG,CAAC,CAACqB,MAAM,CAAC6gB,GAAG,CAACI,OAAO;AAC3D,CAAC,CAAC,EAAE7M,KAAK,CAAC;EACR8M,UAAU,EAAE;AACd,CAAC,CAAC,CAAC;AACH,IAAAC,cAAc,GAAGL,YAAU;;AChB3B;AACA,IAAIM,KAAK,GAAGxjB,YAAiB;AAE7B,IAAI/C,QAAM,GAAGgD,YAAwB;AAErC,IAAIqG,UAAU,GAAGnF,YAA2C;AAE5D,IAAIsiB,WAAW,GAAGpiB,YAA4C;AAE9D,IAAIqiB,YAAY,GAAGtf,YAA6C;AAEhE,IAAIuf,QAAQ,GAAGtf,UAAyC;AAExD,IAAI0E,UAAQ,GAAG4R,YAA6B;EACxCxT,YAAU,GAAG4B,UAAQ,CAAC5B,UAAU;AAEpC,IAAI6B,WAAS,GAAG4R,MAAmB;EAC/ByH,WAAW,GAAGrZ,WAAS,CAACqZ,WAAW;EACnCG,WAAW,GAAGxZ,WAAS,CAACwZ,WAAW;AAEvC,IAAIoB,SAAS,GAAG;EACdC,UAAU,EAAE,SAASA,UAAU,CAAC/P,GAAG,EAAE;IACnC,IAAIA,GAAG,CAACC,UAAU,IAAI,GAAG,EAAE;MACzB,MAAM,IAAIyO,WAAW,CAAC1O,GAAG,CAAC;IAChC,CAAK,MAAM,IAAIA,GAAG,CAACC,UAAU,IAAI,GAAG,EAAE;MAChC,MAAM,IAAIsO,WAAW,CAACvO,GAAG,CAAC;IAC3B;IAED,OAAOA,GAAG;EACX;AACH,CAAC;AACD,IAAIgQ,aAAa,GAAG;EAClBD,UAAU,EAAE,SAASA,UAAU,CAAC/P,GAAG,EAAE;IACnC,IAAItU,IAAI,GAAGsU,GAAG,CAAClC,OAAO,CAAC,kBAAkB,CAAC;IAC1C,IAAImS,QAAQ,GAAGxjB,KAAK,CAACD,OAAO,CAACd,IAAI,CAAC,GAAGA,IAAI,GAAG,CAACA,IAAI,CAAC;IAClDukB,QAAQ,CAAC7b,MAAM,CAAC8b,OAAO,CAAC,CAAClmB,OAAO,CAAC,UAAUmmB,GAAG,EAAE;MAC9C,OAAO1kB,OAAO,CAACC,IAAI,CAACykB,GAAG,CAAC;IAC9B,CAAK,CAAC,CAAC,CAAA;;IAEH,OAAOnQ,GAAG;EACX;AACH,CAAC,CAAC,CAAA;;AAEF,IAAIoQ,WAAW,GAAGC,cAA2B;AAE7C,IAAIjB,UAAU,GAAGgB,WAAW,CAAC9hB,MAAM,CAAC,CAAC0hB,aAAa,EAAEL,WAAW,EAAE,EAAEC,YAAY,EAAE,EAAEC,QAAQ,EAAE,EAAEC,SAAS,EAAEtd,UAAU,CAAC;EACnH8d,cAAc,EAAEjd;AAClB,CAAC,CAAC,CAAC,CAAC;AACJ,IAAI0M,OAAO,GAAG2P,KAAK,CAACN,UAAU,CAAC;AAE/B,SAASmB,aAAW,CAAC5W,OAAO,EAAE;EAC5B,IAAI6W,SAAS,GAAG7lB,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAGoV,OAAO;EAC3F,OAAOyQ,SAAS,CAACrnB,QAAM,CAAC;IACtBsnB,YAAY,EAAE;EAClB,CAAG,EAAE9W,OAAO,CAAC,CAAC;AACd;AAEA4W,aAAW,CAACG,gBAAgB,GAAG3Q,OAAO;AACtCwQ,aAAW,CAAChC,WAAW,GAAGA,WAAW;AACrCgC,aAAW,CAAC7B,WAAW,GAAGA,WAAW;AACrC,IAAAiC,SAAc,GAAGJ,aAAW;AC5D5B,IAAIpnB,QAAM,GAAG+C,YAAwB;AAErC,IAAI0kB,aAAa,GAAG,qBAAqB;IAEzCC,cAAc,GAAG,UAAUvoB,MAAM,EAAE;EACjC,IAAIwoB,SAAS,GAAGnmB,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;EACtF,IAAImT,OAAO,GAAG,CAAA,CAAE;EAChB,IAAIoH,KAAK,GAAG4L,SAAS,CAAC5L,KAAK,IAAI5c,MAAM,CAAC4c,KAAK;EAE3C,IAAIA,KAAK,EAAE;IACTpH,OAAO,CAAC4H,aAAa,GAAG,SAAS,CAACpX,MAAM,CAAC4W,KAAK,CAAC;EAChD;EAED,IAAI,CAAC4L,SAAS,CAACC,YAAY,IAAI,CAACzoB,MAAM,CAAC0oB,kBAAkB,IAAI1oB,MAAM,CAAC2N,SAAS,EAAE;IAC7E6H,OAAO,CAAC8S,aAAa,CAAC,GAAGtoB,MAAM,CAAC2N,SAAS;EAC1C;EAED,IAAI6J,eAAe,GAAGoQ,OAAO,CAAC,OAAOY,SAAS,CAAChR,eAAe,KAAK,WAAW,GAAGxX,MAAM,CAAC4c,KAAK,IAAI5c,MAAM,CAACwX,eAAe,GAAGgR,SAAS,CAAChR,eAAe,CAAC;EACpJ,IAAI0J,OAAO,GAAG,OAAOsH,SAAS,CAACtH,OAAO,KAAK,WAAW,GAAGlhB,MAAM,CAACkhB,OAAO,GAAGsH,SAAS,CAACtH,OAAO;EAC3F,OAAOrgB,QAAM,CAAC,CAAE,CAAA,EAAE2nB,SAAS,EAAE;IAC3BhT,OAAO,EAAE3U,QAAM,CAAC,CAAE,CAAA,EAAE2U,OAAO,EAAEgT,SAAS,CAAChT,OAAO,IAAI,EAAE,CAAC;IACrD0L,OAAO,EAAE,OAAOA,OAAO,KAAK,WAAW,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,GAAGA,OAAO;IACjEjK,KAAK,EAAEuR,SAAS,CAACvR,KAAK,IAAIjX,MAAM,CAACiX,KAAK;IACtCkJ,IAAI,EAAE,IAAI;IACV3I,eAAe,EAAEA;EACrB,CAAG,CAAC;AACJ,CAAC;;AC1BD,IAAImR,QAAQ,GAAG,8BAA8B;AAE7C,IAAAC,iBAAc,GAAG,SAASA,eAAe,CAACC,IAAI,EAAE;EAC9C,OAAOF,QAAQ,GAAGE,IAAI;AACxB,CAAC;;ICJDC,MAAc,GAAG,UAAUrf,EAAE,EAAE;EAC7B,IAAIsf,OAAO,GAAG,KAAK;EACnB,IAAIC,WAAW;EACf,OAAO,YAAY;IACjB,IAAID,OAAO,EAAE;MACX,OAAOC,WAAW;IACnB;IAEDA,WAAW,GAAGvf,EAAE,CAACkQ,KAAK,CAAC,KAAK,CAAC,EAAEtX,SAAS,CAAC;IACzC0mB,OAAO,GAAG,IAAI;IACd,OAAOC,WAAW;EACtB,CAAG;AACH,CAAC;ACZD,IAAIJ,eAAe,GAAGhlB,iBAA4B;AAElD,IAAIklB,IAAI,GAAGjlB,MAAsB;AAEjC,IAAIolB,oBAAoB,GAAG,SAASA,oBAAoB,CAACxkB,OAAO,EAAE;EAChE;IAAA;IACEqkB,IAAI,CAAC,YAAY;MACf,IAAII,QAAQ;MAEZ,KAAK,IAAIC,IAAI,GAAG9mB,SAAS,CAACC,MAAM,EAAE8mB,IAAI,GAAG,IAAIjlB,KAAK,CAACglB,IAAI,CAAC,EAAEE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,EAAE,EAAE;QACvFD,IAAI,CAACC,IAAI,CAAC,GAAGhnB,SAAS,CAACgnB,IAAI,CAAC;MAC7B;MAED,OAAO,CAACH,QAAQ,GAAG/lB,OAAO,EAAEC,IAAI,CAACuW,KAAK,CAACuP,QAAQ,EAAE,CAACzkB,OAAO,CAAClD,IAAI,CAAC,GAAG,CAAC,CAAC,CAACyE,MAAM,CAACojB,IAAI,CAAC,CAAC;IACxF,CAAK;EAAC;AAEN,CAAC;AAEsBzB,QAAA,CAAA2B,eAAA,GAAGL,oBAAoB,CAAC,CAAC,mGAAmG,EAAE,8CAA8C,CAACjjB,MAAM,CAAC4iB,eAAe,CAAC,6BAA6B,CAAC,EAAE,GAAG,CAAC,EAAE,gGAAgG,EAAE,aAAa,CAAC,CAAE;AACnXjB,QAAA,CAAA4B,wBAAgC,GAAGN,oBAAoB,CAAC,CAAC,gHAAgH,EAAE,MAAM,CAACjjB,MAAM,CAAC4iB,eAAe,CAAC,yBAAyB,CAAC,EAAE,qDAAqD,CAAC,CAAC,CAAE;AAC9RjB,QAAA,CAAA6B,iCAAyC,GAAGP,oBAAoB,CAAC,CAAC,0EAA0E,EAAE,MAAM,CAACjjB,MAAM,CAAC4iB,eAAe,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAA;;ECpBtM,IAAI/nB,MAAM,GAAG+C,YAAwB;EAErC,IAAIglB,eAAe,GAAG/kB,iBAA4B;EAElD,IAAIqL,QAAQ,GAAGnK,YAAuB;EAEtC,IAAI4iB,UAAQ,GAAG1iB,QAAqB;EAEpC,IAAIwkB,cAAc,GAAG,kBAAkB;EACvC,IAAIC,aAAa,GAAG;IAClBC,OAAO,EAAE,uBAAuB;IAChCC,UAAU,EAAE,GAAG;IACflB,kBAAkB,EAAE,IAAI;IACxBzI,YAAY,EAAE;EAChB,CAAC;EACD,IAAI4J,UAAU,GAAG,CAAC,WAAW,EAAE,WAAW,EAAE,SAAS,CAAC;EAEtD,IAAIC,OAAO,GAAG,SAASA,OAAO,CAAC1S,IAAI,EAAE;IACnC,OAAOyS,UAAU,CAACtjB,OAAO,CAAC6Q,IAAI,CAAC,KAAK,CAAC,CAAC;EACxC,CAAC;EAEDvQ,OAAA,CAAA6iB,aAAA,GAAwBA,aAAa,CAAC,CAAA;;EAEtC7iB,OAAA,CAAAkjB,UAAA,GAAqB,UAAU/pB,MAAM,EAAEgqB,UAAU,EAAE;IACjD,IAAIC,eAAe,GAAGppB,MAAM,CAAC,CAAE,CAAA,EAAEmpB,UAAU,EAAEhqB,MAAM,CAAC;IAEpD,IAAI,CAACiqB,eAAe,CAACL,UAAU,EAAE;MAC/BjC,UAAQ,CAAC6B,iCAAiC,EAAE;IAC7C;IAED,IAAIU,SAAS,GAAGrpB,MAAM,CAAC,CAAE,CAAA,EAAE6oB,aAAa,EAAEO,eAAe,CAAC;IAC1D,IAAIE,YAAY,GAAGD,SAAS,CAACxB,kBAAkB;IAE/C,IAAI,OAAO3lB,OAAO,KAAK,WAAW,EAAE;MAClC,IAAIqnB,OAAO,GAAGxB,eAAe,CAAC,4BAA4B,CAAC;MAC3D,MAAM,IAAI1lB,KAAK,CAAC,gEAAgE,CAAC8C,MAAM,CAACokB,OAAO,CAAC,CAAC;IAClG;IAED,IAAID,YAAY,IAAI,CAACD,SAAS,CAACvc,SAAS,EAAE;MACxC,MAAM,IAAIzK,KAAK,CAAC,wCAAwC,CAAC;IAC1D;IAED,IAAImnB,SAAS,GAAG,OAAOjH,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACtL,QAAQ,IAAIsL,MAAM,CAACtL,QAAQ,CAACT,QAAQ;IAC5F,IAAIiT,WAAW,GAAGD,SAAS,IAAIP,OAAO,CAAC1G,MAAM,CAACtL,QAAQ,CAACT,QAAQ,CAAC;IAEhE,IAAIgT,SAAS,IAAIC,WAAW,IAAIJ,SAAS,CAACtN,KAAK,IAAIsN,SAAS,CAACK,yBAAyB,KAAK,IAAI,EAAE;MAC/F5C,UAAQ,CAAC4B,wBAAwB,EAAE;IACpC,CAAA,MAAM,IAAI,OAAOW,SAAS,CAACM,MAAM,KAAK,WAAW,EAAE;MAClD7C,UAAQ,CAAC2B,eAAe,EAAE;IAC3B;IAED,IAAIa,YAAY,EAAE;MAChBjb,QAAQ,CAACvB,SAAS,CAACuc,SAAS,CAACvc,SAAS,CAAC;IACxC;IAED,IAAIuc,SAAS,CAACzc,OAAO,EAAE;MACrByB,QAAQ,CAACzB,OAAO,CAACyc,SAAS,CAACzc,OAAO,CAAC;IACpC;IAED,IAAI,kBAAkB,IAAIyc,SAAS,EAAE;MACvC;MACIA,SAAS,CAACrN,gBAAgB,GAAGqN,SAAS,CAACrN,gBAAgB,GAAG3N,QAAQ,CAACN,UAAU,CAACsb,SAAS,CAACrN,gBAAgB,CAAC,CAAC/M,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAGpP,SAAS;IAC1I;IAEDwpB,SAAS,CAACN,UAAU,GAAG,EAAE,CAAC5jB,MAAM,CAACkkB,SAAS,CAACN,UAAU,CAAC,CAAC9Z,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IACxEoa,SAAS,CAACO,YAAY,GAAGP,SAAS,CAACP,OAAO,KAAKD,aAAa,CAACC,OAAO;IACpEO,SAAS,CAACM,MAAM,GAAG5C,OAAO,CAACsC,SAAS,CAACM,MAAM,CAAC,IAAI,CAACN,SAAS,CAAC1S,eAAe;IAC1E3Q,OAAO,CAAC6jB,kBAAkB,CAACR,SAAS,CAACN,UAAU,CAAC;IAChD,IAAIe,SAAS,GAAGT,SAAS,CAACP,OAAO,CAACloB,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;IACjD,IAAIiV,QAAQ,GAAGiU,SAAS,CAAC,CAAC,CAAC;IAC3B,IAAIvT,IAAI,GAAGuT,SAAS,CAAC,CAAC,CAAC;IACvB,IAAIC,OAAO,GAAGV,SAAS,CAACO,YAAY,GAAGhB,cAAc,GAAGrS,IAAI;IAE5D,IAAI8S,SAAS,CAACxB,kBAAkB,EAAE;MAChCwB,SAAS,CAAC9U,GAAG,GAAG,EAAE,CAACpP,MAAM,CAAC0Q,QAAQ,EAAE,KAAK,CAAC,CAAC1Q,MAAM,CAACkkB,SAAS,CAACvc,SAAS,EAAE,GAAG,CAAC,CAAC3H,MAAM,CAACoR,IAAI,EAAE,IAAI,CAAC,CAACpR,MAAM,CAACkkB,SAAS,CAACN,UAAU,CAAC;MAC3HM,SAAS,CAACW,MAAM,GAAG,EAAE,CAAC7kB,MAAM,CAAC0Q,QAAQ,EAAE,KAAK,CAAC,CAAC1Q,MAAM,CAACkkB,SAAS,CAACvc,SAAS,EAAE,GAAG,CAAC,CAAC3H,MAAM,CAAC4kB,OAAO,EAAE,IAAI,CAAC,CAAC5kB,MAAM,CAACkkB,SAAS,CAACN,UAAU,CAAC;IACrI,CAAG,MAAM;MACLM,SAAS,CAAC9U,GAAG,GAAG,EAAE,CAACpP,MAAM,CAACkkB,SAAS,CAACP,OAAO,EAAE,IAAI,CAAC,CAAC3jB,MAAM,CAACkkB,SAAS,CAACN,UAAU,CAAC;MAC/EM,SAAS,CAACW,MAAM,GAAGX,SAAS,CAAC9U,GAAG;IACjC;IAED,OAAO8U,SAAS;EAClB,CAAC;EAEDrjB,OAAA,CAAA6jB,kBAAA,GAA6B,SAASA,kBAAkB,CAACd,UAAU,EAAE;IACnE,IAAIA,UAAU,KAAK,GAAG,IAAIA,UAAU,KAAK,GAAG,EAAE;MAC5C;IACD;IAED,IAAIkB,OAAO,GAAG,IAAIC,IAAI,CAACnB,UAAU,CAAC;IAClC,IAAIoB,eAAe,GAAG,qBAAqB,CAACtd,IAAI,CAACkc,UAAU,CAAC,IAAIkB,OAAO,YAAYC,IAAI,IAAID,OAAO,CAACG,OAAO,EAAE,GAAG,CAAC;IAEhH,IAAI,CAACD,eAAe,EAAE;MACpB,MAAM,IAAI9nB,KAAK,CAAC,yEAAyE,CAAC;IAC3F;GACF;;AC/FD,SAAS0Y,OAAO,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAIla,IAAI,GAAGzB,MAAM,CAACyB,IAAI,CAACia,MAAM,CAAC;EAAE,IAAI1b,MAAM,CAACD,qBAAqB,EAAE;IAAE,IAAIiC,OAAO,GAAGhC,MAAM,CAACD,qBAAqB,CAAC2b,MAAM,CAAC;IAAEC,cAAc,KAAK3Z,OAAO,GAAGA,OAAO,CAAC2J,MAAM,CAAC,UAAUiQ,GAAG,EAAE;MAAE,OAAO5b,MAAM,CAAC6b,wBAAwB,CAACH,MAAM,EAAEE,GAAG,CAAC,CAAChN,UAAU;IAAC,CAAE,CAAC,CAAC,EAAEnN,IAAI,CAACqE,IAAI,CAAC0T,KAAK,CAAC/X,IAAI,EAAEO,OAAO,CAAC;EAAC;EAAG,OAAOP,IAAI;AAAG;AAErV,SAASqa,aAAa,CAACla,MAAM,EAAE;EAAE,KAAK,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmB,SAAS,CAACC,MAAM,EAAEpB,CAAC,EAAE,EAAE;IAAE,IAAIc,MAAM,GAAG,IAAI,IAAIK,SAAS,CAACnB,CAAC,CAAC,GAAGmB,SAAS,CAACnB,CAAC,CAAC,GAAG,CAAE,CAAA;IAAEA,CAAC,GAAG,CAAC,GAAG0a,OAAO,CAACzb,MAAM,CAAC6B,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACN,OAAO,CAAC,UAAUa,GAAG,EAAE;MAAEuM,eAAe,CAAC/M,MAAM,EAAEQ,GAAG,EAAEP,MAAM,CAACO,GAAG,CAAC,CAAC;IAAG,CAAA,CAAC,GAAGpC,MAAM,CAAC+b,yBAAyB,GAAG/b,MAAM,CAACgc,gBAAgB,CAACpa,MAAM,EAAE5B,MAAM,CAAC+b,yBAAyB,CAACla,MAAM,CAAC,CAAC,GAAG4Z,OAAO,CAACzb,MAAM,CAAC6B,MAAM,CAAC,CAAC,CAACN,OAAO,CAAC,UAAUa,GAAG,EAAE;MAAEpC,MAAM,CAACsC,cAAc,CAACV,MAAM,EAAEQ,GAAG,EAAEpC,MAAM,CAAC6b,wBAAwB,CAACha,MAAM,EAAEO,GAAG,CAAC,CAAC;IAAC,CAAE,CAAC;EAAG;EAAC,OAAOR,MAAM;AAAG;AAE1f,SAAS+M,eAAe,CAACzB,GAAG,EAAE9K,GAAG,EAAEI,KAAK,EAAE;EAAE,IAAIJ,GAAG,IAAI8K,GAAG,EAAE;IAAElN,MAAM,CAACsC,cAAc,CAAC4K,GAAG,EAAE9K,GAAG,EAAE;MAAEI,KAAK,EAAEA,KAAK;MAAEoM,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAA,CAAC;EAAC,CAAE,MAAM;IAAE5B,GAAG,CAAC9K,GAAG,CAAC,GAAGI,KAAK;EAAC;EAAG,OAAO0K,GAAG;AAAG;AAEjN,IAAIxM,MAAM,GAAG+C,YAAwB;AAErC,IAAI+I,QAAQ,GAAG9I,YAA4B;EACvCkH,UAAU,GAAG4B,QAAQ,CAAC5B,UAAU;EAChC1J,GAAG,GAAGsL,QAAQ,CAACtL,GAAG;EAClByK,MAAM,GAAGa,QAAQ,CAACb,MAAM;AAE5B,IAAIqD,KAAK,GAAGpK,KAAuB;AAEnC,IAAIgN,WAAW,GAAG9M,WAA6B;AAE/C,IAAIwa,WAAW,GAAGzX,aAA6B;AAE/C,IAAIwZ,cAAc,GAAGvZ,cAAoC;AAEzD,IAAI4Z,cAAc,GAAGtD,cAAoC;AAEzD,IAAI0E,YAAY,GAAGzE,YAAgC;AAEnD,IAAIsG,WAAW,GAAGiD,WAA8B;AAEhD,IAAI/C,UAAU,GAAGkG,UAA4B;AAE7C,IAAIjD,WAAW,GAAGkD,SAAyB;AAE3C,IAAIC,iBAAiB,GAAGC,cAAgC;AAExD,IAAIze,SAAS,GAAG0e,MAAmB;EAC/B5B,aAAa,GAAG9c,SAAS,CAAC8c,aAAa;EACvCK,UAAU,GAAGnd,SAAS,CAACmd,UAAU;AAErC,IAAI7a,QAAQ,GAAGqc,YAAuB;AAEtC,IAAI3f,SAAS,GAAG,SAASA,SAAS,CAAC1B,UAAU,EAAE;EAC7C,OAAOA,UAAU,CAAC0B,SAAS,EAAE;AAC/B,CAAC;AAED,SAAS4f,YAAY,GAAG;EACtB,IAAIxrB,MAAM,GAAGqC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAGqnB,aAAa;EAE9F,IAAI,EAAE,IAAI,YAAY8B,YAAY,CAAC,EAAE;IACnC,OAAO,IAAIA,YAAY,CAACxrB,MAAM,CAAC;EAChC;EAED,IAAI,CAACA,MAAM,CAACA,MAAM,CAAC;EACnB,IAAI,CAACyrB,MAAM,GAAG,IAAIxI,YAAY,CAAC,IAAI,CAAC;EACpC,IAAI,CAACyI,QAAQ,GAAG,IAAIlK,cAAc,CAAC,IAAI,CAAC;EACxC,IAAI,CAACmK,QAAQ,GAAG,IAAI9J,cAAc,CAAC,IAAI,CAAC;EACxC,IAAI,CAAC+J,KAAK,GAAG,IAAI9G,WAAW,CAAC,IAAI,CAAC;EAClC,IAAI,CAAC+G,IAAI,GAAG,IAAI7G,UAAU,CAAC,IAAI,CAAC;EAEhC,IAAI,IAAI,CAACrI,YAAY,CAACsD,YAAY,EAAE;IAClC,IAAI6L,gBAAgB,GAAGjrB,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC8b,YAAY,EAAE;MACnDsD,YAAY,EAAE;IACpB,CAAK,CAAC;IACF,IAAI,CAAC/V,UAAU,GAAG,IAAIshB,YAAY,CAACM,gBAAgB,CAAC;EACrD;AACH;AAEAjrB,MAAM,CAAC2qB,YAAY,CAACnrB,SAAS,EAAEof,WAAW,CAAC;AAC3C5e,MAAM,CAAC2qB,YAAY,CAACnrB,SAAS,EAAE;EAC7BiP,KAAK,EAAE,SAASA,KAAK,GAAG;IACtB,OAAO,IAAIkc,YAAY,CAAC,IAAI,CAACxrB,MAAM,EAAE,CAAC;EACvC,CAAA;EACDA,MAAM,EAAE,SAASA,MAAM,CAACkqB,SAAS,EAAE;IACjC,IAAI,OAAOA,SAAS,KAAK,WAAW,EAAE;MACpC,OAAOrpB,MAAM,CAAC,CAAA,CAAE,EAAE,IAAI,CAAC8b,YAAY,CAAC;IACrC;IAED,IAAI,IAAI,CAACA,YAAY,IAAI,IAAI,CAACA,YAAY,CAACoP,gBAAgB,KAAK,KAAK,EAAE;MACrE,MAAM,IAAI7oB,KAAK,CAAC,sGAAsG,CAAC;IACxH;IAED,IAAI,IAAI,CAACgH,UAAU,EAAE;MACnB,IAAI4hB,gBAAgB,GAAGjrB,MAAM,CAAC,CAAE,CAAA,EAAEqpB,SAAS,EAAE;QAC3CjK,YAAY,EAAE;MACtB,CAAO,CAAC;MACF,IAAI,CAAC/V,UAAU,CAAClK,MAAM,CAAC8rB,gBAAgB,CAAC;IACzC;IAED,IAAI,CAACnP,YAAY,GAAGoN,UAAU,CAACG,SAAS,EAAE,IAAI,CAACvN,YAAY,IAAI,CAAA,CAAE,CAAC;IAClE,OAAO,IAAI;EACZ,CAAA;EACDqP,UAAU,EAAE,SAASA,UAAU,CAAC9B,SAAS,EAAE;IACzC,OAAO,IAAIsB,YAAY,CAACvP,aAAa,CAACA,aAAa,CAAC,CAAA,CAAE,EAAE,IAAI,CAACjc,MAAM,EAAE,CAAC,EAAEkqB,SAAS,CAAC,CAAC;EACpF,CAAA;EACD+B,MAAM,EAAE,SAASA,MAAM,CAAClP,GAAG,EAAE;IAC3B,IAAIyN,MAAM,GAAGnoB,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAK3B,SAAS,GAAG2B,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK;IACtF,IAAIsR,IAAI,GAAG6W,MAAM,GAAG,IAAI,CAAC7N,YAAY,CAACkO,MAAM,GAAG,IAAI,CAAClO,YAAY,CAACvH,GAAG;IACpE,OAAO,EAAE,CAACpP,MAAM,CAAC2N,IAAI,EAAE,GAAG,CAAC,CAAC3N,MAAM,CAAC+W,GAAG,CAACjN,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;EAC3D,CAAA;EACDmQ,YAAY,EAAE,SAASA,YAAY,GAAG;IACpC,OAAO,IAAI,CAACtD,YAAY,CAACsD,YAAY;EACtC,CAAA;EACDG,kBAAkB,EAAE,SAASA,kBAAkB,CAAC/O,OAAO,EAAE;IACvD,IAAIhJ,KAAK,GAAG,IAAI;IAEhB,IAAI0U,GAAG,GAAG1L,OAAO,CAAC+D,GAAG,IAAI/D,OAAO,CAAC0L,GAAG,CAAC,CAAA;IACzC;;IAEI,IAAIqE,SAAS,GAAG,OAAO/P,OAAO,CAAC+P,SAAS,KAAK,WAAW,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC7a,OAAO,CAAC8K,OAAO,CAACsJ,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,IAAIoC,GAAG,CAACxW,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG8K,OAAO,CAAC+P,SAAS;IACnK,IAAIoJ,MAAM,GAAG,IAAI,CAAC7N,YAAY,CAAC6N,MAAM,IAAIpJ,SAAS;IAClD,IAAIvS,GAAG,GAAGwC,OAAO,CAACxC,GAAG,IAAI,IAAI,CAAC8N,YAAY,CAACE,gBAAgB,GAAG,CAAC,IAAI,CAACF,YAAY,CAACE,gBAAgB,EAAExL,OAAO,CAACxC,GAAG,CAAC,CAACtN,IAAI,CAAC,GAAG,CAAC,GAAG8P,OAAO,CAACxC,GAAG,IAAI,IAAI,CAAC8N,YAAY,CAACE,gBAAgB;IAE7K,IAAIhO,GAAG,EAAE;MACPwC,OAAO,CAACpE,KAAK,GAAGgP,aAAa,CAAC;QAC5BpN,GAAG,EAAEK,QAAQ,CAACN,UAAU,CAACC,GAAG;MACpC,CAAO,EAAEwC,OAAO,CAACpE,KAAK,CAAC;IAClB;IAED,IAAIkU,UAAU,GAAGiK,iBAAiB,CAAC,IAAI,CAACzO,YAAY,EAAE9b,MAAM,CAAC,CAAE,CAAA,EAAEwQ,OAAO,EAAE;MACxE+D,GAAG,EAAE,IAAI,CAAC6W,MAAM,CAAClP,GAAG,EAAEyN,MAAM;IAC7B,CAAA,CAAC,CAAC;IACH,OAAO,IAAIzf,UAAU,CAAC,UAAUnC,UAAU,EAAE;MAC1C,OAAOqf,WAAW,CAAC9G,UAAU,EAAE9Y,KAAK,CAACsU,YAAY,CAACuL,SAAS,CAAC,CAACld,SAAS,CAACpC,UAAU,CAAC;IACxF,CAAK,CAAC;EACH,CAAA;EACD6O,OAAO,EAAE,SAASA,OAAO,CAACpG,OAAO,EAAE;IACjC,IAAInH,UAAU,GAAG,IAAI,CAACkW,kBAAkB,CAAC/O,OAAO,CAAC,CAAC/G,IAAI,CAACwB,MAAM,CAAC,UAAUkP,KAAK,EAAE;MAC7E,OAAOA,KAAK,CAACnN,IAAI,KAAK,UAAU;IACtC,CAAK,CAAC,EAAExM,GAAG,CAAC,UAAU2Z,KAAK,EAAE;MACvB,OAAOA,KAAK,CAACmE,IAAI;IAClB,CAAA,CAAC,CAAC;IAEH,OAAO,IAAI,CAACc,YAAY,EAAE,GAAGrU,SAAS,CAAC1B,UAAU,CAAC,GAAGA,UAAU;EAChE;AACH,CAAC,CAAC;AACFshB,YAAY,CAACrc,KAAK,GAAGA,KAAK;AAC1Bqc,YAAY,CAACzZ,WAAW,GAAGA,WAAW;AACtCyZ,YAAY,CAACvF,WAAW,GAAGgC,WAAW,CAAChC,WAAW;AAClDuF,YAAY,CAACpF,WAAW,GAAG6B,WAAW,CAAC7B,WAAW;AAClDoF,YAAY,CAACtD,SAAS,GAAGD,WAAW,CAACG,gBAAgB;AACrD,IAAA8D,YAAc,GAAGV,YAAY;ACrI7B,MAAMW,WACJ,GAAA,OAAOC,mBAAwB,KAAA,UAAA,GAAaC,uBAA0B,GAAAC,OAAA;AAGjE,SAASC,eAAwB9U,OAAoB,EAAA;EACpD,MAAA+U,GAAA,GAAML,YAAY1U,OAAO,CAAA;EAC/B,OAAO+U,GAAI,CAAAC,UAAA,IAAcD,GAAI,CAAAE,OAAA,GAAUF,IAAIE,OAAU,GAAAF,GAAA;AACvD;AAEAD,cAAA,CAAe9gB,UAAU0gB,WAAY,CAAA1gB,OAAA;AC0C9B,SAASkhB,iBAAiBC,GAAqC,EAAA;EAC9D,MAAAC,QAAA,GAAWC,mBAAmBF,GAAG,CAAA;EAChC,OAAAC,QAAA,GAAWA,QAAW,GAAAE,mBAAA,CAAoBH,GAAG,CAAA;AACtD;AAwBA,SAASG,oBAAoBH,GAAqC,EAAA;EAChE,MAAMI,UAAa,GAAA9V,IAAA,CAAK3V,IAAK,CAAAqrB,GAAA,EAAK,aAAa,CAAA;EAE/C,IAAI,CAACK,EAAA,CAAGC,UAAW,CAAAF,UAAU,CAAG,EAAA;IACvB,OAAA,IAAA;EACT;EAEO,OAAA;IACLhtB,MAAA,EAAQmtB,eAAeH,UAAU,CAAA;IACjC9V,IAAM,EAAA8V,UAAA;IACN/F,OAAS,EAAA;EAAA,CACX;AACF;AAEA,SAAS6F,mBAAmBF,GAAqC,EAAA;EAC/D,MAAMQ,YAAe,GAAAlW,IAAA,CAAK3V,IAAK,CAAAqrB,GAAA,EAAK,eAAe,CAAA;EACnD,MAAMS,YAAe,GAAAnW,IAAA,CAAK3V,IAAK,CAAAqrB,GAAA,EAAK,eAAe,CAAA;EAEnD,MAAM,CAACU,EAAA,EAAIC,EAAE,CAAA,GAAI,CAACN,EAAA,CAAGC,UAAW,CAAAE,YAAY,CAAG,EAAAH,EAAA,CAAGC,UAAW,CAAAG,YAAY,CAAC,CAAA;EAEtE,IAAA,CAACC,EAAM,IAAA,CAACC,EAAI,EAAA;IACP,OAAA,IAAA;EACT;EAEI,IAAA,CAACD,MAAMC,EAAI,EAAA;IACN,OAAA;MACLvtB,MAAA,EAAQwtB,aAAaH,YAAY,CAAA;MACjCnW,IAAM,EAAAmW,YAAA;MACNpG,OAAS,EAAA;IAAA,CACX;EACF;EAEA,IAAIqG,MAAMC,EAAI,EAAA;IACZnqB,IAAA,CAAK,sEAAsE,CAAA;EAC7E;EAEO,OAAA;IACLpD,MAAA,EAAQwtB,aAAaJ,YAAY,CAAA;IACjClW,IAAM,EAAAkW,YAAA;IACNnG,OAAS,EAAA;EAAA,CACX;AACF;AAEA,SAASkG,eAAeM,QAAqC,EAAA;EACvD,IAAA;IACF,MAAMC,OAAU,GAAAT,EAAA,CAAGU,YAAa,CAAAF,QAAA,EAAU,MAAM,CAAA;IACzC,OAAA1Z,IAAA,CAAKG,MAAMwZ,OAAO,CAAA;WAClB7rB,GAAP,EAAA;IACAsB,OAAA,CAAQF,KAAM,2BAAkBwqB,QAAc,iBAAA5rB,GAAA,CAAI4C,OAAS,EAAA;IACpD,OAAA,IAAA;EACT;AACF;AAEA,SAAS+oB,aAAaC,QAAoC,EAAA;EACpD,IAAA;IACI,MAAAztB,MAAA,GAASusB,eAAwDkB,QAAQ,CAAA;IAC/E,IAAIztB,MAAW,KAAA,IAAA,IAAQ,OAAOA,MAAA,KAAW,QAAU,EAAA;MAC3C,MAAA,IAAIkD,MAAM,6CAA6C,CAAA;IAC/D;IAEO,OAAA,SAAA,IAAalD,MAAS,GAAAA,MAAA,CAAO0sB,OAAU,GAAA1sB,MAAA;WACvC6B,GAAP,EAAA;IAIA,IAAIA,IAAI+rB,IAAS,KAAA,kBAAA,IAAsB/rB,IAAI4C,OAAQ,CAAAopB,QAAA,CAAS,YAAY,CAAG,EAAA;MAClE,OAAA,IAAA;IACT;IAEA1qB,OAAA,CAAQF,KAAM,2BAAkBwqB,QAAc,iBAAA5rB,GAAA,CAAI4C,OAAS,EAAA;IACpD,OAAA,IAAA;EACT;AACF;AAEA,SAASrB,KAAK0qB,OAAiB,EAAA;EACzB,IAAA,OAAO3V,OAAQ,CAAA4V,IAAA,KAAS,UAAY,EAAA;IACtC5V,OAAA,CAAQ4V,IAAK,CAAA;MAAClgB,IAAM,EAAA,SAAA;MAAWigB;IAAQ,CAAA,CAAA;EAAA,CAClC,MAAA;IACL3qB,OAAA,CAAQC,KAAK0qB,OAAO,CAAA;EACtB;AACF;;;;;;;;;;;;;;;;;ECjKA,IAAI1rB,CAAC,GAAG,IAAI;EACZ,IAAI4rB,CAAC,GAAG5rB,CAAC,GAAG,EAAE;EACd,IAAI6rB,CAAC,GAAGD,CAAC,GAAG,EAAE;EACd,IAAI1mB,CAAC,GAAG2mB,CAAC,GAAG,EAAE;EACd,IAAIC,CAAC,GAAG5mB,CAAC,GAAG,CAAC;EACb,IAAI6mB,CAAC,GAAG7mB,CAAC,GAAG,MAAM;;EAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA8mB,EAAc,GAAG,UAAU3tB,GAAG,EAAE4Q,OAAO,EAAE;IACvCA,OAAO,GAAGA,OAAO,IAAI,EAAE;IACvB,IAAIxD,IAAI,GAAG,OAAOpN,GAAG;IACrB,IAAIoN,IAAI,KAAK,QAAQ,IAAIpN,GAAG,CAAC6B,MAAM,GAAG,CAAC,EAAE;MACvC,OAAO4R,KAAK,CAACzT,GAAG,CAAC;IAClB,CAAA,MAAM,IAAIoN,IAAI,KAAK,QAAQ,IAAIwgB,QAAQ,CAAC5tB,GAAG,CAAC,EAAE;MAC7C,OAAO4Q,OAAO,CAACid,IAAI,GAAGC,OAAO,CAAC9tB,GAAG,CAAC,GAAG+tB,QAAQ,CAAC/tB,GAAG,CAAC;IACnD;IACD,MAAM,IAAIyC,KAAK,CACb,uDAAuD,GACrD6Q,IAAI,CAACC,SAAS,CAACvT,GAAG,CAAC,CACtB;EACH,CAAC;;EAED;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA,SAASyT,KAAK,CAACua,GAAG,EAAE;IAClBA,GAAG,GAAG1tB,MAAM,CAAC0tB,GAAG,CAAC;IACjB,IAAIA,GAAG,CAACnsB,MAAM,GAAG,GAAG,EAAE;MACpB;IACD;IACD,IAAIosB,KAAK,GAAG,kIAAkI,CAACC,IAAI,CACjJF,GAAG,CACJ;IACD,IAAI,CAACC,KAAK,EAAE;MACV;IACD;IACD,IAAIptB,CAAC,GAAGstB,UAAU,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI7gB,IAAI,GAAG,CAAC6gB,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAEhI,WAAW,EAAE;IAC3C,QAAQ7Y,IAAI;MACV,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,KAAK;MACV,KAAK,IAAI;MACT,KAAK,GAAG;QACN,OAAOvM,CAAC,GAAG6sB,CAAC;MACd,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,GAAG;QACN,OAAO7sB,CAAC,GAAG4sB,CAAC;MACd,KAAK,MAAM;MACX,KAAK,KAAK;MACV,KAAK,GAAG;QACN,OAAO5sB,CAAC,GAAGgG,CAAC;MACd,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,KAAK;MACV,KAAK,IAAI;MACT,KAAK,GAAG;QACN,OAAOhG,CAAC,GAAG2sB,CAAC;MACd,KAAK,SAAS;MACd,KAAK,QAAQ;MACb,KAAK,MAAM;MACX,KAAK,KAAK;MACV,KAAK,GAAG;QACN,OAAO3sB,CAAC,GAAG0sB,CAAC;MACd,KAAK,SAAS;MACd,KAAK,QAAQ;MACb,KAAK,MAAM;MACX,KAAK,KAAK;MACV,KAAK,GAAG;QACN,OAAO1sB,CAAC,GAAGc,CAAC;MACd,KAAK,cAAc;MACnB,KAAK,aAAa;MAClB,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,IAAI;QACP,OAAOd,CAAC;MACV;QACE,OAAOZ,SAAS;IAAC;EAEtB;;EAED;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA,SAAS8tB,QAAQ,CAACJ,EAAE,EAAE;IACpB,IAAIS,KAAK,GAAG7nB,IAAI,CAAC8nB,GAAG,CAACV,EAAE,CAAC;IACxB,IAAIS,KAAK,IAAIvnB,CAAC,EAAE;MACd,OAAON,IAAI,CAAC+nB,KAAK,CAACX,EAAE,GAAG9mB,CAAC,CAAC,GAAG,GAAG;IAChC;IACD,IAAIunB,KAAK,IAAIZ,CAAC,EAAE;MACd,OAAOjnB,IAAI,CAAC+nB,KAAK,CAACX,EAAE,GAAGH,CAAC,CAAC,GAAG,GAAG;IAChC;IACD,IAAIY,KAAK,IAAIb,CAAC,EAAE;MACd,OAAOhnB,IAAI,CAAC+nB,KAAK,CAACX,EAAE,GAAGJ,CAAC,CAAC,GAAG,GAAG;IAChC;IACD,IAAIa,KAAK,IAAIzsB,CAAC,EAAE;MACd,OAAO4E,IAAI,CAAC+nB,KAAK,CAACX,EAAE,GAAGhsB,CAAC,CAAC,GAAG,GAAG;IAChC;IACD,OAAOgsB,EAAE,GAAG,IAAI;EACjB;;EAED;AACA;AACA;AACA;AACA;AACA;AACA;;EAEA,SAASG,OAAO,CAACH,EAAE,EAAE;IACnB,IAAIS,KAAK,GAAG7nB,IAAI,CAAC8nB,GAAG,CAACV,EAAE,CAAC;IACxB,IAAIS,KAAK,IAAIvnB,CAAC,EAAE;MACd,OAAO0nB,MAAM,CAACZ,EAAE,EAAES,KAAK,EAAEvnB,CAAC,EAAE,KAAK,CAAC;IACnC;IACD,IAAIunB,KAAK,IAAIZ,CAAC,EAAE;MACd,OAAOe,MAAM,CAACZ,EAAE,EAAES,KAAK,EAAEZ,CAAC,EAAE,MAAM,CAAC;IACpC;IACD,IAAIY,KAAK,IAAIb,CAAC,EAAE;MACd,OAAOgB,MAAM,CAACZ,EAAE,EAAES,KAAK,EAAEb,CAAC,EAAE,QAAQ,CAAC;IACtC;IACD,IAAIa,KAAK,IAAIzsB,CAAC,EAAE;MACd,OAAO4sB,MAAM,CAACZ,EAAE,EAAES,KAAK,EAAEzsB,CAAC,EAAE,QAAQ,CAAC;IACtC;IACD,OAAOgsB,EAAE,GAAG,KAAK;EAClB;;EAED;AACA;AACA;;EAEA,SAASY,MAAM,CAACZ,EAAE,EAAES,KAAK,EAAEvtB,CAAC,EAAEqD,IAAI,EAAE;IAClC,IAAIsqB,QAAQ,GAAGJ,KAAK,IAAIvtB,CAAC,GAAG,GAAG;IAC/B,OAAO0F,IAAI,CAAC+nB,KAAK,CAACX,EAAE,GAAG9sB,CAAC,CAAC,GAAG,GAAG,GAAGqD,IAAI,IAAIsqB,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC;EAChE;;;;;;;;;EC/JA;AACA;AACA;AACA;EACA,SAASC,KAAK,CAACC,GAAG,EAAE;IAClBC,WAAW,CAACxI,KAAK,GAAGwI,WAAW;IAC/BA,WAAW,CAAC1C,OAAO,GAAG0C,WAAW;IACjCA,WAAW,CAACC,MAAM,GAAGA,MAAM;IAC3BD,WAAW,CAACE,OAAO,GAAGA,OAAO;IAC7BF,WAAW,CAACG,MAAM,GAAGA,MAAM;IAC3BH,WAAW,CAACI,OAAO,GAAGA,OAAO;IAC7BJ,WAAW,CAACK,QAAQ,GAAG7rB,WAAa;IACpCzD,MAAM,CAACyB,IAAI,CAACutB,GAAG,CAAC,CAACztB,OAAO,CAAC,UAAUa,GAAG,EAAE;MACtC6sB,WAAW,CAAC7sB,GAAG,CAAC,GAAG4sB,GAAG,CAAC5sB,GAAG,CAAC;IAC/B,CAAG,CAAC;IACJ;AACA;AACA;;IAEE6sB,WAAW,CAACM,SAAS,GAAG,EAAE;IAC5B;AACA;AACA;;IAEEN,WAAW,CAACO,KAAK,GAAG,EAAE;IACtBP,WAAW,CAACQ,KAAK,GAAG,EAAE;IACxB;AACA;AACA;AACA;AACA;;IAEER,WAAW,CAACS,UAAU,GAAG,EAAE;IAC7B;AACA;AACA;AACA;AACA;AACA;;IAEE,SAASC,WAAW,CAAC9I,SAAS,EAAE;MAC9B,IAAI+I,IAAI,GAAG,CAAC;MAEZ,KAAK,IAAI7uB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8lB,SAAS,CAAC1kB,MAAM,EAAEpB,CAAC,EAAE,EAAE;QACzC6uB,IAAI,GAAG,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAG/I,SAAS,CAACgJ,UAAU,CAAC9uB,CAAC,CAAC;QACnD6uB,IAAI,IAAI,CAAC,CAAC,CAAA;MACX;;MAED,OAAOX,WAAW,CAACa,MAAM,CAACjpB,IAAI,CAAC8nB,GAAG,CAACiB,IAAI,CAAC,GAAGX,WAAW,CAACa,MAAM,CAAC3tB,MAAM,CAAC;IACtE;IAED8sB,WAAW,CAACU,WAAW,GAAGA,WAAW;IACvC;AACA;AACA;AACA;AACA;AACA;AACA;;IAEE,SAASV,WAAW,CAACpI,SAAS,EAAE;MAC9B,IAAIkJ,QAAQ;MAEZ,SAAStJ,KAAK,GAAG;QACrB;QACM,IAAI,CAACA,KAAK,CAAC4I,OAAO,EAAE;UAClB;QACD;QAED,KAAK,IAAIrG,IAAI,GAAG9mB,SAAS,CAACC,MAAM,EAAE8mB,IAAI,GAAG,IAAIjlB,KAAK,CAACglB,IAAI,CAAC,EAAEE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,EAAE,EAAE;UACvFD,IAAI,CAACC,IAAI,CAAC,GAAGhnB,SAAS,CAACgnB,IAAI,CAAC;QAC7B;QAED,IAAI1T,IAAI,GAAGiR,KAAK,CAAC,CAAA;;QAEjB,IAAIuJ,IAAI,GAAG7V,MAAM,CAAC,IAAIyQ,IAAI,EAAE,CAAC;QAC7B,IAAIqD,EAAE,GAAG+B,IAAI,IAAID,QAAQ,IAAIC,IAAI,CAAC;QAClCxa,IAAI,CAACya,IAAI,GAAGhC,EAAE;QACdzY,IAAI,CAAC/K,IAAI,GAAGslB,QAAQ;QACpBva,IAAI,CAACwa,IAAI,GAAGA,IAAI;QAChBD,QAAQ,GAAGC,IAAI;QACf/G,IAAI,CAAC,CAAC,CAAC,GAAGgG,WAAW,CAACC,MAAM,CAACjG,IAAI,CAAC,CAAC,CAAC,CAAC;QAErC,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;UACvC;UACQA,IAAI,CAACiH,OAAO,CAAC,IAAI,CAAC;QACnB,CAAA,CAAA;;QAGD,IAAI3qB,KAAK,GAAG,CAAC;QACb0jB,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,CAACtZ,OAAO,CAAC,eAAe,EAAE,UAAU4e,KAAK,EAAE/J,MAAM,EAAE;UAC1E;UACQ,IAAI+J,KAAK,KAAK,IAAI,EAAE;YAClB,OAAOA,KAAK;UACb;UAEDhpB,KAAK,EAAE;UACP,IAAI4qB,SAAS,GAAGlB,WAAW,CAACS,UAAU,CAAClL,MAAM,CAAC;UAE9C,IAAI,OAAO2L,SAAS,KAAK,UAAU,EAAE;YACnC,IAAI7vB,GAAG,GAAG2oB,IAAI,CAAC1jB,KAAK,CAAC;YACrBgpB,KAAK,GAAG4B,SAAS,CAAC9tB,IAAI,CAACmT,IAAI,EAAElV,GAAG,CAAC,CAAC,CAAA;;YAElC2oB,IAAI,CAAC1iB,MAAM,CAAChB,KAAK,EAAE,CAAC,CAAC;YACrBA,KAAK,EAAE;UACR;UAED,OAAOgpB,KAAK;QACpB,CAAO,CAAC,CAAC,CAAA;;QAEHU,WAAW,CAACmB,UAAU,CAAC/tB,IAAI,CAACmT,IAAI,EAAEyT,IAAI,CAAC;QACvC,IAAIoH,KAAK,GAAG7a,IAAI,CAACrS,GAAG,IAAI8rB,WAAW,CAAC9rB,GAAG;QACvCktB,KAAK,CAAC7W,KAAK,CAAChE,IAAI,EAAEyT,IAAI,CAAC;MACxB;MAEDxC,KAAK,CAACI,SAAS,GAAGA,SAAS;MAC3BJ,KAAK,CAAC4I,OAAO,GAAGJ,WAAW,CAACI,OAAO,CAACxI,SAAS,CAAC;MAC9CJ,KAAK,CAAC6J,SAAS,GAAGrB,WAAW,CAACqB,SAAS,EAAE;MACzC7J,KAAK,CAAC8J,KAAK,GAAGZ,WAAW,CAAC9I,SAAS,CAAC;MACpCJ,KAAK,CAAC+J,OAAO,GAAGA,OAAO;MACvB/J,KAAK,CAACgK,MAAM,GAAGA,MAAM,CAAC,CAAA;MAC1B;MACA;;MAEI,IAAI,OAAOxB,WAAW,CAACyB,IAAI,KAAK,UAAU,EAAE;QAC1CzB,WAAW,CAACyB,IAAI,CAACjK,KAAK,CAAC;MACxB;MAEDwI,WAAW,CAACM,SAAS,CAACzpB,IAAI,CAAC2gB,KAAK,CAAC;MACjC,OAAOA,KAAK;IACb;IAED,SAAS+J,OAAO,GAAG;MACjB,IAAIjrB,KAAK,GAAG0pB,WAAW,CAACM,SAAS,CAACnpB,OAAO,CAAC,IAAI,CAAC;MAE/C,IAAIb,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB0pB,WAAW,CAACM,SAAS,CAAChpB,MAAM,CAAChB,KAAK,EAAE,CAAC,CAAC;QACtC,OAAO,IAAI;MACZ;MAED,OAAO,KAAK;IACb;IAED,SAASkrB,MAAM,CAAC5J,SAAS,EAAE8J,SAAS,EAAE;MACpC,OAAO1B,WAAW,CAAC,IAAI,CAACpI,SAAS,IAAI,OAAO8J,SAAS,KAAK,WAAW,GAAG,GAAG,GAAGA,SAAS,CAAC,GAAG9J,SAAS,CAAC;IACtG;IACH;AACA;AACA;AACA;AACA;AACA;AACA;;IAGE,SAASuI,MAAM,CAACwB,UAAU,EAAE;MAC1B3B,WAAW,CAAC4B,IAAI,CAACD,UAAU,CAAC;MAC5B3B,WAAW,CAACO,KAAK,GAAG,EAAE;MACtBP,WAAW,CAACQ,KAAK,GAAG,EAAE;MACtB,IAAI1uB,CAAC;MACL,IAAIO,KAAK,GAAG,CAAC,OAAOsvB,UAAU,KAAK,QAAQ,GAAGA,UAAU,GAAG,EAAE,EAAEtvB,KAAK,CAAC,QAAQ,CAAC;MAC9E,IAAIqE,GAAG,GAAGrE,KAAK,CAACa,MAAM;MAEtB,KAAKpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4E,GAAG,EAAE5E,CAAC,EAAE,EAAE;QACxB,IAAI,CAACO,KAAK,CAACP,CAAC,CAAC,EAAE;UACrB;UACQ;QACD;QAED6vB,UAAU,GAAGtvB,KAAK,CAACP,CAAC,CAAC,CAAC4O,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;QAE3C,IAAIihB,UAAU,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;UACzB3B,WAAW,CAACQ,KAAK,CAAC3pB,IAAI,CAAC,IAAIgrB,MAAM,CAAC,GAAG,GAAGF,UAAU,CAACG,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC5E,CAAO,MAAM;UACL9B,WAAW,CAACO,KAAK,CAAC1pB,IAAI,CAAC,IAAIgrB,MAAM,CAAC,GAAG,GAAGF,UAAU,GAAG,GAAG,CAAC,CAAC;QAC3D;MACF;MAED,KAAK7vB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkuB,WAAW,CAACM,SAAS,CAACptB,MAAM,EAAEpB,CAAC,EAAE,EAAE;QACjD,IAAIiwB,QAAQ,GAAG/B,WAAW,CAACM,SAAS,CAACxuB,CAAC,CAAC;QACvCiwB,QAAQ,CAAC3B,OAAO,GAAGJ,WAAW,CAACI,OAAO,CAAC2B,QAAQ,CAACnK,SAAS,CAAC;MAC3D;IACF;IACH;AACA;AACA;AACA;AACA;;IAGE,SAASsI,OAAO,GAAG;MACjBF,WAAW,CAACG,MAAM,CAAC,EAAE,CAAC;IACvB;IACH;AACA;AACA;AACA;AACA;AACA;AACA;;IAGE,SAASC,OAAO,CAAC7qB,IAAI,EAAE;MACrB,IAAIA,IAAI,CAACA,IAAI,CAACrC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;QACjC,OAAO,IAAI;MACZ;MAED,IAAIpB,CAAC;MACL,IAAI4E,GAAG;MAEP,KAAK5E,CAAC,GAAG,CAAC,EAAE4E,GAAG,GAAGspB,WAAW,CAACQ,KAAK,CAACttB,MAAM,EAAEpB,CAAC,GAAG4E,GAAG,EAAE5E,CAAC,EAAE,EAAE;QACxD,IAAIkuB,WAAW,CAACQ,KAAK,CAAC1uB,CAAC,CAAC,CAACwM,IAAI,CAAC/I,IAAI,CAAC,EAAE;UACnC,OAAO,KAAK;QACb;MACF;MAED,KAAKzD,CAAC,GAAG,CAAC,EAAE4E,GAAG,GAAGspB,WAAW,CAACO,KAAK,CAACrtB,MAAM,EAAEpB,CAAC,GAAG4E,GAAG,EAAE5E,CAAC,EAAE,EAAE;QACxD,IAAIkuB,WAAW,CAACO,KAAK,CAACzuB,CAAC,CAAC,CAACwM,IAAI,CAAC/I,IAAI,CAAC,EAAE;UACnC,OAAO,IAAI;QACZ;MACF;MAED,OAAO,KAAK;IACb;IACH;AACA;AACA;AACA;AACA;AACA;AACA;;IAGE,SAAS0qB,MAAM,CAAC5uB,GAAG,EAAE;MACnB,IAAIA,GAAG,YAAYyC,KAAK,EAAE;QACxB,OAAOzC,GAAG,CAAC4C,KAAK,IAAI5C,GAAG,CAACgE,OAAO;MAChC;MAED,OAAOhE,GAAG;IACX;IAED2uB,WAAW,CAACG,MAAM,CAACH,WAAW,CAACgC,IAAI,EAAE,CAAC;IACtC,OAAOhC,WAAW;EACnB;EAEDiC,MAAc,GAAGnC,KAAK;;;;;;;;ICrPtB,SAAS9hB,OAAO,CAACC,GAAG,EAAE;MAAE,IAAI,OAAOtG,MAAM,KAAK,UAAU,IAAI,OAAOA,MAAM,CAACuG,QAAQ,KAAK,QAAQ,EAAE;QAAEF,OAAO,GAAG,SAASA,OAAO,CAACC,GAAG,EAAE;UAAE,OAAO,OAAOA,GAAG;QAAG,CAAA;OAAG,MAAM;QAAED,OAAO,GAAG,SAASA,OAAO,CAACC,GAAG,EAAE;UAAE,OAAOA,GAAG,IAAI,OAAOtG,MAAM,KAAK,UAAU,IAAIsG,GAAG,CAACzF,WAAW,KAAKb,MAAM,IAAIsG,GAAG,KAAKtG,MAAM,CAAC1G,SAAS,GAAG,QAAQ,GAAG,OAAOgN,GAAG;QAAC,CAAE;MAAC;MAAG,OAAOD,OAAO,CAACC,GAAG,CAAC;IAAG;;IAE/V;;IAEA;AACA;AACA;IACAxG,OAAA,CAAAvD,GAAA,GAAcA,GAAG;IACjBuD,OAAA,CAAA0pB,UAAA,GAAqBA,UAAU;IAC/B1pB,OAAA,CAAAmqB,IAAA,GAAeA,IAAI;IACnBnqB,OAAA,CAAAuqB,IAAA,GAAeA,IAAI;IACnBvqB,OAAA,CAAA4pB,SAAA,GAAoBA,SAAS;IAC7B5pB,OAAkB,CAAAyqB,OAAA,GAAAC,YAAY,EAAE;IAChC;AACA;AACA;;IAEA1qB,OAAA,CAAAopB,MAAA,GAAiB,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACr1B;AACA;AACA;AACA;AACA;AACA;AACA;IACA;;IAEA,SAASQ,SAAS,GAAG;MACrB;MACA;MACA;MACE,IAAI,OAAOrN,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACjL,OAAO,KAAKiL,MAAM,CAACjL,OAAO,CAACtK,IAAI,KAAK,UAAU,IAAIuV,MAAM,CAACjL,OAAO,CAACqZ,MAAM,CAAC,EAAE;QACpH,OAAO,IAAI;MACZ,CAAA,CAAA;;MAGD,IAAI,OAAOC,SAAS,KAAK,WAAW,IAAIA,SAAS,CAACC,SAAS,IAAID,SAAS,CAACC,SAAS,CAAChL,WAAW,EAAE,CAACgI,KAAK,CAAC,uBAAuB,CAAC,EAAE;QAC/H,OAAO,KAAK;MACb,CAAA,CAAA;MACH;;MAGE,OAAO,OAAOpN,QAAQ,KAAK,WAAW,IAAIA,QAAQ,CAACqQ,eAAe,IAAIrQ,QAAQ,CAACqQ,eAAe,CAACC,KAAK,IAAItQ,QAAQ,CAACqQ,eAAe,CAACC,KAAK,CAACC,gBAAgB;MAAA;MACvJ,OAAOzO,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACjgB,OAAO,KAAKigB,MAAM,CAACjgB,OAAO,CAAC2uB,OAAO,IAAI1O,MAAM,CAACjgB,OAAO,CAAC4uB,SAAS,IAAI3O,MAAM,CAACjgB,OAAO,CAAC6uB,KAAK,CAAC;MAAA;MACjI;MACE,OAAOP,SAAS,KAAK,WAAW,IAAIA,SAAS,CAACC,SAAS,IAAID,SAAS,CAACC,SAAS,CAAChL,WAAW,EAAE,CAACgI,KAAK,CAAC,gBAAgB,CAAC,IAAIrU,QAAQ,CAAC4W,MAAM,CAACgB,EAAE,EAAE,EAAE,CAAC,IAAI,EAAE;MAAA;MACrJ,OAAOR,SAAS,KAAK,WAAW,IAAIA,SAAS,CAACC,SAAS,IAAID,SAAS,CAACC,SAAS,CAAChL,WAAW,EAAE,CAACgI,KAAK,CAAC,oBAAoB,CAAC;IACzH;IACD;AACA;AACA;AACA;AACA;;IAGA,SAAS6B,UAAU,CAACnH,IAAI,EAAE;MACxBA,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAACqH,SAAS,GAAG,IAAI,GAAG,EAAE,IAAI,IAAI,CAACzJ,SAAS,IAAI,IAAI,CAACyJ,SAAS,GAAG,KAAK,GAAG,GAAG,CAAC,GAAGrH,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAACqH,SAAS,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,GAAG,GAAGjV,MAAM,CAAC3U,OAAO,CAAC4oB,QAAQ,CAAC,IAAI,CAACW,IAAI,CAAC;MAE9K,IAAI,CAAC,IAAI,CAACK,SAAS,EAAE;QACnB;MACD;MAED,IAAIpX,CAAC,GAAG,SAAS,GAAG,IAAI,CAACqX,KAAK;MAC9BtH,IAAI,CAAC1iB,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE2S,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAA;MACzC;MACA;;MAEE,IAAI3T,KAAK,GAAG,CAAC;MACb,IAAIwsB,KAAK,GAAG,CAAC;MACb9I,IAAI,CAAC,CAAC,CAAC,CAACtZ,OAAO,CAAC,aAAa,EAAE,UAAU4e,KAAK,EAAE;QAC9C,IAAIA,KAAK,KAAK,IAAI,EAAE;UAClB;QACD;QAEDhpB,KAAK,EAAE;QAEP,IAAIgpB,KAAK,KAAK,IAAI,EAAE;UACxB;UACA;UACMwD,KAAK,GAAGxsB,KAAK;QACd;MACL,CAAG,CAAC;MACF0jB,IAAI,CAAC1iB,MAAM,CAACwrB,KAAK,EAAE,CAAC,EAAE7Y,CAAC,CAAC;IACzB;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAAS/V,GAAG,GAAG;MACb,IAAI4lB,QAAQ;;MAEd;MACA;MACE,OAAO,CAAC,OAAO/lB,OAAO,KAAK,WAAW,GAAG,WAAW,GAAGiK,OAAO,CAACjK,OAAO,CAAC,MAAM,QAAQ,IAAIA,OAAO,CAACG,GAAG,IAAI,CAAC4lB,QAAQ,GAAG/lB,OAAO,EAAEG,GAAG,CAACqW,KAAK,CAACuP,QAAQ,EAAE7mB,SAAS,CAAC;IAC5J;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAAS2uB,IAAI,CAACD,UAAU,EAAE;MACxB,IAAI;QACF,IAAIA,UAAU,EAAE;UACdlqB,OAAO,CAACyqB,OAAO,CAACa,OAAO,CAAC,OAAO,EAAEpB,UAAU,CAAC;QAClD,CAAK,MAAM;UACLlqB,OAAO,CAACyqB,OAAO,CAACc,UAAU,CAAC,OAAO,CAAC;QACpC;MACF,CAAA,CAAC,OAAOnvB,KAAK,EAAE,CAAA;QAClB;MACG;IACF;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAASmuB,IAAI,GAAG;MACd,IAAIiB,CAAC;MAEL,IAAI;QACFA,CAAC,GAAGxrB,OAAO,CAACyqB,OAAO,CAACgB,OAAO,CAAC,OAAO,CAAC;MACxC,CAAG,CAAC,OAAOrvB,KAAK,EAAE,CAAE,CAAA,CAAA;MACpB;MACA;;MAGE,IAAI,CAACovB,CAAC,IAAI,OAAOla,OAAO,KAAK,WAAW,IAAI,KAAK,IAAIA,OAAO,EAAE;QAC5Dka,CAAC,GAAGla,OAAO,CAACgX,GAAG,CAACoD,KAAK;MACtB;MAED,OAAOF,CAAC;IACT;IACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAGA,SAASd,YAAY,GAAG;MACtB,IAAI;QACN;QACA;QACI,OAAOiB,YAAY;MACpB,CAAA,CAAC,OAAOvvB,KAAK,EAAE,CAAA;QAClB;MACG;IACF;IAEDuY,MAAA,CAAA3U,OAAA,GAAiBjD,aAAmB,EAAA,CAACiD,OAAO,CAAC;IAC7C,IAAIgpB,UAAU,GAAGrU,MAAM,CAAC3U,OAAO,CAACgpB,UAAU;IAC1C;AACA;AACA;;IAEAA,UAAU,CAAC4C,CAAC,GAAG,UAAUC,CAAC,EAAE;MAC1B,IAAI;QACF,OAAO3e,IAAI,CAACC,SAAS,CAAC0e,CAAC,CAAC;MACzB,CAAA,CAAC,OAAOzvB,KAAK,EAAE;QACd,OAAO,8BAA8B,GAAGA,KAAK,CAACwB,OAAO;MACtD;KACF;;;;;;;;;;;;EChLakuB,OAAA,GAAG,UAACC,IAAI,EAA0B;IAAA,IAAxBC,IAAI,uEAAG1a,OAAO,CAAC0a,IAAI;IAC1C,MAAMC,MAAM,GAAGF,IAAI,CAACG,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,GAAIH,IAAI,CAACtwB,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,IAAK;IAC3E,MAAM0wB,QAAQ,GAAGH,IAAI,CAACtsB,OAAO,CAACusB,MAAM,GAAGF,IAAI,CAAC;IAC5C,MAAMK,kBAAkB,GAAGJ,IAAI,CAACtsB,OAAO,CAAC,IAAI,CAAC;IAC7C,OAAOysB,QAAQ,KAAK,CAAC,CAAC,KAAKC,kBAAkB,KAAK,CAAC,CAAC,IAAID,QAAQ,GAAGC,kBAAkB,CAAC;GACtF;;;;;;;;ECND,MAAMC,EAAE,GAAGtvB,YAAa;EACxB,MAAMuvB,GAAG,GAAGtvB,YAAc;EAC1B,MAAM8uB,OAAO,GAAG5tB,cAAA,EAAmB;EAEnC,MAAM;IAACoqB;EAAG,CAAC,GAAGhX,OAAO;EAErB,IAAIib,UAAU;EACd,IAAIT,OAAO,CAAC,UAAU,CAAC,IACtBA,OAAO,CAAC,WAAW,CAAC,IACpBA,OAAO,CAAC,aAAa,CAAC,IACtBA,OAAO,CAAC,aAAa,CAAC,EAAE;IACxBS,UAAU,GAAG,CAAC;EACf,CAAC,MAAM,IAAIT,OAAO,CAAC,OAAO,CAAC,IAC1BA,OAAO,CAAC,QAAQ,CAAC,IACjBA,OAAO,CAAC,YAAY,CAAC,IACrBA,OAAO,CAAC,cAAc,CAAC,EAAE;IACzBS,UAAU,GAAG,CAAC;EACd;EAED,IAAI,aAAa,IAAIjE,GAAG,EAAE;IACzB,IAAIA,GAAG,CAACkE,WAAW,KAAK,MAAM,EAAE;MAC/BD,UAAU,GAAG,CAAC;IAChB,CAAE,MAAM,IAAIjE,GAAG,CAACkE,WAAW,KAAK,OAAO,EAAE;MACvCD,UAAU,GAAG,CAAC;IAChB,CAAE,MAAM;MACNA,UAAU,GAAGjE,GAAG,CAACkE,WAAW,CAAC/wB,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG0E,IAAI,CAACssB,GAAG,CAACjZ,QAAQ,CAAC8U,GAAG,CAACkE,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;IAC1F;EACD;EAED,SAASE,cAAc,CAACC,KAAK,EAAE;IAC9B,IAAIA,KAAK,KAAK,CAAC,EAAE;MAChB,OAAO,KAAK;IACZ;IAED,OAAO;MACNA,KAAK;MACLC,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAEF,KAAK,IAAI,CAAC;MAClBG,MAAM,EAAEH,KAAK,IAAI;IACnB,CAAE;EACD;EAED,SAASI,aAAa,CAACC,UAAU,EAAEC,WAAW,EAAE;IAC/C,IAAIV,UAAU,KAAK,CAAC,EAAE;MACrB,OAAO,CAAC;IACR;IAED,IAAIT,OAAO,CAAC,WAAW,CAAC,IACvBA,OAAO,CAAC,YAAY,CAAC,IACrBA,OAAO,CAAC,iBAAiB,CAAC,EAAE;MAC5B,OAAO,CAAC;IACR;IAED,IAAIA,OAAO,CAAC,WAAW,CAAC,EAAE;MACzB,OAAO,CAAC;IACR;IAED,IAAIkB,UAAU,IAAI,CAACC,WAAW,IAAIV,UAAU,KAAK1yB,SAAS,EAAE;MAC3D,OAAO,CAAC;IACR;IAED,MAAM4yB,GAAG,GAAGF,UAAU,IAAI,CAAC;IAE3B,IAAIjE,GAAG,CAAC4E,IAAI,KAAK,MAAM,EAAE;MACxB,OAAOT,GAAG;IACV;IAED,IAAInb,OAAO,CAAC6b,QAAQ,KAAK,OAAO,EAAE;MACnC;MACA;MACE,MAAMC,SAAS,GAAGf,EAAE,CAACgB,OAAO,EAAE,CAACzyB,KAAK,CAAC,GAAG,CAAC;MACzC,IACC6Y,MAAM,CAAC2Z,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAC1B3Z,MAAM,CAAC2Z,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,EAC5B;QACD,OAAO3Z,MAAM,CAAC2Z,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC;MAC5C;MAED,OAAO,CAAC;IACR;IAED,IAAI,IAAI,IAAI9E,GAAG,EAAE;MAChB,IAAI,CAAC,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,gBAAgB,EAAE,WAAW,CAAC,CAACgF,IAAI,CAACC,IAAI,IAAIA,IAAI,IAAIjF,GAAG,CAAC,IAAIA,GAAG,CAACkF,OAAO,KAAK,UAAU,EAAE;QAC3I,OAAO,CAAC;MACR;MAED,OAAOf,GAAG;IACV;IAED,IAAI,kBAAkB,IAAInE,GAAG,EAAE;MAC9B,OAAO,+BAA+B,CAACzhB,IAAI,CAACyhB,GAAG,CAACmF,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC;IACzE;IAED,IAAInF,GAAG,CAACoF,SAAS,KAAK,WAAW,EAAE;MAClC,OAAO,CAAC;IACR;IAED,IAAI,cAAc,IAAIpF,GAAG,EAAE;MAC1B,MAAMlI,OAAO,GAAG5M,QAAQ,CAAC,CAAC8U,GAAG,CAACqF,oBAAoB,IAAI,EAAE,EAAE/yB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;MAE5E,QAAQ0tB,GAAG,CAACsF,YAAY;QACvB,KAAK,WAAW;UACf,OAAOxN,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;QAC5B,KAAK,gBAAgB;UACpB,OAAO,CAAC;QACZ;MAAA;IAEE;;IAED,IAAI,gBAAgB,CAACvZ,IAAI,CAACyhB,GAAG,CAAC4E,IAAI,CAAC,EAAE;MACpC,OAAO,CAAC;IACR;IAED,IAAI,6DAA6D,CAACrmB,IAAI,CAACyhB,GAAG,CAAC4E,IAAI,CAAC,EAAE;MACjF,OAAO,CAAC;IACR;IAED,IAAI,WAAW,IAAI5E,GAAG,EAAE;MACvB,OAAO,CAAC;IACR;IAED,OAAOmE,GAAG;EACV;EAED,SAASoB,eAAe,CAACC,MAAM,EAAE;IAChC,MAAMnB,KAAK,GAAGI,aAAa,CAACe,MAAM,EAAEA,MAAM,IAAIA,MAAM,CAACC,KAAK,CAAC;IAC3D,OAAOrB,cAAc,CAACC,KAAK,CAAC;EAC5B;EAEDqB,eAAc,GAAG;IAChBjB,aAAa,EAAEc,eAAe;IAC9BI,MAAM,EAAEvB,cAAc,CAACK,aAAa,CAAC,IAAI,EAAET,GAAG,CAAC4B,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1DC,MAAM,EAAEzB,cAAc,CAACK,aAAa,CAAC,IAAI,EAAET,GAAG,CAAC4B,MAAM,CAAC,CAAC,CAAC,CAAC;GACzD;;;;;;;;ICpID;AACA;AACA;IACA,IAAI5B,GAAG,GAAGvvB,YAAc;IAExB,IAAI0Q,IAAI,GAAGzQ,UAAe;IAC1B;AACA;AACA;;IAGAgD,OAAA,CAAAgqB,IAAA,GAAeA,IAAI;IACnBhqB,OAAA,CAAAvD,GAAA,GAAcA,GAAG;IACjBuD,OAAA,CAAA0pB,UAAA,GAAqBA,UAAU;IAC/B1pB,OAAA,CAAAmqB,IAAA,GAAeA,IAAI;IACnBnqB,OAAA,CAAAuqB,IAAA,GAAeA,IAAI;IACnBvqB,OAAA,CAAA4pB,SAAA,GAAoBA,SAAS;IAC7B;AACA;AACA;;IAEA5pB,OAAA,CAAAopB,MAAA,GAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAEnC,IAAI;MACJ;MACA;MACE,IAAI2D,aAAa,GAAG7uB,oBAAA,EAAyB;MAE7C,IAAI6uB,aAAa,IAAI,CAACA,aAAa,CAACoB,MAAM,IAAIpB,aAAa,EAAEJ,KAAK,IAAI,CAAC,EAAE;QACvE3sB,OAAiB,CAAAopB,MAAA,GAAA,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC9W;IACH,CAAC,CAAC,OAAOhtB,KAAK,EAAE,CAAE,CAAA,CAAA;;IAElB;AACA;AACA;AACA;AACA;;IAGA4D,OAAA,CAAAouB,WAAA,GAAsB90B,MAAM,CAACyB,IAAI,CAACuW,OAAO,CAACgX,GAAG,CAAC,CAACrjB,MAAM,CAAC,UAAUvJ,GAAG,EAAE;MACnE,OAAO,UAAU,CAACmL,IAAI,CAACnL,GAAG,CAAC;IAC5B,CAAA,CAAC,CAACoE,MAAM,CAAC,UAAU0G,GAAG,EAAE9K,GAAG,EAAE;MAC9B;MACE,IAAImZ,IAAI,GAAGnZ,GAAG,CAAC2yB,SAAS,CAAC,CAAC,CAAC,CAACxO,WAAW,EAAE,CAAC5W,OAAO,CAAC,WAAW,EAAE,UAAU+V,CAAC,EAAEsP,CAAC,EAAE;QAC7E,OAAOA,CAAC,CAACC,WAAW,EAAE;MAC1B,CAAG,CAAC,CAAC,CAAA;;MAEH,IAAI30B,GAAG,GAAG0X,OAAO,CAACgX,GAAG,CAAC5sB,GAAG,CAAC;MAE1B,IAAI,0BAA0B,CAACmL,IAAI,CAACjN,GAAG,CAAC,EAAE;QACxCA,GAAG,GAAG,IAAI;MACX,CAAA,MAAM,IAAI,4BAA4B,CAACiN,IAAI,CAACjN,GAAG,CAAC,EAAE;QACjDA,GAAG,GAAG,KAAK;MACf,CAAG,MAAM,IAAIA,GAAG,KAAK,MAAM,EAAE;QACzBA,GAAG,GAAG,IAAI;MACd,CAAG,MAAM;QACLA,GAAG,GAAG6Z,MAAM,CAAC7Z,GAAG,CAAC;MAClB;MAED4M,GAAG,CAACqO,IAAI,CAAC,GAAGjb,GAAG;MACf,OAAO4M,GAAG;IACX,CAAA,EAAE,CAAE,CAAA,CAAC;IACN;AACA;AACA;;IAEA,SAASojB,SAAS,GAAG;MACnB,OAAO,QAAQ,IAAI5pB,OAAO,CAACouB,WAAW,GAAGrN,OAAO,CAAC/gB,OAAO,CAACouB,WAAW,CAAChF,MAAM,CAAC,GAAGkD,GAAG,CAAC4B,MAAM,CAAC5c,OAAO,CAAC6c,MAAM,CAACK,EAAE,CAAC;IAC7G;IACD;AACA;AACA;AACA;AACA;;IAGA,SAAS9E,UAAU,CAACnH,IAAI,EAAE;MACxB,IAAIzkB,IAAI,GAAG,IAAI,CAACqiB,SAAS;QACrByJ,SAAS,GAAG,IAAI,CAACA,SAAS;MAE9B,IAAIA,SAAS,EAAE;QACb,IAAIpX,CAAC,GAAG,IAAI,CAACqX,KAAK;QAClB,IAAI4E,SAAS,GAAG,QAAQ,IAAIjc,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,MAAM,GAAGA,CAAC,CAAC;QACnD,IAAIyZ,MAAM,GAAG,IAAI,CAAC9sB,MAAM,CAACsvB,SAAS,EAAE,KAAK,CAAC,CAACtvB,MAAM,CAACrB,IAAI,EAAE,UAAU,CAAC;QACnEykB,IAAI,CAAC,CAAC,CAAC,GAAG0J,MAAM,GAAG1J,IAAI,CAAC,CAAC,CAAC,CAAC3nB,KAAK,CAAC,IAAI,CAAC,CAACF,IAAI,CAAC,IAAI,GAAGuxB,MAAM,CAAC;QAC1D1J,IAAI,CAACnjB,IAAI,CAACqvB,SAAS,GAAG,IAAI,GAAG9Z,MAAM,CAAC3U,OAAO,CAAC4oB,QAAQ,CAAC,IAAI,CAACW,IAAI,CAAC,GAAG,SAAS,CAAC;MAChF,CAAG,MAAM;QACLhH,IAAI,CAAC,CAAC,CAAC,GAAGmM,OAAO,EAAE,GAAG5wB,IAAI,GAAG,GAAG,GAAGykB,IAAI,CAAC,CAAC,CAAC;MAC3C;IACF;IAED,SAASmM,OAAO,GAAG;MACjB,IAAI1uB,OAAO,CAACouB,WAAW,CAACO,QAAQ,EAAE;QAChC,OAAO,EAAE;MACV;MAED,OAAO,IAAIzK,IAAI,EAAE,CAAC0K,WAAW,EAAE,GAAG,GAAG;IACtC;IACD;AACA;AACA;;IAGA,SAASnyB,GAAG,GAAG;MACb,OAAO6U,OAAO,CAAC6c,MAAM,CAACU,KAAK,CAACphB,IAAI,CAACqQ,MAAM,CAAChL,KAAK,CAACrF,IAAI,EAAEjS,SAAS,CAAC,GAAG,IAAI,CAAC;IACvE;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAAS2uB,IAAI,CAACD,UAAU,EAAE;MACxB,IAAIA,UAAU,EAAE;QACd5Y,OAAO,CAACgX,GAAG,CAACoD,KAAK,GAAGxB,UAAU;MAClC,CAAG,MAAM;QACT;QACA;QACI,OAAO5Y,OAAO,CAACgX,GAAG,CAACoD,KAAK;MACzB;IACF;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAASnB,IAAI,GAAG;MACd,OAAOjZ,OAAO,CAACgX,GAAG,CAACoD,KAAK;IACzB;IACD;AACA;AACA;AACA;AACA;AACA;;IAGA,SAAS1B,IAAI,CAACjK,KAAK,EAAE;MACnBA,KAAK,CAACqO,WAAW,GAAG,EAAE;MACtB,IAAIrzB,IAAI,GAAGzB,MAAM,CAACyB,IAAI,CAACiF,OAAO,CAACouB,WAAW,CAAC;MAE3C,KAAK,IAAI/zB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,IAAI,CAACU,MAAM,EAAEpB,CAAC,EAAE,EAAE;QACpC0lB,KAAK,CAACqO,WAAW,CAACrzB,IAAI,CAACV,CAAC,CAAC,CAAC,GAAG2F,OAAO,CAACouB,WAAW,CAACrzB,IAAI,CAACV,CAAC,CAAC,CAAC;MAC1D;IACF;IAEDsa,MAAA,CAAA3U,OAAA,GAAiB5B,aAAmB,EAAA,CAAC4B,OAAO,CAAC;IAC7C,IAAIgpB,UAAU,GAAGrU,MAAM,CAAC3U,OAAO,CAACgpB,UAAU;IAC1C;AACA;AACA;;IAEAA,UAAU,CAACtN,CAAC,GAAG,UAAUmQ,CAAC,EAAE;MAC1B,IAAI,CAACuC,WAAW,CAAChF,MAAM,GAAG,IAAI,CAACQ,SAAS;MACxC,OAAOnc,IAAI,CAACqhB,OAAO,CAACjD,CAAC,EAAE,IAAI,CAACuC,WAAW,CAAC,CACrCxzB,KAAK,CAAC,IAAI,CAAC,CACXJ,GAAG,CAAC,UAAUotB,GAAG,EAAE;QAAE,OAAOA,GAAG,CAACmH,IAAI,EAAE;OAAG,CAAC,CAC1Cr0B,IAAI,CAAC,GAAG,CAAC;IACd,CAAC;IACD;AACA;AACA;;IAGAsuB,UAAU,CAACgG,CAAC,GAAG,UAAUnD,CAAC,EAAE;MAC1B,IAAI,CAACuC,WAAW,CAAChF,MAAM,GAAG,IAAI,CAACQ,SAAS;MACxC,OAAOnc,IAAI,CAACqhB,OAAO,CAACjD,CAAC,EAAE,IAAI,CAACuC,WAAW,CAAC;KACzC;;;;;EC7KD;AACA;AACA;AACA;EACA,IAAI,OAAO9c,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACtK,IAAI,KAAK,UAAU,IAAIsK,OAAO,CAAC2d,OAAO,KAAK,IAAI,IAAI3d,OAAO,CAACqZ,MAAM,EAAE;IAC/GhW,MAAA,CAAA3U,OAAA,GAAiBjD,gBAAuB;EAC1C,CAAC,MAAM;IACL4X,MAAA,CAAA3U,OAAA,GAAiBhD,aAAoB;EACvC;;;ACRa,MAAA+iB,KAAA,GAAQmP,QAAQ,YAAY,CAAA;ACMlC,SAASC,eAAepJ,GAAqB,EAAA;EAC9C,IAAA;IACK,OAAAqJ,kBAAA,CAAmBrJ,GAAG,CAAK,IAAAA,GAAA;WAC3B/qB,GAAP,EAAA;IACA,MAAM,IAAIqB,KAAM,2DAAmDrB,IAAI4C,OAAS,EAAA;EAClF;AACF;AAEA,SAASyxB,gBAAgBC,QAA2B,EAAA;EAClD,MAAMC,YAAe,GAAA,CACnBC,UAAW,CAAAnf,IAAA,CAAK3V,IAAK,CAAA40B,QAAA,EAAU,kBAAkB,CAAC,CAAA,EAClDE,UAAW,CAAAnf,IAAA,CAAK3V,IAAK,CAAA40B,QAAA,EAAU,kBAAkB,CAAC,CAAA,EAClDG,qBAAqBH,QAAQ,CAAA,CAC/B;EAEO,OAAAC,YAAA,CAAajC,KAAKvM,OAAO,CAAA;AAClC;AAEA,SAASqO,kBAAA,CAAmBE,QAAkB,EAAgC;EAAA,IAAhCI,UAAA,uEAAa,CAAmB;EACxE,IAAAL,eAAA,CAAgBC,QAAQ,CAAG,EAAA;IACtB,OAAAA,QAAA;EACT;EAEA,MAAMK,SAAY,GAAAtf,IAAA,CAAKzL,OAAQ,CAAA0qB,QAAA,EAAU,IAAI,CAAA;EACzC,IAAAK,SAAA,KAAcL,QAAY,IAAAI,UAAA,GAAa,EAAI,EAAA;IAEtC,OAAA,KAAA;EACT;EAEO,OAAAN,kBAAA,CAAmBO,SAAW,EAAAD,UAAA,GAAa,CAAC,CAAA;AACrD;AAEA,SAASD,qBAAqBH,QAA2B,EAAA;EACnD,IAAA;IACI,MAAAzI,OAAA,GAAUT,GAAGU,YAAa,CAAAzW,IAAA,CAAK3V,KAAK40B,QAAU,EAAA,aAAa,GAAG,MAAM,CAAA;IACpE,MAAAM,UAAA,GAAa1iB,IAAK,CAAAG,KAAA,CAAMwZ,OAAO,CAAA;IAC/B,MAAAgJ,MAAA,GAAS9O,OAAQ,CAAA6O,UAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAAA,UAAA,CAAYE,IAAI,CAAA;IACvC,IAAID,MAAQ,EAAA;MACV9P,KAAA,CAAM,qCAAqCuP,QAAQ,CAAA;IACrD;IACO,OAAAO,MAAA;WACA70B,GAAP,EAAA;IACO,OAAA,KAAA;EACT;AACF;AAEA,SAASw0B,WAAW5I,QAA2B,EAAA;EACtC,OAAAR,EAAA,CAAGC,WAAWO,QAAQ,CAAA;AAC/B;AC1CgB,SAAAmJ,YAAA,GAA2D;EAAA,IAA9CvlB,OAA4B,uEAAA,EAAkB;EACrE,IAAA,OAAO8G,YAAY,QAAU,EAAA;IACzB,MAAA,IAAIjV,MAAM,2DAA2D,CAAA;EAC7E;EAEM,MAAA;IAEJ0pB,GAAM,GAAAzU,OAAA,CAAQgX,GAAI,CAAA0H,gBAAA,IAAoB1e,QAAQyU,GAAI,EAAA;IAClDpC,MAAS,GAAA,KAAA;IACTZ,UAAa,GAAA,YAAA;IACbjc,SAAA;IACAF,OAAA;IACAmP,KAAA,GAAQga,aAAaE,oBAAqB;EACxC,CAAA,GAAAzlB,OAAA;EAEJ,IAAI1D,aAAaF,OAAS,EAAA;IACxB,OAAOye,aAAa;MAACve,SAAA;MAAWF;MAASmc,UAAY;MAAAY,MAAA;MAAQ5N;KAAM,CAAA;EACrE;EAEM,MAAAma,OAAA,GAAUf,eAAepJ,GAAG,CAAA;EAClC,MAAM;IAAC5sB;EAAM,CAAA,GAAI2sB,gBAAiB,CAAAoK,OAAO,KAAK,CAAA,CAAC;EAC/C,IAAI,CAAC/2B,MAAQ,EAAA;IACL,MAAA,IAAIkD,MAAM,qCAAqC,CAAA;EACvD;EAEM,MAAA8zB,SAAA,GAAA,CAAYh3B,MAAQ,IAAA,IAAA,GAAA,KAAA,CAAA,GAAAA,MAAA,CAAAi3B,GAAA,KAAO,EAAC;EAClC,IAAI,CAACD,SAAA,CAAUrpB,SAAa,IAAA,CAACqpB,UAAUvpB,OAAS,EAAA;IACxC,MAAA,IAAIvK,MAAM,6DAA6D,CAAA;EAC/E;EAEA,OAAOgpB,YAAa,CAAA;IAClBve,WAAWqpB,SAAU,CAAArpB,SAAA;IACrBF,SAASupB,SAAU,CAAAvpB,OAAA;IACnBmc,UAAA;IACAY,MAAA;IACA5N;EAAA,CACD,CAAA;AACH;AAQAga,YAAA,CAAaE,uBAAuB,MAA0B,KAAA,CAAA;"}